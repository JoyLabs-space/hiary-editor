(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{21585:()=>{},29147:(e,t,n)=>{Promise.resolve().then(n.bind(n,30959))},30959:(e,t,n)=>{"use strict";n.d(t,{NotionEditor:()=>to});var s=n(95155),i=n(12115),l=n(75109),r=n(83490),o=n(81891),a=n(17148),c=n(66377),d=n(54548),u=n(50099),h=n(4652),x=n(27192),p=n(24927),j=n(84109),g=n(87058),m=n(70504),f=n(16938),b=n(54643),v=n(3454),w=n(49020),y=n(55892);n(89054),n(68922),n(15736),n(49998),n(6604),n(9162),n(32078);var k=n(34078),A=n(85750),C=n(78241),E=n(79314),L=n(60548),N=n(79153),R=n(64108);n(98704);let S=e=>{let{config:t,...n}=e,{getSlashMenuItems:l}=(0,E.J)(t),[r,o]=i.useState(!1);return i.useEffect(()=>{let e=()=>o(document.body.classList.contains("code-dark"));e();let t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,s.jsx)(C.WP,{char:"/",pluginKey:"slashDropdownMenu",decorationClass:"tiptap-slash-decoration",decorationContent:"Filter...",selector:"tiptap-slash-dropdown-menu",items:e=>{let{query:t,editor:n}=e;return(0,C.nL)(l(n),t)},...n,children:e=>(0,s.jsx)(O,{...e,config:t,isDark:r})})},M=e=>{let{item:t,isSelected:n,onSelect:l,isDark:r}=e,o=i.useRef(null),[a,c]=i.useState(!1);i.useEffect(()=>{let e=document.querySelector('[data-selector="tiptap-slash-dropdown-menu"]');if(!o.current||!n||!e)return;let t=(0,A.aI)(o.current,e);"top"===t?o.current.scrollIntoView(!0):"bottom"===t&&o.current.scrollIntoView(!1)},[n]);let d=t.badge,u=r?a?"#000000":"#ffffff":void 0;return(0,s.jsxs)(L.$n,{ref:o,"data-style":"ghost","data-active-state":n?"on":"off",onClick:l,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{color:u},children:[d&&(0,s.jsx)(d,{className:"tiptap-button-icon",style:{color:u,fill:u}}),(0,s.jsx)("div",{className:"tiptap-button-text",style:{color:u},children:t.title})]})},O=e=>{let{items:t,selectedIndex:n,onSelect:l,config:r,isDark:o}=e,a=i.useMemo(()=>{let e=[];if((null==r?void 0:r.showGroups)===!1)return t.forEach((t,i)=>{e.push((0,s.jsx)(M,{item:t,isSelected:i===n,onSelect:()=>l(t),isDark:o},"item-".concat(i,"-").concat(t.title)))}),e;let i={};return t.forEach((e,t)=>{let n=e.group||"";i[n]||(i[n]={items:[],indices:[]}),i[n].items.push(e),i[n].indices.push(t)}),Object.entries(i).forEach((t,i)=>{let[r,a]=t;i>0&&e.push((0,s.jsx)(N.w,{orientation:"horizontal"},"separator-".concat(i)));let c=a.items.map((e,t)=>{let i=a.indices[t];return(0,s.jsx)(M,{item:e,isSelected:i===n,onSelect:()=>l(e),isDark:o},"item-".concat(i,"-").concat(e.title))});r?e.push((0,s.jsxs)(R.Vt,{children:[(0,s.jsx)(R.kF,{style:{color:o?"#8b949e":void 0},children:r}),(0,s.jsx)(L.e2,{children:c})]},"group-".concat(i,"-").concat(r))):e.push(...c)}),e},[t,n,l,null==r?void 0:r.showGroups,o]);return a.length?(0,s.jsx)(R.Zp,{className:"tiptap-slash-card",style:{maxHeight:"var(--suggestion-menu-max-height)",backgroundColor:o?"#1e1e1e":void 0,borderColor:o?"#30363d":void 0,color:o?"#c9d1d9":void 0},children:(0,s.jsx)(R.bw,{className:"tiptap-slash-card-body",style:{color:o?"#c9d1d9":void 0},children:a})}):null};var _=n(98234),I=n(31407),T=n(77886),D=n(44291),V=n(56006),G=n(98816),H=n(69290),$=n(16347),F=n(78156),Q=n(24106),U=n(64825),W=n(58006);n(21585),n(48080);var Y=n(87691),B=n(68373),z=n(88682),J=n(68447),K=n(25736),P=n(48916),Z=n(98249),X=n(41200),q=n(62051),ee=n(85142),et=n(39915),en=n(9740),es=n(41819),ei=n(51277),el=n(78116),er=n(53344),eo=n(37030),ea=n(37040),ec=n(47704),ed=n(88007),eu=n(44350),eh=n(80999),ex=n(5392),ep=n(56280),ej=n(69386),eg=n(51033),em=n(29630),ef=n(64187),eb=n(51963),ev=n(91047),ew=n(62520),ey=n(376);let ek={MAIN:"main",HIGHLIGHTER:"highlighter",LINK:"link"};function eA(){return(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(q.Hc,{align:"left"}),(0,s.jsx)(q.Hc,{align:"center"}),(0,s.jsx)(q.Hc,{align:"right"}),(0,s.jsx)(q.Hc,{align:"justify"})]})}function eC(){return(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(X.GY,{type:"superscript"}),(0,s.jsx)(X.GY,{type:"subscript"})]})}function eE(){return(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(X.GY,{type:"bold"}),(0,s.jsx)(X.GY,{type:"italic"}),(0,s.jsx)(X.GY,{type:"strike"}),(0,s.jsx)(X.GY,{type:"code"})]})}function eL(){let{recentColors:e,isInitialized:t,addRecentColor:n}=(0,el.ZZ)();return(0,s.jsxs)(ep.lv,{children:[(0,s.jsx)(ep.nV,{asChild:!0,children:(0,s.jsxs)(L.$n,{"data-style":"ghost",children:[(0,s.jsx)(eu.M,{className:"tiptap-button-icon"}),(0,s.jsx)("span",{className:"tiptap-button-text",children:"Color"}),(0,s.jsx)(ex.h,{}),(0,s.jsx)(eg.v,{className:"tiptap-button-icon"})]})}),(0,s.jsx)(ep.dc,{children:(0,s.jsx)(ep.M5,{children:(0,s.jsx)(R.Zp,{children:(0,s.jsxs)(R.bw,{children:[t&&0!==e.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(R.Vt,{children:[(0,s.jsx)(R.kF,{children:"Recent colors"}),(0,s.jsx)(L.e2,{children:e.map(e=>(0,s.jsx)(ep._2,{asChild:!0,children:"text"===e.type?(0,s.jsx)(er.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:s}=e;return n({type:"text",label:s,value:t})}}):(0,s.jsx)(eo.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:s}=e;return n({type:"highlight",label:s,value:t})}})},"".concat(e.type,"-").concat(e.value)))})]}),(0,s.jsx)(N.w,{orientation:"horizontal"})]}):null,(0,s.jsxs)(R.Vt,{children:[(0,s.jsx)(R.kF,{children:"Text color"}),(0,s.jsx)(L.e2,{children:er.VF.map(e=>(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(er.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:s}=e;return n({type:"text",label:s,value:t})}})},e.value))})]}),(0,s.jsx)(N.w,{orientation:"horizontal"}),(0,s.jsxs)(R.Vt,{children:[(0,s.jsx)(R.kF,{children:"Highlight color"}),(0,s.jsx)(L.e2,{children:eo.um.map(e=>(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(eo.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:s}=e;return n({type:"highlight",label:s,value:t})}})},e.value))})]})]})})})})]})}function eN(){return(0,s.jsxs)(ep.lv,{children:[(0,s.jsx)(ep.nV,{asChild:!0,children:(0,s.jsxs)(L.$n,{"data-style":"ghost",children:[(0,s.jsx)(eh.h,{className:"tiptap-button-icon"}),(0,s.jsx)("span",{className:"tiptap-button-text",children:"Turn into"}),(0,s.jsx)(ex.h,{}),(0,s.jsx)(eg.v,{className:"tiptap-button-icon"})]})}),(0,s.jsx)(ep.M5,{children:(0,s.jsx)(ei.yF,{})})]})}function eR(e){let{editor:t}=e,{hasAnyActionGroups:n,hasColorActions:i,hasTransformActions:l,hasResetFormatting:r}=(0,_.T)(t),o=(0,Y.a)();return(0,s.jsx)(R.Zp,{children:(0,s.jsxs)(R.bw,{children:[(0,s.jsxs)(R.Vt,{children:[(0,s.jsx)(R.kF,{children:(0,A.KW)(t)}),(0,s.jsxs)(L.e2,{children:[i&&(0,s.jsx)(eL,{}),l&&(0,s.jsx)(eN,{}),r&&(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(et.a6,{text:"Reset formatting"})})]})]}),n&&(0,s.jsx)(N.w,{orientation:"horizontal"}),(0,s.jsxs)(L.e2,{children:[(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(ec.UM,{text:"Duplicate node",showShortcut:!o})}),(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(ed.TN,{text:"Copy to clipboard",showShortcut:!o})})]}),(0,s.jsx)(N.w,{orientation:"horizontal"}),(0,s.jsx)(L.e2,{children:(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(ea.mG,{text:"Ask AI",showShortcut:!o})})}),(0,s.jsx)(N.w,{orientation:"horizontal"}),(0,s.jsx)(L.e2,{children:(0,s.jsx)(ep._2,{asChild:!0,children:(0,s.jsx)(en.GJ,{text:"Delete",showShortcut:!o})})})]})})}function eS(e){let{editor:t}=e;return(0,s.jsxs)(ep.rI,{children:[(0,s.jsx)(ep.ty,{asChild:!0,children:(0,s.jsx)(L.$n,{"data-style":"ghost","data-appearance":"subdued",children:(0,s.jsx)(eb.F,{className:"tiptap-button-icon"})})}),(0,s.jsx)(ep.SQ,{portal:!0,children:(0,s.jsx)(eR,{editor:t})})]})}function eM(e){let{view:t,isMobile:n,onViewChange:l}=e,r=t.id;return n?t.mobileButton?i.cloneElement(t.mobileButton(()=>l(r)),{key:t.id}):(0,s.jsx)(L.$n,{onClick:()=>l(r),children:t.icon},t.id):t.desktopComponent?i.cloneElement(t.desktopComponent,{key:t.id}):null}function eO(e){let{toolbarViews:t,isMobile:n,onViewChange:i}=e;return(0,s.jsx)(s.Fragment,{children:Object.values(t).map(e=>(0,s.jsx)(eM,{view:e,isMobile:n,onViewChange:i},e.id))})}function e_(e){let{editor:t,isMobile:n,toolbarViews:i,onViewChange:l}=e,r=function(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state;return!t.empty}(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(ee.lm,{}),(0,s.jsx)(eS,{editor:t})]}),(0,s.jsx)(ev.lR,{}),(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(ey.uC,{direction:"down"}),(0,s.jsx)(ey.uC,{direction:"up"})]}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.lR,{}),(0,s.jsx)(ev.$Q,{children:(0,s.jsx)(es.md,{portal:!0})}),(0,s.jsx)(ev.lR,{}),(0,s.jsx)(eE,{}),(0,s.jsx)(ev.lR,{}),(0,s.jsx)(eO,{toolbarViews:i,isMobile:n,onViewChange:l}),(0,s.jsx)(ev.lR,{}),(0,s.jsx)(eC,{}),(0,s.jsx)(ev.lR,{}),(0,s.jsx)(eA,{}),(0,s.jsx)(ev.lR,{}),(0,s.jsx)(ev.$Q,{children:(0,s.jsx)(P.lR,{text:"Add"})})]})]})}function eI(e){let{view:t,onBack:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.$Q,{children:(0,s.jsxs)(L.$n,{"data-style":"ghost",onClick:n,children:[(0,s.jsx)(ej.A,{className:"tiptap-button-icon"}),t.icon]})}),(0,s.jsx)(ev.lR,{fixed:!0}),t.content]})}function eT(e){var t,n;let{editor:l}=e,{editor:r}=(0,J.l)(l),o=(0,Y.a)(480),a=i.useRef(null),c=function(e){let[t,n]=i.useState(ek.MAIN);return i.useEffect(()=>{e||t===ek.MAIN||n(ek.MAIN)},[e,t]),{viewId:t,setViewId:n,isMainView:t===ek.MAIN,showMainView:()=>n(ek.MAIN),showView:e=>n(e)}}(o),d=(0,B.l)(),u=(0,ew.b)(),h=(0,z.k)({editor:r,overlayHeight:null!=(n=null==(t=a.current)?void 0:t.getBoundingClientRect().height)?n:0}),x=i.useMemo(()=>({[ek.HIGHLIGHTER]:{id:ek.HIGHLIGHTER,title:"Text Highlighter",icon:(0,s.jsx)(em.F,{className:"tiptap-button-icon"}),content:(0,s.jsx)(K.kY,{}),mobileButton:e=>(0,s.jsx)(K.Hl,{onClick:e}),desktopComponent:(0,s.jsx)(K.Fy,{})},[ek.LINK]:{id:ek.LINK,title:"Link Editor",icon:(0,s.jsx)(ef.q,{className:"tiptap-button-icon"}),content:(0,s.jsx)(Z.s8,{}),mobileButton:e=>(0,s.jsx)(Z.z9,{onClick:e}),desktopComponent:(0,s.jsx)(Z.Op,{})}}),[]),p=c.isMainView?null:x[c.viewId];return o&&r&&r.isEditable?(0,s.jsx)(ev.M7,{ref:a,style:{...u&&o?{opacity:0,transition:"opacity 0.1s ease-in-out"}:{},...o?{bottom:"calc(100% - ".concat(d.height-h.y,"px)")}:{}},children:c.isMainView?(0,s.jsx)(e_,{editor:r,isMobile:o,toolbarViews:x,onViewChange:c.showView}):p&&(0,s.jsx)(eI,{view:p,onBack:c.showMainView})}):null}var eD=n(4701),eV=n(10889),eG=n(12467),eH=n(91069);function e$(){let{editor:e}=(0,J.l)(),t=(0,Y.a)(480),{lockDragHandle:n,aiGenerationActive:l,commentInputVisible:r}=(0,b.W)(e),[o,a]=i.useState(!1);return(i.useEffect(()=>{if(!e)return;let t=()=>{let{state:t}=e,{selection:n}=t,s=(0,A.$9)(e,n)&&(!(0,eD.BQ)(n)||(0,eD.BQ)(n)&&"image"===n.node.type.name);if(r||l)return void a(!1);a(s)};return t(),e.on("selectionUpdate",t),()=>{e.off("selectionUpdate",t)}},[e,l,r]),n||t)?null:(0,s.jsx)(eH.L,{shouldShow:o,children:(0,s.jsxs)(ev.M7,{variant:"floating",children:[(0,s.jsx)(ev.$Q,{}),(0,s.jsx)(ev.lR,{fixed:!0}),(0,s.jsx)(ev.$Q,{children:(0,s.jsx)(ei.TX,{hideWhenUnavailable:!0})}),(0,s.jsx)(ev.lR,{}),(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(X.GY,{type:"bold",hideWhenUnavailable:!0}),(0,s.jsx)(X.GY,{type:"italic",hideWhenUnavailable:!0}),(0,s.jsx)(X.GY,{type:"strike",hideWhenUnavailable:!0}),(0,s.jsx)(X.GY,{type:"code",hideWhenUnavailable:!0})]}),(0,s.jsx)(ev.lR,{}),(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(Z.Op,{autoOpenOnLinkActive:!1,hideWhenUnavailable:!0}),(0,s.jsx)(el.iS,{hideWhenUnavailable:!0}),(0,s.jsx)(eV.v,{editor:e})]}),(0,s.jsx)(eF,{hideWhenUnavailable:!0})]})})}function eF(e){let{editor:t,hideWhenUnavailable:n=!1,...l}=e,{editor:r}=(0,J.l)(t),[o,a]=i.useState(!1);return(i.useEffect(()=>{if(!r)return;let e=()=>{a(function(e){let{editor:t,hideWhenUnavailable:n}=e;if(!t)return!1;if(n&&!t.isActive("code")){if(!t)return!1;let e=["left","center","right","justify"].some(e=>(0,q.Xd)(t,e));return["superscript","subscript"].some(e=>(0,X.sT)(t,e))||e}return!!(null==t?void 0:t.isEditable)}({editor:r,hideWhenUnavailable:n}))};return e(),r.on("selectionUpdate",e),()=>{r.off("selectionUpdate",e)}},[r,n]),o&&r&&r.isEditable)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.lR,{}),(0,s.jsx)(ev.$Q,{children:(0,s.jsxs)(eG.AM,{children:[(0,s.jsx)(eG.Wv,{asChild:!0,children:(0,s.jsx)(L.$n,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,tooltip:"More options",...l,children:(0,s.jsx)(eb.F,{className:"tiptap-button-icon"})})}),(0,s.jsx)(eG.hl,{side:"top",align:"end",alignOffset:4,sideOffset:4,asChild:!0,children:(0,s.jsxs)(ev.M7,{variant:"floating",tabIndex:0,children:[(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(X.GY,{type:"superscript"}),(0,s.jsx)(X.GY,{type:"subscript"})]}),(0,s.jsx)(ev.lR,{}),(0,s.jsxs)(ev.$Q,{children:[(0,s.jsx)(q.Hc,{align:"left"}),(0,s.jsx)(q.Hc,{align:"center"}),(0,s.jsx)(q.Hc,{align:"right"}),(0,s.jsx)(q.Hc,{align:"justify"})]}),(0,s.jsx)(ev.lR,{})]})})]})})]}):null}var eQ=n(8793),eU=n(46833);n(99067);var eW=n(73007),eY=n(54923),eB=n(73709),ez=n(28033),eJ=n(5625),eK=n(78084),eP=n(44691),eZ=n(82348),eX=n(26278),eq=n(2091),e0=n(78273),e1=n(29514),e2=n(90528),e8=n(63859),e4=n(91870),e9=n(65166),e7=n(11882),e5=n(46203),e3=n(18496),e6=n(3312),te=n(77097),tt=n(82647),tn=n(71776),ts=n(72550);function ti(e){let{text:t="Connecting..."}=e;return(0,s.jsx)("div",{className:"spinner-container",children:(0,s.jsxs)("div",{className:"spinner-content",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("div",{className:"spinner-loading-text",children:t})]})})}function tl(){let{editor:e}=i.useContext(l.pl),{aiGenerationIsLoading:t,aiGenerationIsSelection:n,aiGenerationHasMessage:r}=(0,b.W)(e),{modalProps:o}=(0,T.R)(),[a,c]=i.useState({isOpen:!1,content:"",position:null});i.useEffect(()=>{let e=e=>{let{content:t,position:n}=e.detail;c({isOpen:!0,content:t,position:n})};return window.addEventListener("show-paste-modal",e),()=>{window.removeEventListener("show-paste-modal",e)}},[]);let d=i.useCallback(()=>{c({isOpen:!1,content:"",position:null})},[]);i.useEffect(()=>{e&&!t&&n&&r&&(e.commands.resetUiState(),e.commands.setCodeBlock(),e.commands.toggleCodeBlock())},[r,t,n,e]);let u=i.useCallback(()=>{if(e)try{return e.getJSON()}catch(e){console.error("에디터 내용 추출 중 오류 발생:",e)}},[e]),h=i.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),x=i.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t),e.setEditable(!1)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),p=i.useCallback((e,t)=>{window.parent&&window.parent!==window&&(console.log("DEBUG - sendToParent",t),window.parent.postMessage({type:"EDITOR_JSON_DATA",data:t,source:"notion-like-editor",payload:t},"*"))},[]);return(i.useEffect(()=>{let e=e=>{if(console.log(e),e.data&&e.data.type)switch(e.data.type){case"EDITOR_JSON_DATA":let t=u();t&&p("documentData",t);break;case"SET_EDITOR_JSON_DATA":let n=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA",n),h(n);break;case"SET_EDITOR_JSON_DATA_READ":let s=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA_FROM_PARENT",s),x(s);break;case"change-color":{let t="dark"===e.data.color;document.body.classList.toggle("code-dark",t),console.log(t)}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[u,h,x,p]),i.useEffect(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),window.parent.postMessage({type:"SAVE_PRESSED"},"*")),window.parent.postMessage({type:"IFRAME_KEYDOWN"},"*")};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),e)?(0,s.jsxs)(s.Fragment,{children:[o&&(0,s.jsx)(T.I,{...o}),(0,s.jsxs)(l.$Z,{editor:e,role:"presentation",className:"notion-like-editor-content",style:{cursor:e.view.dragging?"grabbing":"auto"},spellCheck:!1,children:[(0,s.jsx)(eT,{}),(0,s.jsx)(_.t,{}),(0,s.jsx)(I.ym,{}),(0,s.jsx)(k.r,{}),(0,s.jsx)(S,{}),(0,s.jsx)(e$,{}),(0,s.jsx)(U.U,{editor:e}),(0,s.jsx)(ts.D,{editor:e})]}),(0,s.jsx)(D.r,{editor:e,isOpen:a.isOpen,onClose:d,pastedContent:a.content,position:a.position})]}):null}function tr(e){let{placeholder:t="Start writing..."}=e,n=[r.W.configure({horizontalRule:!1,dropcursor:{width:2},link:{openOnClick:!1}}),v.d,j.n.configure({types:["heading","paragraph"]}),d.Or.configure({placeholder:t,emptyNodeClass:"is-empty with-slash"}),f.zT.configure({emojis:f.bH.filter(e=>!e.name.includes("regional")),forceFallbackImages:!0}),g.Rs.configure({inlineOptions:{onClick:(e,t)=>{if(!i)return;let n=prompt("수식을 수정하세요:",e.attrs.latex);null!==n&&i.chain().setNodeSelection(t).updateInlineMath({latex:n}).focus().run()}},blockOptions:{onClick:(e,t)=>{if(!i)return;let n=prompt("수식을 수정하세요:",e.attrs.latex);null!==n&&i.chain().setNodeSelection(t).updateBlockMath({latex:n}).focus().run()}},katexOptions:{throwOnError:!1,macros:{"\\R":"\\mathbb{R}","\\N":"\\mathbb{N}","\\Z":"\\mathbb{Z}","\\Q":"\\mathbb{Q}","\\C":"\\mathbb{C}"}}}),x.Z,p.E,c.Q1,c.xJ,a._0,a.L2.configure({nested:!0}),h.f4.configure({multicolor:!0}),d.LN,o._V,y.t.configure({accept:"image/*",maxSize:F.w3,limit:3,upload:F.f5,onError:e=>console.error("Upload failed:",e)}),m.p,u.o5,w.y,Q.A,eQ.A.configure({lowlight:eU.l,defaultLanguage:"javascript"}),tn.Q,W.R0.configure({table:{resizable:!0}}),eW.A],i=(0,l.hG)({immediatelyRender:!1,shouldRerenderOnTransaction:!1,editorProps:{attributes:{class:"notion-like-editor"},handlePaste(e,t){var n,s;let i=t.clipboardData;if(!i)return!1;let l=[];if(i.files&&i.files.length>0)for(let e=0;e<i.files.length;e++){let t=i.files[e];t&&(null==(n=t.type)?void 0:n.startsWith("image/"))&&l.push(t)}else if(i.items&&i.items.length>0)for(let e=0;e<i.items.length;e++){let t=i.items[e];if("file"===t.kind){let e=t.getAsFile();e&&(null==(s=e.type)?void 0:s.startsWith("image/"))&&l.push(e)}}return 0!==l.length&&(t.preventDefault(),l.forEach(async t=>{try{var n;let s=await (0,F.f5)(t),{state:i}=e,l=i.schema.nodes.image.create({src:s,alt:(null==(n=t.name)?void 0:n.replace(/\.[^/.]+$/,""))||"image",title:t.name||"image"}),r=i.tr.replaceSelectionWith(l).scrollIntoView();e.dispatch(r)}catch(e){console.error("Paste image upload failed:",e)}}),!0)}},extensions:n});return i?(0,s.jsx)("div",{className:"notion-like-editor-wrapper",children:(0,s.jsx)(l.pl.Provider,{value:{editor:i},children:(0,s.jsx)(tl,{})})}):(0,s.jsx)(ti,{})}function to(e){let{room:t,placeholder:n="Start writing..."}=e;return(0,s.jsx)(G.vu,{children:(0,s.jsx)(V.Dv,{children:(0,s.jsx)(H.VK,{room:t,children:(0,s.jsx)($.KH,{children:(0,s.jsx)(ta,{placeholder:n})})})})})}function ta(e){let{placeholder:t}=e,{provider:n,hasCollab:i}=(0,H.Hb)(),{aiToken:l,hasAi:r}=(0,$.On)();return i&&!n||r&&!l?(0,s.jsx)(ti,{}):(0,s.jsx)(tr,{placeholder:t,aiToken:l})}eU.l.registerLanguage("css",eB.A),eU.l.registerLanguage("js",ez.A),eU.l.registerLanguage("javascript",ez.A),eU.l.registerLanguage("jsx",ez.A),eU.l.registerLanguage("ts",eJ.A),eU.l.registerLanguage("tsx",eJ.A),eU.l.registerLanguage("typescript",eJ.A),eU.l.registerLanguage("json",eZ.A),eU.l.registerLanguage("html",eY.A),eU.l.registerLanguage("xml",eY.A),eU.l.registerLanguage("python",eK.A),eU.l.registerLanguage("cpp",eP.A),eU.l.registerLanguage("c",eq.A),eU.l.registerLanguage("java",eX.A),eU.l.registerLanguage("csharp",e0.A),eU.l.registerLanguage("sql",e1.A),eU.l.registerLanguage("bash",e2.A),eU.l.registerLanguage("markdown",e8.A),eU.l.registerLanguage("php",e4.A),eU.l.registerLanguage("ruby",e9.A),eU.l.registerLanguage("scss",e7.A),eU.l.registerLanguage("less",e5.A),eU.l.registerLanguage("go",e3.A),eU.l.registerLanguage("rust",e6.A),eU.l.registerLanguage("swift",te.A),eU.l.registerLanguage("kotlin",tt.A)}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{21585:()=>{},29147:(e,t,i)=>{Promise.resolve().then(i.bind(i,86168))},86168:(e,t,i)=>{"use strict";i.d(t,{NotionEditor:()=>tC});var n=i(95155),s=i(12115),l=i(75109),a=i(83490),o=i(81891),r=i(17148),c=i(66377),d=i(54548),u=i(50099),h=i(4652),g=i(27192),p=i(24927),x=i(84109),j=i(87058),m=i(70504),b=i(16938),f=i(54643),k=i(3454),w=i(49020),v=i(55892);i(89054),i(68922),i(15736),i(49998),i(6604),i(9162),i(32078);var y=i(34078),A=i(85750),C=i(78241),E=i(590),_=i(70842),R=i(9460),L=i(8562),S=i(51560),N=i(20887),I=i(45479),H=i(1944),M=i(57390),O=i(74927),T=i(94785),G=i(78487),V=i(55984),D=i(79432),U=i(34161),Q=i(78156),$=i(5069),F=i(20766),B=i(86921);let z={continue_writing:{title:"Continue Writing",subtext:"Continue writing from the current position",aliases:["continue","write","continue writing","ai"],badge:O.z,group:"AI"},ai_ask_button:{title:"Ask AI",subtext:"Ask AI to generate content",aliases:["ai","ask","generate"],badge:O.z,group:"AI"},text:{title:"Text",subtext:"Regular text paragraph",aliases:["p","paragraph","text"],badge:G.s,group:"Style"},heading_1:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],badge:_.W,group:"Style"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],badge:R.k,group:"Style"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],badge:L.S,group:"Style"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],badge:N.k,group:"Style"},ordered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],badge:I.d,group:"Style"},task_list:{title:"To-do list",subtext:"List with tasks",aliases:["tasklist","task list","todo","checklist"],badge:M.k,group:"Style"},quote:{title:"Blockquote",subtext:"Blockquote block",aliases:["quote","blockquote"],badge:H.h,group:"Style"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],badge:E.I,group:"Style"},mention:{title:"Mention",subtext:"Mention a user or item",aliases:["mention","user","item","tag"],badge:V.e,group:"Insert"},emoji:{title:"Emoji",subtext:"Insert an emoji",aliases:["emoji","emoticon","smiley"],badge:D.y,group:"Insert"},divider:{title:"Separator",subtext:"Horizontal line to separate content",aliases:["hr","horizontalRule","line","separator"],badge:T.Q,group:"Insert"},inline_math:{title:"인라인 수식",subtext:"텍스트 중간에 수식 삽입",aliases:["math","latex","formula","equation","inline"],badge:U.V,group:"Insert"},block_math:{title:"블록 수식",subtext:"독립된 블록으로 수식 삽입",aliases:["math","latex","formula","equation","block"],badge:U.V,group:"Insert"},table:{title:"테이블",subtext:"3x3 테이블 삽입",aliases:["TableKit"],badge:U.V,group:"Insert"},table_add_row:{title:"행 추가(아래)",subtext:"현재 행 아래에 새 행을 추가",aliases:["row","add row","행 추가"],badge:U.V,group:"Insert"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],badge:S.x,group:"Upload"}};var W=i(60548),Y=i(79153),q=i(64108);i(98704);let K=e=>{let{config:t,...i}=e,{getSlashMenuItems:l}=function(e){return{getSlashMenuItems:s.useCallback(t=>{let i=[],n=(null==e?void 0:e.enabledItems)||Object.keys(z),s=(null==e?void 0:e.showGroups)!==!1,l={continue_writing:{check:e=>{let{hasContent:t}=(0,$.Ni)(e);return(0,Q.xU)(e,["ai","aiAdvanced"])&&t},action:e=>{let{editor:t}=e,i=t.chain().focus(),n=(0,$.bQ)({editor:t});null!==n&&i.setNodeSelection(n),i.run();let s=t.chain().focus();"function"==typeof s.aiGenerationShow&&s.aiGenerationShow().run()}},ai_ask_button:{check:e=>(0,Q.xU)(e,["ai","aiAdvanced"]),action:e=>{let{editor:t}=e,i=t.chain().focus(),n=(0,$.bQ)({editor:t});null!==n&&i.setNodeSelection(n),i.run();let s=t.chain().focus();"function"==typeof s.aiGenerationShow&&s.aiGenerationShow().run()}},text:{check:e=>(0,Q.HR)("paragraph",e),action:e=>{let{editor:t}=e;t.chain().focus().setParagraph().run()}},heading_1:{check:e=>(0,Q.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:1}).run()}},heading_2:{check:e=>(0,Q.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:2}).run()}},heading_3:{check:e=>(0,Q.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:3}).run()}},bullet_list:{check:e=>(0,Q.HR)("bulletList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBulletList().run()}},ordered_list:{check:e=>(0,Q.HR)("orderedList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleOrderedList().run()}},task_list:{check:e=>(0,Q.HR)("taskList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleTaskList().run()}},quote:{check:e=>(0,Q.HR)("blockquote",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBlockquote().run()}},code_block:{check:e=>(0,Q.HR)("codeBlock",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleNode("codeBlock","paragraph").run()}},mention:{check:e=>(0,Q.xU)(e,["mention","mentionAdvanced"]),action:e=>{let{editor:t}=e;return(0,B.O3)(t)}},emoji:{check:e=>(0,Q.xU)(e,["emoji","emojiPicker"]),action:e=>{let{editor:t}=e;return(0,F.cw)(t)}},divider:{check:e=>(0,Q.HR)("horizontalRule",e),action:e=>{let{editor:t}=e;t.chain().focus().setHorizontalRule().run()}},inline_math:{check:e=>(0,Q.xU)(e,["Mathematics","inlineMath"]),action:e=>{let{editor:t}=e,i=new CustomEvent("open-math-modal",{detail:{type:"inline",editor:t}});window.dispatchEvent(i)}},block_math:{check:e=>(0,Q.xU)(e,["Mathematics","blockMath"]),action:e=>{let{editor:t}=e,i=new CustomEvent("open-math-modal",{detail:{type:"block",editor:t}});window.dispatchEvent(i)}},table:{check:e=>(0,Q.HR)("table",e),action:e=>{let{editor:t}=e;t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}},table_add_row:{check:e=>e.isActive("table"),action:e=>{let{editor:t}=e;t.chain().focus().addRowAfter().run()}},image:{check:e=>(0,Q.HR)("image",e),action:e=>{let{editor:t}=e;t.chain().focus().insertContent({type:"imageUpload"}).run()}}};n.forEach(n=>{let a=l[n],o=z[n];if(a&&o&&a.check(t)){var r;let t={onSelect:e=>{let{editor:t}=e;return a.action({editor:t})},...o};(null==e||null==(r=e.itemGroups)?void 0:r[n])?t.group=e.itemGroups[n]:s||(t.group=""),i.push(t)}}),(null==e?void 0:e.customItems)&&i.push(...e.customItems);if(!s)return i.map(e=>({...e,group:""}));let a={};i.forEach(e=>{let t=e.group||"";a[t]||(a[t]=[]),a[t].push(e)});let o=[];return Object.entries(a).forEach(e=>{let[,t]=e;o.push(...t)}),o},[e]),config:e}}(t),[a,o]=s.useState(!1);return s.useEffect(()=>{let e=()=>o(document.body.classList.contains("code-dark"));e();let t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,n.jsx)(C.WP,{char:"/",pluginKey:"slashDropdownMenu",decorationClass:"tiptap-slash-decoration",decorationContent:"Filter...",selector:"tiptap-slash-dropdown-menu",items:e=>{let{query:t,editor:i}=e;return(0,C.nL)(l(i),t)},...i,children:e=>(0,n.jsx)(J,{...e,config:t,isDark:a})})},P=e=>{let{item:t,isSelected:i,onSelect:l,isDark:a}=e,o=s.useRef(null),[r,c]=s.useState(!1);s.useEffect(()=>{let e=document.querySelector('[data-selector="tiptap-slash-dropdown-menu"]');if(!o.current||!i||!e)return;let t=(0,A.aI)(o.current,e);"top"===t?o.current.scrollIntoView(!0):"bottom"===t&&o.current.scrollIntoView(!1)},[i]);let d=t.badge,u=a?r?"#000000":"#ffffff":void 0;return(0,n.jsxs)(W.$n,{ref:o,"data-style":"ghost","data-active-state":i?"on":"off",onClick:l,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{color:u},children:[d&&(0,n.jsx)(d,{className:"tiptap-button-icon",style:{color:u,fill:u}}),(0,n.jsx)("div",{className:"tiptap-button-text",style:{color:u},children:t.title})]})},J=e=>{let{items:t,selectedIndex:i,onSelect:l,config:a,isDark:o}=e,r=s.useMemo(()=>{let e=[];if((null==a?void 0:a.showGroups)===!1)return t.forEach((t,s)=>{e.push((0,n.jsx)(P,{item:t,isSelected:s===i,onSelect:()=>l(t),isDark:o},"item-".concat(s,"-").concat(t.title)))}),e;let s={};return t.forEach((e,t)=>{let i=e.group||"";s[i]||(s[i]={items:[],indices:[]}),s[i].items.push(e),s[i].indices.push(t)}),Object.entries(s).forEach((t,s)=>{let[a,r]=t;s>0&&e.push((0,n.jsx)(Y.w,{orientation:"horizontal"},"separator-".concat(s)));let c=r.items.map((e,t)=>{let s=r.indices[t];return(0,n.jsx)(P,{item:e,isSelected:s===i,onSelect:()=>l(e),isDark:o},"item-".concat(s,"-").concat(e.title))});a?e.push((0,n.jsxs)(q.Vt,{children:[(0,n.jsx)(q.kF,{style:{color:o?"#8b949e":void 0},children:a}),(0,n.jsx)(W.e2,{children:c})]},"group-".concat(s,"-").concat(a))):e.push(...c)}),e},[t,i,l,null==a?void 0:a.showGroups,o]);return r.length?(0,n.jsx)(q.Zp,{className:"tiptap-slash-card",style:{maxHeight:"var(--suggestion-menu-max-height)",backgroundColor:o?"#1e1e1e":void 0,borderColor:o?"#30363d":void 0,color:o?"#c9d1d9":void 0},children:(0,n.jsx)(q.bw,{className:"tiptap-slash-card-body",style:{color:o?"#c9d1d9":void 0},children:r})}):null};var Z=i(98234),X=i(92870),ee=i(77886),et=i(44291),ei=i(56006),en=i(98816),es=i(69290),el=i(16347),ea=i(24106),eo=i(64825),er=i(58006);i(21585),i(48080);var ec=i(87691),ed=i(68373),eu=i(88682),eh=i(68447),eg=i(25736),ep=i(48916),ex=i(98249),ej=i(41200),em=i(62051),eb=i(85142),ef=i(39915),ek=i(9740),ew=i(41819),ev=i(51277),ey=i(78116),eA=i(53344),eC=i(37030),eE=i(37040),e_=i(47704),eR=i(88007),eL=i(44350),eS=i(80999),eN=i(5392),eI=i(56280),eH=i(69386),eM=i(51033),eO=i(29630),eT=i(64187),eG=i(51963),eV=i(91047),eD=i(62520),eU=i(376);let eQ={MAIN:"main",HIGHLIGHTER:"highlighter",LINK:"link"};function e$(){return(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(em.Hc,{align:"left"}),(0,n.jsx)(em.Hc,{align:"center"}),(0,n.jsx)(em.Hc,{align:"right"}),(0,n.jsx)(em.Hc,{align:"justify"})]})}function eF(){return(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(ej.GY,{type:"superscript"}),(0,n.jsx)(ej.GY,{type:"subscript"})]})}function eB(){return(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(ej.GY,{type:"bold"}),(0,n.jsx)(ej.GY,{type:"italic"}),(0,n.jsx)(ej.GY,{type:"strike"}),(0,n.jsx)(ej.GY,{type:"code"})]})}function ez(){let{recentColors:e,isInitialized:t,addRecentColor:i}=(0,ey.ZZ)();return(0,n.jsxs)(eI.lv,{children:[(0,n.jsx)(eI.nV,{asChild:!0,children:(0,n.jsxs)(W.$n,{"data-style":"ghost",children:[(0,n.jsx)(eL.M,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Color"}),(0,n.jsx)(eN.h,{}),(0,n.jsx)(eM.v,{className:"tiptap-button-icon"})]})}),(0,n.jsx)(eI.dc,{children:(0,n.jsx)(eI.M5,{children:(0,n.jsx)(q.Zp,{children:(0,n.jsxs)(q.bw,{children:[t&&0!==e.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(q.Vt,{children:[(0,n.jsx)(q.kF,{children:"Recent colors"}),(0,n.jsx)(W.e2,{children:e.map(e=>(0,n.jsx)(eI._2,{asChild:!0,children:"text"===e.type?(0,n.jsx)(eA.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return i({type:"text",label:n,value:t})}}):(0,n.jsx)(eC.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return i({type:"highlight",label:n,value:t})}})},"".concat(e.type,"-").concat(e.value)))})]}),(0,n.jsx)(Y.w,{orientation:"horizontal"})]}):null,(0,n.jsxs)(q.Vt,{children:[(0,n.jsx)(q.kF,{children:"Text color"}),(0,n.jsx)(W.e2,{children:eA.VF.map(e=>(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(eA.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return i({type:"text",label:n,value:t})}})},e.value))})]}),(0,n.jsx)(Y.w,{orientation:"horizontal"}),(0,n.jsxs)(q.Vt,{children:[(0,n.jsx)(q.kF,{children:"Highlight color"}),(0,n.jsx)(W.e2,{children:eC.um.map(e=>(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(eC.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return i({type:"highlight",label:n,value:t})}})},e.value))})]})]})})})})]})}function eW(){return(0,n.jsxs)(eI.lv,{children:[(0,n.jsx)(eI.nV,{asChild:!0,children:(0,n.jsxs)(W.$n,{"data-style":"ghost",children:[(0,n.jsx)(eS.h,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Turn into"}),(0,n.jsx)(eN.h,{}),(0,n.jsx)(eM.v,{className:"tiptap-button-icon"})]})}),(0,n.jsx)(eI.M5,{children:(0,n.jsx)(ev.yF,{})})]})}function eY(e){let{editor:t}=e,{hasAnyActionGroups:i,hasColorActions:s,hasTransformActions:l,hasResetFormatting:a}=(0,Z.T)(t),o=(0,ec.a)();return(0,n.jsx)(q.Zp,{children:(0,n.jsxs)(q.bw,{children:[(0,n.jsxs)(q.Vt,{children:[(0,n.jsx)(q.kF,{children:(0,A.KW)(t)}),(0,n.jsxs)(W.e2,{children:[s&&(0,n.jsx)(ez,{}),l&&(0,n.jsx)(eW,{}),a&&(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(ef.a6,{text:"Reset formatting"})})]})]}),i&&(0,n.jsx)(Y.w,{orientation:"horizontal"}),(0,n.jsxs)(W.e2,{children:[(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(e_.UM,{text:"Duplicate node",showShortcut:!o})}),(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(eR.TN,{text:"Copy to clipboard",showShortcut:!o})})]}),(0,n.jsx)(Y.w,{orientation:"horizontal"}),(0,n.jsx)(W.e2,{children:(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(eE.mG,{text:"Ask AI",showShortcut:!o})})}),(0,n.jsx)(Y.w,{orientation:"horizontal"}),(0,n.jsx)(W.e2,{children:(0,n.jsx)(eI._2,{asChild:!0,children:(0,n.jsx)(ek.GJ,{text:"Delete",showShortcut:!o})})})]})})}function eq(e){let{editor:t}=e;return(0,n.jsxs)(eI.rI,{children:[(0,n.jsx)(eI.ty,{asChild:!0,children:(0,n.jsx)(W.$n,{"data-style":"ghost","data-appearance":"subdued",children:(0,n.jsx)(eG.F,{className:"tiptap-button-icon"})})}),(0,n.jsx)(eI.SQ,{portal:!0,children:(0,n.jsx)(eY,{editor:t})})]})}function eK(e){let{view:t,isMobile:i,onViewChange:l}=e,a=t.id;return i?t.mobileButton?s.cloneElement(t.mobileButton(()=>l(a)),{key:t.id}):(0,n.jsx)(W.$n,{onClick:()=>l(a),children:t.icon},t.id):t.desktopComponent?s.cloneElement(t.desktopComponent,{key:t.id}):null}function eP(e){let{toolbarViews:t,isMobile:i,onViewChange:s}=e;return(0,n.jsx)(n.Fragment,{children:Object.values(t).map(e=>(0,n.jsx)(eK,{view:e,isMobile:i,onViewChange:s},e.id))})}function eJ(e){let{editor:t,isMobile:i,toolbarViews:s,onViewChange:l}=e,a=function(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state;return!t.empty}(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(eb.lm,{}),(0,n.jsx)(eq,{editor:t})]}),(0,n.jsx)(eV.lR,{}),(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(eU.uC,{direction:"down"}),(0,n.jsx)(eU.uC,{direction:"up"})]}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eV.$Q,{children:(0,n.jsx)(ew.md,{portal:!0})}),(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eB,{}),(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eP,{toolbarViews:s,isMobile:i,onViewChange:l}),(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eF,{}),(0,n.jsx)(eV.lR,{}),(0,n.jsx)(e$,{}),(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eV.$Q,{children:(0,n.jsx)(ep.lR,{text:"Add"})})]})]})}function eZ(e){let{view:t,onBack:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eV.$Q,{children:(0,n.jsxs)(W.$n,{"data-style":"ghost",onClick:i,children:[(0,n.jsx)(eH.A,{className:"tiptap-button-icon"}),t.icon]})}),(0,n.jsx)(eV.lR,{fixed:!0}),t.content]})}function eX(e){var t,i;let{editor:l}=e,{editor:a}=(0,eh.l)(l),o=(0,ec.a)(480),r=s.useRef(null),c=function(e){let[t,i]=s.useState(eQ.MAIN);return s.useEffect(()=>{e||t===eQ.MAIN||i(eQ.MAIN)},[e,t]),{viewId:t,setViewId:i,isMainView:t===eQ.MAIN,showMainView:()=>i(eQ.MAIN),showView:e=>i(e)}}(o),d=(0,ed.l)(),u=(0,eD.b)(),h=(0,eu.k)({editor:a,overlayHeight:null!=(i=null==(t=r.current)?void 0:t.getBoundingClientRect().height)?i:0}),g=s.useMemo(()=>({[eQ.HIGHLIGHTER]:{id:eQ.HIGHLIGHTER,title:"Text Highlighter",icon:(0,n.jsx)(eO.F,{className:"tiptap-button-icon"}),content:(0,n.jsx)(eg.kY,{}),mobileButton:e=>(0,n.jsx)(eg.Hl,{onClick:e}),desktopComponent:(0,n.jsx)(eg.Fy,{})},[eQ.LINK]:{id:eQ.LINK,title:"Link Editor",icon:(0,n.jsx)(eT.q,{className:"tiptap-button-icon"}),content:(0,n.jsx)(ex.s8,{}),mobileButton:e=>(0,n.jsx)(ex.z9,{onClick:e}),desktopComponent:(0,n.jsx)(ex.Op,{})}}),[]),p=c.isMainView?null:g[c.viewId];return o&&a&&a.isEditable?(0,n.jsx)(eV.M7,{ref:r,style:{...u&&o?{opacity:0,transition:"opacity 0.1s ease-in-out"}:{},...o?{bottom:"calc(100% - ".concat(d.height-h.y,"px)")}:{}},children:c.isMainView?(0,n.jsx)(eJ,{editor:a,isMobile:o,toolbarViews:g,onViewChange:c.showView}):p&&(0,n.jsx)(eZ,{view:p,onBack:c.showMainView})}):null}var e0=i(4701),e1=i(10889),e2=i(12467),e8=i(91069);function e4(){let{editor:e}=(0,eh.l)(),t=(0,ec.a)(480),{lockDragHandle:i,aiGenerationActive:l,commentInputVisible:a}=(0,f.W)(e),[o,r]=s.useState(!1);return(s.useEffect(()=>{if(!e)return;let t=()=>{let{state:t}=e,{selection:i}=t,n=(0,A.$9)(e,i)&&(!(0,e0.BQ)(i)||(0,e0.BQ)(i)&&"image"===i.node.type.name);if(a||l)return void r(!1);r(n)};return t(),e.on("selectionUpdate",t),()=>{e.off("selectionUpdate",t)}},[e,l,a]),i||t)?null:(0,n.jsx)(e8.L,{shouldShow:o,children:(0,n.jsxs)(eV.M7,{variant:"floating",children:[(0,n.jsx)(eV.$Q,{}),(0,n.jsx)(eV.lR,{fixed:!0}),(0,n.jsx)(eV.$Q,{children:(0,n.jsx)(ev.TX,{hideWhenUnavailable:!0})}),(0,n.jsx)(eV.lR,{}),(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(ej.GY,{type:"bold",hideWhenUnavailable:!0}),(0,n.jsx)(ej.GY,{type:"italic",hideWhenUnavailable:!0}),(0,n.jsx)(ej.GY,{type:"strike",hideWhenUnavailable:!0}),(0,n.jsx)(ej.GY,{type:"code",hideWhenUnavailable:!0})]}),(0,n.jsx)(eV.lR,{}),(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(ex.Op,{autoOpenOnLinkActive:!1,hideWhenUnavailable:!0}),(0,n.jsx)(ey.iS,{hideWhenUnavailable:!0}),(0,n.jsx)(e1.v,{editor:e})]}),(0,n.jsx)(e9,{hideWhenUnavailable:!0})]})})}function e9(e){let{editor:t,hideWhenUnavailable:i=!1,...l}=e,{editor:a}=(0,eh.l)(t),[o,r]=s.useState(!1);return(s.useEffect(()=>{if(!a)return;let e=()=>{r(function(e){let{editor:t,hideWhenUnavailable:i}=e;if(!t)return!1;if(i&&!t.isActive("code")){if(!t)return!1;let e=["left","center","right","justify"].some(e=>(0,em.Xd)(t,e));return["superscript","subscript"].some(e=>(0,ej.sT)(t,e))||e}return!!(null==t?void 0:t.isEditable)}({editor:a,hideWhenUnavailable:i}))};return e(),a.on("selectionUpdate",e),()=>{a.off("selectionUpdate",e)}},[a,i]),o&&a&&a.isEditable)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eV.lR,{}),(0,n.jsx)(eV.$Q,{children:(0,n.jsxs)(e2.AM,{children:[(0,n.jsx)(e2.Wv,{asChild:!0,children:(0,n.jsx)(W.$n,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,tooltip:"More options",...l,children:(0,n.jsx)(eG.F,{className:"tiptap-button-icon"})})}),(0,n.jsx)(e2.hl,{side:"top",align:"end",alignOffset:4,sideOffset:4,asChild:!0,children:(0,n.jsxs)(eV.M7,{variant:"floating",tabIndex:0,children:[(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(ej.GY,{type:"superscript"}),(0,n.jsx)(ej.GY,{type:"subscript"})]}),(0,n.jsx)(eV.lR,{}),(0,n.jsxs)(eV.$Q,{children:[(0,n.jsx)(em.Hc,{align:"left"}),(0,n.jsx)(em.Hc,{align:"center"}),(0,n.jsx)(em.Hc,{align:"right"}),(0,n.jsx)(em.Hc,{align:"justify"})]}),(0,n.jsx)(eV.lR,{})]})})]})})]}):null}var e7=i(8793),e3=i(46833);i(99067);var e5=i(73007),e6=i(54923),te=i(73709),tt=i(28033),ti=i(5625),tn=i(78084),ts=i(44691),tl=i(82348),ta=i(26278),to=i(2091),tr=i(78273),tc=i(29514),td=i(90528),tu=i(63859),th=i(91870),tg=i(65166),tp=i(11882),tx=i(46203),tj=i(18496),tm=i(3312),tb=i(77097),tf=i(82647),tk=i(71776),tw=i(72550);function tv(e){let{text:t="Connecting..."}=e;return(0,n.jsx)("div",{className:"spinner-container",children:(0,n.jsxs)("div",{className:"spinner-content",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("div",{className:"spinner-loading-text",children:t})]})})}function ty(){let{editor:e}=s.useContext(l.pl),{aiGenerationIsLoading:t,aiGenerationIsSelection:i,aiGenerationHasMessage:a}=(0,f.W)(e),{modalProps:o}=(0,ee.R)(),[r,c]=s.useState({isOpen:!1,content:"",position:null});s.useEffect(()=>{let e=e=>{let{content:t,position:i}=e.detail;c({isOpen:!0,content:t,position:i})};return window.addEventListener("show-paste-modal",e),()=>{window.removeEventListener("show-paste-modal",e)}},[]);let d=s.useCallback(()=>{c({isOpen:!1,content:"",position:null})},[]);s.useEffect(()=>{e&&!t&&i&&a&&(e.commands.resetUiState(),e.commands.setCodeBlock(),e.commands.toggleCodeBlock())},[a,t,i,e]);let u=s.useCallback(()=>{if(e)try{return e.getJSON()}catch(e){console.error("에디터 내용 추출 중 오류 발생:",e)}},[e]),h=s.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),g=s.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t),e.setEditable(!1)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),p=s.useCallback((e,t)=>{window.parent&&window.parent!==window&&(console.log("DEBUG - sendToParent",t),window.parent.postMessage({type:"EDITOR_JSON_DATA",data:t,source:"notion-like-editor",payload:t},"*"))},[]);return(s.useEffect(()=>{let e=e=>{if(console.log(e),e.data&&e.data.type)switch(e.data.type){case"EDITOR_JSON_DATA":let t=u();t&&p("documentData",t);break;case"SET_EDITOR_JSON_DATA":let i=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA",i),h(i);break;case"SET_EDITOR_JSON_DATA_READ":let n=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA_FROM_PARENT",n),g(n);break;case"change-color":{let t="dark"===e.data.color;document.body.classList.toggle("code-dark",t),console.log(t)}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[u,h,g,p]),s.useEffect(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),window.parent.postMessage({type:"SAVE_PRESSED"},"*")),window.parent.postMessage({type:"IFRAME_KEYDOWN"},"*")};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),e)?(0,n.jsxs)(n.Fragment,{children:[o&&(0,n.jsx)(ee.I,{...o}),(0,n.jsxs)(l.$Z,{editor:e,role:"presentation",className:"notion-like-editor-content",style:{cursor:e.view.dragging?"grabbing":"auto"},spellCheck:!1,children:[(0,n.jsx)(eX,{}),(0,n.jsx)(Z.t,{}),(0,n.jsx)(X.ym,{}),(0,n.jsx)(y.r,{}),(0,n.jsx)(K,{}),(0,n.jsx)(e4,{}),(0,n.jsx)(eo.U,{editor:e}),(0,n.jsx)(tw.D,{editor:e})]}),(0,n.jsx)(et.r,{editor:e,isOpen:r.isOpen,onClose:d,pastedContent:r.content,position:r.position})]}):null}function tA(e){let{placeholder:t="Start writing..."}=e,i=[a.W.configure({horizontalRule:!1,dropcursor:{width:2},link:{openOnClick:!1}}),k.d,x.n.configure({types:["heading","paragraph"]}),d.Or.configure({placeholder:t,emptyNodeClass:"is-empty with-slash"}),b.zT.configure({emojis:b.bH.filter(e=>!e.name.includes("regional")),forceFallbackImages:!0}),j.Rs.configure({inlineOptions:{onClick:(e,t)=>{if(!s)return;let i=prompt("수식을 수정하세요:",e.attrs.latex);null!==i&&s.chain().setNodeSelection(t).updateInlineMath({latex:i}).focus().run()}},blockOptions:{onClick:(e,t)=>{if(!s)return;let i=prompt("수식을 수정하세요:",e.attrs.latex);null!==i&&s.chain().setNodeSelection(t).updateBlockMath({latex:i}).focus().run()}},katexOptions:{throwOnError:!1,macros:{"\\R":"\\mathbb{R}","\\N":"\\mathbb{N}","\\Z":"\\mathbb{Z}","\\Q":"\\mathbb{Q}","\\C":"\\mathbb{C}"}}}),g.Z,p.E,c.Q1,c.xJ,r._0,r.L2.configure({nested:!0}),h.f4.configure({multicolor:!0}),d.LN,o._V,v.t.configure({accept:"image/*",maxSize:Q.w3,limit:3,upload:Q.f5,onError:e=>console.error("Upload failed:",e)}),m.p,u.o5,w.y,ea.A,e7.A.configure({lowlight:e3.l,defaultLanguage:"javascript"}),tk.Q,er.R0.configure({table:{resizable:!0}}),e5.A],s=(0,l.hG)({immediatelyRender:!1,shouldRerenderOnTransaction:!1,editorProps:{attributes:{class:"notion-like-editor"},handlePaste(e,t){var i,n;let s=t.clipboardData;if(!s)return!1;let l=[];if(s.files&&s.files.length>0)for(let e=0;e<s.files.length;e++){let t=s.files[e];t&&(null==(i=t.type)?void 0:i.startsWith("image/"))&&l.push(t)}else if(s.items&&s.items.length>0)for(let e=0;e<s.items.length;e++){let t=s.items[e];if("file"===t.kind){let e=t.getAsFile();e&&(null==(n=e.type)?void 0:n.startsWith("image/"))&&l.push(e)}}return 0!==l.length&&(t.preventDefault(),l.forEach(async t=>{try{var i;let n=await (0,Q.f5)(t),{state:s}=e,l=s.schema.nodes.image.create({src:n,alt:(null==(i=t.name)?void 0:i.replace(/\.[^/.]+$/,""))||"image",title:t.name||"image"}),a=s.tr.replaceSelectionWith(l).scrollIntoView();e.dispatch(a)}catch(e){console.error("Paste image upload failed:",e)}}),!0)}},extensions:i});return s?(0,n.jsx)("div",{className:"notion-like-editor-wrapper",children:(0,n.jsx)(l.pl.Provider,{value:{editor:s},children:(0,n.jsx)(ty,{})})}):(0,n.jsx)(tv,{})}function tC(e){let{room:t,placeholder:i="Start writing..."}=e;return(0,n.jsx)(en.vu,{children:(0,n.jsx)(ei.Dv,{children:(0,n.jsx)(es.VK,{room:t,children:(0,n.jsx)(el.KH,{children:(0,n.jsx)(tE,{placeholder:i})})})})})}function tE(e){let{placeholder:t}=e,{provider:i,hasCollab:s}=(0,es.Hb)(),{aiToken:l,hasAi:a}=(0,el.On)();return s&&!i||a&&!l?(0,n.jsx)(tv,{}):(0,n.jsx)(tA,{placeholder:t,aiToken:l})}e3.l.registerLanguage("css",te.A),e3.l.registerLanguage("js",tt.A),e3.l.registerLanguage("javascript",tt.A),e3.l.registerLanguage("jsx",tt.A),e3.l.registerLanguage("ts",ti.A),e3.l.registerLanguage("tsx",ti.A),e3.l.registerLanguage("typescript",ti.A),e3.l.registerLanguage("json",tl.A),e3.l.registerLanguage("html",e6.A),e3.l.registerLanguage("xml",e6.A),e3.l.registerLanguage("python",tn.A),e3.l.registerLanguage("cpp",ts.A),e3.l.registerLanguage("c",to.A),e3.l.registerLanguage("java",ta.A),e3.l.registerLanguage("csharp",tr.A),e3.l.registerLanguage("sql",tc.A),e3.l.registerLanguage("bash",td.A),e3.l.registerLanguage("markdown",tu.A),e3.l.registerLanguage("php",th.A),e3.l.registerLanguage("ruby",tg.A),e3.l.registerLanguage("scss",tp.A),e3.l.registerLanguage("less",tx.A),e3.l.registerLanguage("go",tj.A),e3.l.registerLanguage("rust",tm.A),e3.l.registerLanguage("swift",tb.A),e3.l.registerLanguage("kotlin",tf.A)},98704:()=>{}}]);
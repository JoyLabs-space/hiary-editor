(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{3564:(e,t,r)=>{"use strict";r.d(t,{NotionEditorDev:()=>ek});var n=r(95155),s=r(12115),i=r(75109),o=r(83490),l=r(81891),a=r(17148),c=r(66377),u=r(54548),g=r(50099),d=r(4652),p=r(27192),h=r(24927),m=r(84109),x=r(87058),f=r(70504),j=r(16938),v=r(54643),w=r(3454),L=r(49020),b=r(55892);r(89054),r(68922),r(15736),r(49998),r(6604),r(9162),r(32078);var k=r(34078),A=r(85750),y=r(78241),C=r(79314),N=r(60548),E=r(79153),O=r(64108);r(98704);let S=e=>{let{config:t,...r}=e,{getSlashMenuItems:i}=function(e){let t=(0,C.J)(e),r=s.useCallback(r=>[...t.getSlashMenuItems(r),...(null==e?void 0:e.devItems)||[]],[t,null==e?void 0:e.devItems]);return{...t,getSlashMenuItems:r}}(t),[o,l]=s.useState(!1);return s.useEffect(()=>{let e=()=>l(document.body.classList.contains("code-dark"));e();let t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,n.jsx)(y.WP,{char:"/",pluginKey:"slashDropdownMenuDev",decorationClass:"tiptap-slash-decoration",decorationContent:"Filter...",selector:"tiptap-slash-dropdown-menu",items:e=>{let{query:t,editor:r}=e;return(0,y.nL)(i(r),t)},...r,children:e=>(0,n.jsx)(M,{...e,config:t,isDark:o})})},I=e=>{let{item:t,isSelected:r,onSelect:i,isDark:o}=e,l=s.useRef(null),[a,c]=s.useState(!1);s.useEffect(()=>{let e=document.querySelector('[data-selector="tiptap-slash-dropdown-menu"]');if(!l.current||!r||!e)return;let t=(0,A.aI)(l.current,e);"top"===t?l.current.scrollIntoView(!0):"bottom"===t&&l.current.scrollIntoView(!1)},[r]);let u=t.badge,g=o?a?"#000000":"#ffffff":void 0;return(0,n.jsxs)(N.$n,{ref:l,"data-style":"ghost","data-active-state":r?"on":"off",onClick:i,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{color:g},children:[u&&(0,n.jsx)(u,{className:"tiptap-button-icon",style:{color:g,fill:g}}),(0,n.jsx)("div",{className:"tiptap-button-text",style:{color:g},children:t.title})]})},M=e=>{let{items:t,selectedIndex:r,onSelect:i,config:o,isDark:l}=e,a=s.useMemo(()=>{let e=[];if((null==o?void 0:o.showGroups)===!1)return t.forEach((t,s)=>{e.push((0,n.jsx)(I,{item:t,isSelected:s===r,onSelect:()=>i(t),isDark:l},"item-".concat(s,"-").concat(t.title)))}),e;let s={};return t.forEach((e,t)=>{let r=e.group||"";s[r]||(s[r]={items:[],indices:[]}),s[r].items.push(e),s[r].indices.push(t)}),Object.entries(s).forEach((t,s)=>{let[o,a]=t;s>0&&e.push((0,n.jsx)(E.w,{orientation:"horizontal"},"separator-".concat(s)));let c=a.items.map((e,t)=>{let s=a.indices[t];return(0,n.jsx)(I,{item:e,isSelected:s===r,onSelect:()=>i(e),isDark:l},"item-".concat(s,"-").concat(e.title))});o?e.push((0,n.jsxs)(O.Vt,{children:[(0,n.jsx)(O.kF,{style:{color:l?"#8b949e":void 0},children:o}),(0,n.jsx)(N.e2,{children:c})]},"group-".concat(s,"-").concat(o))):e.push(...c)}),e},[t,r,i,null==o?void 0:o.showGroups,l]);return a.length?(0,n.jsx)(O.Zp,{className:"tiptap-slash-card",style:{maxHeight:"var(--suggestion-menu-max-height)",backgroundColor:l?"#1e1e1e":void 0,borderColor:l?"#30363d":void 0,color:l?"#c9d1d9":void 0},children:(0,n.jsx)(O.bw,{className:"tiptap-slash-card-body",style:{color:l?"#c9d1d9":void 0},children:a})}):null};var D=r(98234),_=r(77034);function z(e){return(0,n.jsx)(_.ym,{...e})}var R=r(77886),V=r(44291),F=r(56006),H=r(98816),B=r(69290),P=r(16347),G=r(78156),K=r(24106),T=r(64825),U=r(58006);r(4481),r(48080);var W=r(40793),Z=r(50725),q=r(8793),J=r(46833);r(99067);var Q=r(73007),$=r(54923),X=r(73709),Y=r(28033),ee=r(5625),et=r(78084),er=r(44691),en=r(82348),es=r(26278),ei=r(2091),eo=r(78273),el=r(29514),ea=r(90528),ec=r(63859),eu=r(91870),eg=r(65166),ed=r(11882),ep=r(46203),eh=r(18496),em=r(3312),ex=r(77097),ef=r(82647),ej=r(71776),ev=r(72550);function ew(e){let{text:t="Connecting..."}=e;return(0,n.jsx)("div",{className:"spinner-container",children:(0,n.jsxs)("div",{className:"spinner-content",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("div",{className:"spinner-loading-text",children:t})]})})}function eL(){let{editor:e}=s.useContext(i.pl),{aiGenerationIsLoading:t,aiGenerationIsSelection:r,aiGenerationHasMessage:o}=(0,v.W)(e),{modalProps:l}=(0,R.R)(),[a,c]=s.useState({isOpen:!1,content:"",position:null});s.useEffect(()=>{let e=e=>{let{content:t,position:r}=e.detail;c({isOpen:!0,content:t,position:r})};return window.addEventListener("show-paste-modal",e),()=>window.removeEventListener("show-paste-modal",e)},[]);let u=s.useCallback(()=>{c({isOpen:!1,content:"",position:null})},[]);return(s.useEffect(()=>{e&&!t&&r&&o&&(e.commands.resetUiState(),e.commands.setCodeBlock(),e.commands.toggleCodeBlock())},[o,t,r,e]),e)?(0,n.jsxs)(n.Fragment,{children:[l&&(0,n.jsx)(R.I,{...l}),(0,n.jsxs)(i.$Z,{editor:e,role:"presentation",className:"notion-like-editor-content",style:{cursor:e.view.dragging?"grabbing":"auto"},spellCheck:!1,children:[(0,n.jsx)(W.s,{}),(0,n.jsx)(D.t,{}),(0,n.jsx)(z,{}),(0,n.jsx)(k.r,{}),(0,n.jsx)(S,{}),(0,n.jsx)(Z.N,{}),(0,n.jsx)(T.U,{editor:e}),(0,n.jsx)(ev.D,{editor:e})]}),(0,n.jsx)(V.r,{editor:e,isOpen:a.isOpen,onClose:u,pastedContent:a.content,position:a.position})]}):null}function eb(e){let{placeholder:t="Start writing..."}=e,r=[o.W.configure({horizontalRule:!1,dropcursor:{width:2},link:{openOnClick:!1}}),w.d,m.n.configure({types:["heading","paragraph"]}),u.Or.configure({placeholder:t,emptyNodeClass:"is-empty with-slash"}),j.zT.configure({emojis:j.bH.filter(e=>!e.name.includes("regional")),forceFallbackImages:!0}),x.Rs.configure({inlineOptions:{onClick:(e,t)=>{if(!s)return;let r=prompt("수식을 수정하세요:",e.attrs.latex);null!==r&&s.chain().setNodeSelection(t).updateInlineMath({latex:r}).focus().run()}},blockOptions:{onClick:(e,t)=>{if(!s)return;let r=prompt("수식을 수정하세요:",e.attrs.latex);null!==r&&s.chain().setNodeSelection(t).updateBlockMath({latex:r}).focus().run()}},katexOptions:{throwOnError:!1}}),p.Z,h.E,c.Q1,c.xJ,a._0,a.L2.configure({nested:!0}),d.f4.configure({multicolor:!0}),u.LN,l._V,b.t.configure({accept:"image/*",maxSize:G.w3,limit:3,upload:G.f5,onError:e=>console.error("Upload failed:",e)}),f.p,g.o5,L.y,K.A,q.A.configure({lowlight:J.l,defaultLanguage:"javascript"}),ej.Q,U.R0.configure({table:{resizable:!0}}),Q.A],s=(0,i.hG)({immediatelyRender:!1,shouldRerenderOnTransaction:!1,editorProps:{attributes:{class:"notion-like-editor"}},extensions:r});return s?(0,n.jsx)("div",{className:"notion-like-editor-wrapper",children:(0,n.jsx)(i.pl.Provider,{value:{editor:s},children:(0,n.jsx)(eL,{})})}):(0,n.jsx)(ew,{})}function ek(e){let{room:t,placeholder:r="Start writing..."}=e;return(0,n.jsx)(H.vu,{children:(0,n.jsx)(F.Dv,{children:(0,n.jsx)(B.VK,{room:t,children:(0,n.jsx)(P.KH,{children:(0,n.jsx)(eA,{placeholder:r})})})})})}function eA(e){let{placeholder:t}=e,{provider:r,hasCollab:s}=(0,B.Hb)(),{aiToken:i,hasAi:o}=(0,P.On)();return s&&!r||o&&!i?(0,n.jsx)(ew,{}):(0,n.jsx)(eb,{placeholder:t,aiToken:i})}J.l.registerLanguage("css",X.A),J.l.registerLanguage("js",Y.A),J.l.registerLanguage("javascript",Y.A),J.l.registerLanguage("jsx",Y.A),J.l.registerLanguage("ts",ee.A),J.l.registerLanguage("tsx",ee.A),J.l.registerLanguage("typescript",ee.A),J.l.registerLanguage("json",en.A),J.l.registerLanguage("html",$.A),J.l.registerLanguage("xml",$.A),J.l.registerLanguage("python",et.A),J.l.registerLanguage("cpp",er.A),J.l.registerLanguage("c",ei.A),J.l.registerLanguage("java",es.A),J.l.registerLanguage("csharp",eo.A),J.l.registerLanguage("sql",el.A),J.l.registerLanguage("bash",ea.A),J.l.registerLanguage("markdown",ec.A),J.l.registerLanguage("php",eu.A),J.l.registerLanguage("ruby",eg.A),J.l.registerLanguage("scss",ed.A),J.l.registerLanguage("less",ep.A),J.l.registerLanguage("go",eh.A),J.l.registerLanguage("rust",em.A),J.l.registerLanguage("swift",ex.A),J.l.registerLanguage("kotlin",ef.A)},4481:()=>{},49494:(e,t,r)=>{Promise.resolve().then(r.bind(r,3564))}},e=>{e.O(0,[649,977,76,330,109,375,4,277,545,703,967,441,964,358],()=>e(e.s=49494)),_N_E=e.O()}]);
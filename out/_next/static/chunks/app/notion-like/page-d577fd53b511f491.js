(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{36:()=>{},781:()=>{},905:()=>{},1085:(e,t,l)=>{"use strict";l.d(t,{NotionEditor:()=>oD});var n=l(5155),r=l(2115),i=l(5109),o=l(3490),a=l(1891),s=l(7148),c=l(6377),u=l(4548),d=l(99),h=l(4652),p=l(7192),C=l(4927),f=l(4109),m=l(7058),x=l(504),g=l(6938);let v={aiGenerationIsSelection:!1,aiGenerationIsLoading:!1,aiGenerationActive:!1,aiGenerationHasMessage:!1,commentInputVisible:!1,lockDragHandle:!1};function b(e){let t=(0,i.er)({editor:e,selector:e=>{var t,l,n,r,i,o;let{editor:a}=e;if(!a)return v;if(!a.storage.uiState)return console.warn("Editor storage uiState is not initialized. Ensure you have the uiState extension added to your editor."),v;let s=null!=(t=a.storage.uiState.aiGenerationIsSelection)&&t,c=null!=(l=a.storage.uiState.aiGenerationIsLoading)&&l,u=null!=(n=a.storage.uiState.aiGenerationActive)&&n,d=null!=(r=a.storage.uiState.aiGenerationHasMessage)&&r;return{aiGenerationIsSelection:s,aiGenerationIsLoading:c,aiGenerationActive:u,aiGenerationHasMessage:d,commentInputVisible:null!=(i=a.storage.uiState.commentInputVisible)&&i,lockDragHandle:null!=(o=a.storage.uiState.lockDragHandle)&&o}}});return null!=t?t:v}var j=l(4701);let w=l(951).A.extend({renderHTML(){return["div",(0,j.KV)(this.options.HTMLAttributes,{"data-type":this.name}),["hr"]]}}),y=j.YY.create({name:"uiState",addStorage:()=>({aiGenerationIsSelection:!1,aiGenerationIsLoading:!1,aiGenerationActive:!1,aiGenerationHasMessage:!1,commentInputVisible:!1,lockDragHandle:!1}),addCommands(){return{aiGenerationSetIsSelection:e=>()=>(this.storage.aiGenerationIsSelection=e,!0),aiGenerationSetIsLoading:e=>()=>(this.storage.aiGenerationIsLoading=e,!0),setLockDragHandle:e=>()=>(this.storage.lockDragHandle=e,!0),aiGenerationShow:()=>()=>(this.storage.aiGenerationActive=!0,!0),aiGenerationHide:()=>()=>(this.storage.aiGenerationActive=!1,!0),aiGenerationHasMessage:e=>()=>(this.storage.aiGenerationHasMessage=e,!0),commentInputShow:()=>()=>(this.storage.commentInputVisible=!0,!0),commentInputHide:()=>()=>(this.storage.commentInputVisible=!1,!0),resetUiState:()=>()=>(this.storage.aiGenerationIsSelection=!1,this.storage.aiGenerationIsLoading=!1,this.storage.aiGenerationActive=!1,this.storage.aiGenerationHasMessage=!1,this.storage.commentInputVisible=!1,this.storage.lockDragHandle=!1,!0)}},onCreate(){this.storage={aiGenerationIsSelection:!1,aiGenerationIsLoading:!1,aiGenerationActive:!1,aiGenerationHasMessage:!1,commentInputVisible:!1,lockDragHandle:!1}}});var L=l(5299),k=l(6492),N=l(4945);l(2100);let E=r.createContext(null);function A(){let e=r.useContext(E);if(null==e)throw Error("Tooltip components must be wrapped in <TooltipProvider />");return e}function S(e){var t,l;let{children:i,...o}=e,a=function(){let{initialOpen:e=!1,placement:t="top",open:l,onOpenChange:n,delay:i=600,closeDelay:o=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,s]=r.useState(e),c=null!=l?l:a,u=null!=n?n:s,d=(0,L.we)({placement:t,open:c,onOpenChange:u,whileElementsMounted:k.ll,middleware:[(0,N.cY)(4),(0,N.UU)({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:4}),(0,N.BN)({padding:4})]}),h=d.context,p=(0,L.Mk)(h,{mouseOnly:!0,move:!1,restMs:i,enabled:null==l,delay:{close:o}}),C=(0,L.iQ)(h,{enabled:null==l}),f=(0,L.s9)(h),m=(0,L.It)(h,{role:"tooltip"}),x=(0,L.bv)([p,C,f,m]);return r.useMemo(()=>({open:c,setOpen:u,...x,...d}),[c,u,x,d])}(o);return o.useDelayGroup?(0,n.jsx)(L.T3,{delay:{open:null!=(t=o.delay)?t:0,close:null!=(l=o.closeDelay)?l:0},timeoutMs:o.timeout,children:(0,n.jsx)(E.Provider,{value:a,children:i})}):(0,n.jsx)(E.Provider,{value:a,children:i})}let R=r.forwardRef(function(e,t){let{children:l,asChild:i=!1,...o}=e,a=A(),s=r.isValidElement(l)?parseInt(r.version,10)>=19?l.props.ref:l.ref:void 0,c=(0,L.SV)([a.refs.setReference,t,s]);if(i&&r.isValidElement(l)){let e={"data-tooltip-state":a.open?"open":"closed"};return r.cloneElement(l,a.getReferenceProps({ref:c,...o,..."object"==typeof l.props?l.props:{},...e}))}return(0,n.jsx)("button",{ref:c,"data-tooltip-state":a.open?"open":"closed",...a.getReferenceProps(o),children:l})}),M=r.forwardRef(function(e,t){let{style:l,children:r,portal:i=!0,portalProps:o={},...a}=e,s=A(),c=(0,L.SV)([s.refs.setFloating,t]);if(!s.open)return null;let u=(0,n.jsx)("div",{ref:c,style:{...s.floatingStyles,...l},...s.getFloatingProps(a),className:"tiptap-tooltip",children:r});return i?(0,n.jsx)(L.XF,{...o,children:u}):u});S.displayName="Tooltip",R.displayName="TooltipTrigger",M.displayName="TooltipContent";var I=l(2571);let H={mod:"⌘",ctrl:"⌘",alt:"⌥",shift:"⇧",backspace:"Del"};function T(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter(Boolean).join(" ")}let B=function(e,t){let l=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t?H[e.toLowerCase()]||(l?e.toUpperCase():e):l?e.charAt(0).toUpperCase()+e.slice(1):e},V=e=>{let{shortcutKeys:t,delimiter:l="+",capitalize:n=!0}=e;return t?t.split(l).map(e=>e.trim()).map(e=>B(e,"undefined"!=typeof navigator&&navigator.platform.toLowerCase().includes("mac"),n)):[]},Z=(e,t)=>!!(null==t?void 0:t.schema)&&void 0!==t.schema.spec.marks.get(e),O=(e,t)=>!!(null==t?void 0:t.schema)&&void 0!==t.schema.spec.nodes.get(e);function _(e){return"number"==typeof e&&e>=0}function U(e,t){if(!e)return!1;let l=Array.isArray(t)?t:[t],n=l.some(t=>e.extensionManager.extensions.some(e=>e.name===t));return n||console.warn("None of the extensions [".concat(l.join(", "),"] were found in the editor schema. Ensure they are included in the editor configuration.")),n}function P(e){var t;let{editor:l,node:n,nodePos:r}=e;if(!l||!(null==(t=l.state)?void 0:t.doc))return null;let i=null!=n,o=_(r);if(!i&&!o)return null;if(i){let e=-1,t=null;if(l.state.doc.descendants((l,r)=>l!==n||(e=r,t=l,!1)),-1!==e&&null!==t)return{pos:e,node:t}}if(o){let e=function(e,t){try{let l=e.state.doc.nodeAt(t);if(!l)return console.warn("No node found at position ".concat(t)),null;return l}catch(e){return console.error("Error getting node at position ".concat(t,":"),e),null}}(l,r);if(e)return{pos:r,node:e}}return null}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||!e.state.selection)return!1;let{state:l}=e,{doc:n,selection:r}=l;if(r.empty)return!1;if(r instanceof I.nh){let e=n.nodeAt(r.from);return!!e&&t.includes(e.type.name)}return!1}let F=async(e,t,l)=>{if(!e)throw Error("No file provided");if(e.size>5242880)throw Error("File size exceeds maximum allowed (".concat(5,"MB)"));if(null==l?void 0:l.aborted)throw Error("Upload cancelled");return await new Promise((n,r)=>{let i=new FileReader,o=()=>{try{i.abort()}catch(e){}r(Error("Upload cancelled"))};l&&l.addEventListener("abort",o,{once:!0}),i.onload=()=>{l&&l.removeEventListener("abort",o),null==t||t({progress:100}),n(i.result)},i.onerror=()=>{l&&l.removeEventListener("abort",o),r(Error("Failed to read file"))},i.readAsDataURL(e)})},z=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function G(e,t,l){try{let n=new URL(e,t);if(function(e,t){let l=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{let t="string"==typeof e?e:e.scheme;t&&l.push(t)}),!e||e.replace(z,"").match(RegExp("^(?:(?:".concat(l.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}(n.href,l))return n.href}catch(e){}return"#"}l(1999),l(2256),l(5654);let K=e=>{let{shortcuts:t}=e;return 0===t.length?null:(0,n.jsx)("div",{children:t.map((e,t)=>(0,n.jsxs)(r.Fragment,{children:[t>0&&(0,n.jsx)("kbd",{children:"+"}),(0,n.jsx)("kbd",{children:e})]},t))})},q=r.forwardRef((e,t)=>{let{className:l,children:i,tooltip:o,showTooltip:a=!0,shortcutKeys:s,"aria-label":c,...u}=e,d=r.useMemo(()=>V({shortcutKeys:s}),[s]);return o&&a?(0,n.jsxs)(S,{delay:200,children:[(0,n.jsx)(R,{className:T("tiptap-button",l),ref:t,"aria-label":c,...u,children:i}),(0,n.jsxs)(M,{children:[o,(0,n.jsx)(K,{shortcuts:d})]})]}):(0,n.jsx)("button",{className:T("tiptap-button",l),ref:t,"aria-label":c,...u,children:i})});q.displayName="Button";let W=r.forwardRef((e,t)=>{let{className:l,children:r,orientation:i="vertical",...o}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-button-group",l),"data-orientation":i,role:"group",...o,children:r})});W.displayName="ButtonGroup";let $=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})})});$.displayName="CloseIcon",l(6186);let X=()=>(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"tiptap-image-upload-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M11.1953 4.41771C10.3478 4.08499 9.43578 3.94949 8.5282 4.02147C7.62062 4.09345 6.74133 4.37102 5.95691 4.83316C5.1725 5.2953 4.50354 5.92989 4.00071 6.68886C3.49788 7.44783 3.17436 8.31128 3.05465 9.2138C2.93495 10.1163 3.0222 11.0343 3.3098 11.8981C3.5974 12.7619 4.07781 13.5489 4.71463 14.1995C5.10094 14.5942 5.09414 15.2274 4.69945 15.6137C4.30476 16 3.67163 15.9932 3.28532 15.5985C2.43622 14.731 1.79568 13.6816 1.41221 12.5299C1.02875 11.3781 0.91241 10.1542 1.07201 8.95084C1.23162 7.74748 1.66298 6.59621 2.33343 5.58425C3.00387 4.57229 3.89581 3.72617 4.9417 3.10998C5.98758 2.4938 7.15998 2.1237 8.37008 2.02773C9.58018 1.93176 10.7963 2.11243 11.9262 2.55605C13.0561 2.99968 14.0703 3.69462 14.8919 4.58825C15.5423 5.29573 16.0585 6.11304 16.4177 7.00002H17.4999C18.6799 6.99991 19.8288 7.37933 20.7766 8.08222C21.7245 8.78515 22.4212 9.7743 22.7637 10.9036C23.1062 12.0328 23.0765 13.2423 22.6788 14.3534C22.2812 15.4644 21.5367 16.4181 20.5554 17.0736C20.0962 17.3803 19.4752 17.2567 19.1684 16.7975C18.8617 16.3382 18.9853 15.7172 19.4445 15.4105C20.069 14.9934 20.5427 14.3865 20.7958 13.6794C21.0488 12.9724 21.0678 12.2027 20.8498 11.4841C20.6318 10.7655 20.1885 10.136 19.5853 9.6887C18.9821 9.24138 18.251 8.99993 17.5001 9.00002H15.71C15.2679 9.00002 14.8783 8.70973 14.7518 8.28611C14.4913 7.41374 14.0357 6.61208 13.4195 5.94186C12.8034 5.27164 12.0427 4.75043 11.1953 4.41771Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M11 14.4142V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V14.4142L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L12.7078 11.2936C12.7054 11.2912 12.703 11.2888 12.7005 11.2864C12.5208 11.1099 12.2746 11.0008 12.003 11L12 11L11.997 11C11.8625 11.0004 11.7343 11.0273 11.6172 11.0759C11.502 11.1236 11.3938 11.1937 11.2995 11.2864C11.297 11.2888 11.2946 11.2912 11.2922 11.2936L7.29289 15.2929C6.90237 15.6834 6.90237 16.3166 7.29289 16.7071C7.68342 17.0976 8.31658 17.0976 8.70711 16.7071L11 14.4142Z",fill:"currentColor"})]}),J=()=>(0,n.jsx)("svg",{width:"43",height:"57",viewBox:"0 0 43 57",fill:"currentColor",className:"tiptap-image-upload-dropzone-rect-primary",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0.75 10.75C0.75 5.64137 4.89137 1.5 10 1.5H32.3431C33.2051 1.5 34.0317 1.84241 34.6412 2.4519L40.2981 8.10876C40.9076 8.71825 41.25 9.5449 41.25 10.4069V46.75C41.25 51.8586 37.1086 56 32 56H10C4.89137 56 0.75 51.8586 0.75 46.75V10.75Z",fill:"currentColor",fillOpacity:"0.11",stroke:"currentColor",strokeWidth:"1.5"})}),Y=()=>(0,n.jsx)("svg",{width:"10",height:"10",className:"tiptap-image-upload-dropzone-rect-secondary",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0 0.75H0.343146C1.40401 0.75 2.42143 1.17143 3.17157 1.92157L8.82843 7.57843C9.57857 8.32857 10 9.34599 10 10.4069V10.75H4C1.79086 10.75 0 8.95914 0 6.75V0.75Z",fill:"currentColor"})}),Q=e=>{let{onFile:t,children:l}=e,[i,o]=r.useState(!1),[a,s]=r.useState(!1);return(0,n.jsx)("div",{className:"tiptap-image-upload-drag-area ".concat(a?"drag-active":""," ").concat(i?"drag-over":""),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),s(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||(s(!1),o(!1))},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),o(!0)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),s(!1),o(!1);let l=Array.from(e.dataTransfer.files);l.length>0&&t(l)},children:l})},ee=e=>{let{fileItem:t,onRemove:l}=e;return(0,n.jsxs)("div",{className:"tiptap-image-upload-preview",children:["uploading"===t.status&&(0,n.jsx)("div",{className:"tiptap-image-upload-progress",style:{width:"".concat(t.progress,"%")}}),(0,n.jsxs)("div",{className:"tiptap-image-upload-preview-content",children:[(0,n.jsxs)("div",{className:"tiptap-image-upload-file-info",children:[(0,n.jsx)("div",{className:"tiptap-image-upload-file-icon",children:(0,n.jsx)(X,{})}),(0,n.jsxs)("div",{className:"tiptap-image-upload-details",children:[(0,n.jsx)("span",{className:"tiptap-image-upload-text",children:t.file.name}),(0,n.jsx)("span",{className:"tiptap-image-upload-subtext",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][t])})(t.file.size)})]})]}),(0,n.jsxs)("div",{className:"tiptap-image-upload-actions",children:["uploading"===t.status&&(0,n.jsxs)("span",{className:"tiptap-image-upload-progress-text",children:[t.progress,"%"]}),(0,n.jsx)(q,{type:"button","data-style":"ghost",onClick:e=>{e.stopPropagation(),l()},children:(0,n.jsx)($,{className:"tiptap-button-icon"})})]})]})]})},et=e=>{let{maxSize:t,limit:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"tiptap-image-upload-dropzone",children:[(0,n.jsx)(J,{}),(0,n.jsx)(Y,{}),(0,n.jsx)("div",{className:"tiptap-image-upload-icon-container",children:(0,n.jsx)(X,{})})]}),(0,n.jsxs)("div",{className:"tiptap-image-upload-content",children:[(0,n.jsxs)("span",{className:"tiptap-image-upload-text",children:[(0,n.jsx)("em",{children:"Click to upload"})," or drag and drop"]}),(0,n.jsxs)("span",{className:"tiptap-image-upload-subtext",children:["Maximum ",l," file",1===l?"":"s",", ",t/1024/1024,"MB each."]})]})]})},el=e=>{let{accept:t,limit:l,maxSize:o}=e.node.attrs,a=r.useRef(null),s=e.extension,{fileItems:c,uploadFiles:u,removeFileItem:d,clearAllFiles:h}=function(e){let[t,l]=r.useState([]),n=async t=>{var n,r,i;if(t.size>e.maxSize){let t=Error("File size exceeds maximum allowed (".concat(e.maxSize/1024/1024,"MB)"));return null==(n=e.onError)||n.call(e,t),null}let o=new AbortController,a=crypto.randomUUID(),s={id:a,file:t,progress:0,status:"uploading",abortController:o};l(e=>[...e,s]);try{if(!e.upload)throw Error("Upload function is not defined");let n=await e.upload(t,e=>{l(t=>t.map(t=>t.id===a?{...t,progress:e.progress}:t))},o.signal);if(!n)throw Error("Upload failed: No URL returned");if(!o.signal.aborted)return l(e=>e.map(e=>e.id===a?{...e,status:"success",url:n,progress:100}:e)),null==(r=e.onSuccess)||r.call(e,n),n;return null}catch(t){return o.signal.aborted||(l(e=>e.map(e=>e.id===a?{...e,status:"error",progress:0}:e)),null==(i=e.onError)||i.call(e,t instanceof Error?t:Error("Upload failed"))),null}};return{fileItems:t,uploadFiles:async t=>{var l,r;if(!t||0===t.length)return null==(l=e.onError)||l.call(e,Error("No files to upload")),[];if(e.limit&&t.length>e.limit)return null==(r=e.onError)||r.call(e,Error("Maximum ".concat(e.limit," file").concat(1===e.limit?"":"s"," allowed"))),[];let i=t.map(e=>n(e));return(await Promise.all(i)).filter(e=>null!==e)},removeFileItem:e=>{l(t=>{let l=t.find(t=>t.id===e);return(null==l?void 0:l.abortController)&&l.abortController.abort(),(null==l?void 0:l.url)&&URL.revokeObjectURL(l.url),t.filter(t=>t.id!==e)})},clearAllFiles:()=>{t.forEach(e=>{e.abortController&&e.abortController.abort(),e.url&&URL.revokeObjectURL(e.url)}),l([])}}}({maxSize:o,limit:l,accept:t,upload:s.options.upload,onSuccess:s.options.onSuccess,onError:s.options.onError}),p=async t=>{let l=await u(t);if(l.length>0){let n=e.getPos();if(_(n)){let r=l.map((e,l)=>{var n;let r=(null==(n=t[l])?void 0:n.name.replace(/\.[^/.]+$/,""))||"unknown";return{type:"image",attrs:{src:e,alt:r,title:r}}});e.editor.chain().focus().deleteRange({from:n,to:n+1}).insertContentAt(n,r).run()}}},C=c.length>0;return(0,n.jsxs)(i.VR,{className:"tiptap-image-upload",tabIndex:0,onClick:()=>{a.current&&0===c.length&&(a.current.value="",a.current.click())},children:[!C&&(0,n.jsx)(Q,{onFile:p,children:(0,n.jsx)(et,{maxSize:o,limit:l})}),C&&(0,n.jsxs)("div",{className:"tiptap-image-upload-previews",children:[c.length>1&&(0,n.jsxs)("div",{className:"tiptap-image-upload-header",children:[(0,n.jsxs)("span",{children:["Uploading ",c.length," files"]}),(0,n.jsx)(q,{type:"button","data-style":"ghost",onClick:e=>{e.stopPropagation(),h()},children:"Clear All"})]}),c.map(e=>(0,n.jsx)(ee,{fileItem:e,onRemove:()=>d(e.id)},e.id))]}),(0,n.jsx)("input",{ref:a,name:"file",accept:t,type:"file",multiple:l>1,onChange:e=>{let t=e.target.files;if(!t||0===t.length){var l,n;null==(l=(n=s.options).onError)||l.call(n,Error("No file selected"));return}p(Array.from(t))},onClick:e=>e.stopPropagation()})]})},en=j.bP.create({name:"imageUpload",group:"block",draggable:!0,atom:!0,addOptions:()=>({accept:"image/*",limit:1,maxSize:0,upload:void 0,onError:void 0,onSuccess:void 0}),addAttributes(){var e;return{accept:{default:this.options.accept},limit:{default:this.options.limit},maxSize:{default:this.options.maxSize},mode:{default:null!=(e=this.options.mode)?e:""}}},parseHTML:()=>[{tag:'div[data-type="image-upload"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,j.KV)({"data-type":"image-upload"},t)]},addNodeView:()=>(0,i.gu)(el),addCommands(){var e=this;return{setImageUploadNode:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l=>{let{commands:n}=l;return n.insertContent({type:e.name,attrs:t})}}}},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,{selection:l}=t.state,{nodeAfter:n}=l.$from;if(n&&"imageUpload"===n.type.name&&t.isActive("imageUpload")){let e=t.view.nodeDOM(l.$from.pos);if(e&&e instanceof HTMLElement){let t=e.firstChild;if(t&&t instanceof HTMLElement)return t.click(),!0}}return!1}})});function er(e,t,l,n){let{dismissOptions:i,...o}=n||{},{refs:a,update:s,context:c,floatingStyles:u}=(0,L.we)({open:e,...o}),{isMounted:d,styles:h}=(0,L.DL)(c),p=(0,L.s9)(c,i),{getReferenceProps:C,getFloatingProps:f}=(0,L.bv)([p]);return r.useEffect(()=>{s()},[t,s]),r.useEffect(()=>{null!==t&&a.setReference({getBoundingClientRect:()=>t})},[t,a]),r.useMemo(()=>({isMounted:d,ref:a.setFloating,style:{...h,...u,zIndex:l},update:s,getFloatingProps:f,getReferenceProps:C}),[u,d,a.setFloating,h,s,l,f,C])}function ei(e){let{editor:t,containerRef:l,query:n,items:i,onSelect:o,onClose:a,orientation:s="vertical",autoSelectFirstItem:c=!0}=e,[u,d]=r.useState(c?0:-1);return r.useEffect(()=>{let e=e=>{if(!i.length)return!1;let t=()=>d(e=>-1===e?0:(e+1)%i.length),l=()=>d(e=>-1===e?i.length-1:(e-1+i.length)%i.length);switch(e.key){case"ArrowUp":if("horizontal"===s)return!1;return e.preventDefault(),l(),!0;case"ArrowDown":if("horizontal"===s)return!1;return e.preventDefault(),t(),!0;case"ArrowLeft":if("vertical"===s)return!1;return e.preventDefault(),l(),!0;case"ArrowRight":if("vertical"===s)return!1;return e.preventDefault(),t(),!0;case"Tab":return e.preventDefault(),e.shiftKey?l():t(),!0;case"Home":return e.preventDefault(),d(0),!0;case"End":return e.preventDefault(),d(i.length-1),!0;case"Enter":if(e.isComposing)return!1;return e.preventDefault(),-1!==u&&i[u]&&(null==o||o(i[u])),!0;case"Escape":return e.preventDefault(),null==a||a(),!0;default:return!1}},n=null;if(t?n=t.view.dom:(null==l?void 0:l.current)&&(n=l.current),n)return n.addEventListener("keydown",e,!0),()=>{null==n||n.removeEventListener("keydown",e,!0)}},[t,l,i,u,o,a,s]),r.useEffect(()=>{n&&d(c?0:-1)},[n,c]),{selectedIndex:i.length?u:void 0,setSelectedIndex:d}}function eo(e){let{editor:t}=(0,i.aA)(),l=r.useMemo(()=>e||t,[e,t]);return(0,i.er)({editor:l,selector:e=>e.editor?{editor:e.editor,editorState:e.editor.state,canCommand:e.editor.can}:{editor:null,editorState:void 0,canCommand:void 0}})||{editor:null}}l(9054),l(8922),l(5736),l(9998),l(6604),l(9162),l(2078);var ea=l(9552);let es=e=>{let{editor:t,floatingOptions:l,selector:i="tiptap-suggestion-menu",children:o,maxHeight:a=384,pluginKey:s=ea.X3,...c}=e,{editor:u}=eo(t),[d,h]=r.useState(!1),[p,C]=r.useState(null),[f,m]=r.useState(null),[x,g]=r.useState([]),[v,b]=r.useState(""),[,j]=r.useState(null),{ref:w,style:y,getFloatingProps:L,isMounted:k}=er(d,p,1e3,{placement:"bottom-start",middleware:[(0,N.cY)(10),(0,N.UU)({mainAxis:!0,crossAxis:!1}),(0,N.BN)(),(0,N.Ej)({apply(e){let{availableHeight:t,elements:l}=e;if(l.floating){let e=a?Math.min(a,t):t;l.floating.style.setProperty("--suggestion-menu-max-height","".concat(e,"px"))}}})],onOpenChange(e){e||h(!1)},...l}),E=r.useRef(c);r.useEffect(()=>{E.current=c},[c]);let A=r.useCallback(()=>{h(!1)},[]);r.useEffect(()=>{if(!u||u.isDestroyed)return;u.state.plugins.find(e=>e.spec.key===s)&&u.unregisterPlugin(s);let e=(0,ea.V0)({pluginKey:s instanceof I.hs?s:new I.hs(s),editor:u,command(e){var t,l;let{editor:n,range:r,props:i}=e;if(!r)return;let{view:o,state:a}=n,{selection:s}=a;if(!n.extensionManager.extensions.some(e=>{var t,l;return"mention"===e.name&&(null==(l=e.options)||null==(t=l.suggestion)?void 0:t.char)===E.current.char})){let e=s.$from.pos,t=null==(l=s.$head)?void 0:l.nodeBefore,n=t?function(e,t,l){if(!(null==t?void 0:t.text)||!l)return e;let n=t.text,r=n.lastIndexOf(l);return -1===r?e:e-n.substring(r).length}(e,t,E.current.char):s.$from.start(),r=a.tr.deleteRange(n,e);o.dispatch(r)}let c=o.state.selection.$to.nodeAfter,u=null==c||null==(t=c.text)?void 0:t.startsWith(" "),d={...r};u&&(d.to+=1),i.onSelect({editor:n,range:d,context:i.context})},render:()=>({onStart:e=>{var t,l;m(()=>e.command),g(e.items),b(e.query),j(e.range),C(null!=(l=null==(t=e.clientRect)?void 0:t.call(e))?l:null),h(!0)},onUpdate:e=>{var t,l;m(()=>e.command),g(e.items),b(e.query),j(e.range),C(null!=(l=null==(t=e.clientRect)?void 0:t.call(e))?l:null)},onKeyDown:e=>"Escape"===e.event.key&&(A(),!0),onExit:()=>{m(null),g([]),b(""),j(null),C(null),h(!1)}}),...E.current});return u.registerPlugin(e),()=>{u.isDestroyed||u.unregisterPlugin(s)}},[u,s,A]);let S=r.useCallback(e=>{A(),f&&f(e)},[A,f]),{selectedIndex:R}=ei({editor:u,query:v,items:x,onSelect:S});return k&&d&&u?(0,n.jsx)("div",{ref:w,style:y,...L(),"data-selector":i,className:"tiptap-suggestion-menu",role:"listbox","aria-label":"Suggestions",children:o({items:x,selectedIndex:R,onSelect:S})}):null};var ec=l(9509);let eu=ec.env.NEXT_PUBLIC_TIPTAP_COLLAB_DOC_PREFIX||"";ec.env.NEXT_PUBLIC_TIPTAP_COLLAB_APP_ID,ec.env.NEXT_PUBLIC_TIPTAP_COLLAB_TOKEN,ec.env.NEXT_PUBLIC_TIPTAP_AI_APP_ID,ec.env.NEXT_PUBLIC_TIPTAP_AI_TOKEN,ec.env.NEXT_PUBLIC_USE_JWT_TOKEN_API_ENDPOINT;let ed={paragraph:"text",codeBlock:"Codeblock"},eh=e=>{if(!e)return"Node";let{selection:t}=e.state;if(t instanceof I.nh){let e=t.node.type.name;return ed[e]||e.toLowerCase()}let{$anchor:l}=t,n=l.parent.type.name;return ed[n]||n.toLowerCase()};function ep(e,t){let l=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=l.top<n.top,i=l.bottom>n.bottom;return r&&i?"both":r?"top":i?"bottom":"none"}let eC=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["imageUpload"];if(!e)return!1;t||(t=e.state.selection);let{state:n}=e,{doc:r}=n,{empty:i,from:o,to:a}=t,s=!r.textBetween(o,a).length&&(0,j.eE)(t),c=t.$from.parent.type.spec.code||(0,j.BQ)(t)&&t.node.type.spec.code,u=(0,j.BQ)(t)&&l.includes(t.node.type.name);return!i&&!s&&!c&&!u},ef=e=>{let{state:t}=e.view,{selection:l}=t,{ranges:n}=l,r=Math.min(...n.map(e=>e.$from.pos)),i=Math.max(...n.map(e=>e.$to.pos));if((0,j.BQ)(l)){let t=e.view.nodeDOM(r);if(t)return t.getBoundingClientRect()}return(0,j.MG)(e.view,r,i)};function em(e){let{className:t,type:l,...r}=e;return(0,n.jsx)("input",{type:l,className:T("tiptap-input",t),...r})}function ex(e){let{className:t,children:l,...r}=e;return(0,n.jsx)("div",{className:T("tiptap-input-group",t),...r,children:l})}l(5908),l(9926);let eg=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-card",l),...r})});eg.displayName="Card",r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-card-header",l),...r})}).displayName="CardHeader";let ev=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-card-body",l),...r})});ev.displayName="CardBody";let eb=r.forwardRef((e,t)=>{let{className:l,orientation:r="vertical",...i}=e;return(0,n.jsx)("div",{ref:t,"data-orientation":r,className:T("tiptap-card-item-group",l),...i})});eb.displayName="CardItemGroup";let ej=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-card-group-label",l),...r})});ej.displayName="CardGroupLabel",r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)("div",{ref:t,className:T("tiptap-card-footer",l),...r})}).displayName="CardFooter",l(5638);let ew=e=>{let{emoji:t,isSelected:l,onSelect:i,selector:o}=e,a=r.useRef(null);return(r.useEffect(()=>{let e=document.querySelector(o);if(!a.current||!l||!e)return;let t=ep(a.current,e);"top"===t?a.current.scrollIntoView(!0):"bottom"===t&&a.current.scrollIntoView(!1)},[l,o]),t)?(0,n.jsxs)(q,{ref:a,"data-style":"ghost","data-active-state":l?"on":"off",onClick:()=>i(t),children:[t.fallbackImage?(0,n.jsx)("img",{className:"tiptap-button-emoji",src:t.fallbackImage,alt:t.name}):(0,n.jsx)("span",{className:"tiptap-button-emoji",children:t.emoji}),(0,n.jsxs)("span",{className:"tiptap-button-text",children:[":",t.name,":"]})]}):null},ey=(e,t)=>e.name.localeCompare(t.name),eL=e=>(0,n.jsx)(es,{char:":",pluginKey:"emojiDropdownMenu",decorationClass:"tiptap-emoji-decoration",selector:"tiptap-emoji-dropdown-menu",items:ek,...e,children:e=>(0,n.jsx)(eN,{...e})}),ek=async e=>{let t=e.editor.extensionStorage.emoji.emojis||[];return(e=>{let{query:t,emojis:l}=e,n=t.trim();return(n?l.filter(e=>((e,t)=>{let l=e.toLowerCase().trim();return t.name.toLowerCase().includes(l)||t.shortcodes.some(e=>e.toLowerCase().includes(l))||t.tags.some(e=>e.toLowerCase().includes(l))})(n,e)).slice(0,100):l.slice(0,100)).sort(ey)})({query:e.query,emojis:t}).map(e=>({title:e.name,subtext:e.shortcodes.join(", "),context:e,onSelect:e=>{e.editor&&e.range&&e.context&&e.editor.chain().focus().setEmoji(e.context.name).run()}}))},eN=e=>{let{items:t,selectedIndex:l,onSelect:i}=e,o=r.useMemo(()=>{let e=[];return t.forEach((t,r)=>{t.context&&e.push((0,n.jsx)(ew,{emoji:t.context,index:r,isSelected:r===l,onSelect:()=>i(t),selector:"[data-selector='tiptap-emoji-dropdown-menu']"},t.title))}),e},[t,l,i]);return o.length?(0,n.jsx)(eg,{style:{maxHeight:"var(--suggestion-menu-max-height)"},children:(0,n.jsx)(ev,{children:(0,n.jsx)(W,{children:o})})}):null},eE=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70711 2.29289C7.09763 2.68342 7.09763 3.31658 6.70711 3.70711L4.41421 6L6.70711 8.29289C7.09763 8.68342 7.09763 9.31658 6.70711 9.70711C6.31658 10.0976 5.68342 10.0976 5.29289 9.70711L2.29289 6.70711C1.90237 6.31658 1.90237 5.68342 2.29289 5.29289L5.29289 2.29289C5.68342 1.90237 6.31658 1.90237 6.70711 2.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2929 2.29289C10.6834 1.90237 11.3166 1.90237 11.7071 2.29289L14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L11.7071 9.70711C11.3166 10.0976 10.6834 10.0976 10.2929 9.70711C9.90237 9.31658 9.90237 8.68342 10.2929 8.29289L12.5858 6L10.2929 3.70711C9.90237 3.31658 9.90237 2.68342 10.2929 2.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 4C17 3.44772 17.4477 3 18 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H18C17.4477 5 17 4.55228 17 4Z",fill:"currentColor"})]})});eE.displayName="CodeBlockIcon";let eA=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]})});eA.displayName="HeadingOneIcon";let eS=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]})});eS.displayName="HeadingTwoIcon";let eR=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]})});eR.displayName="HeadingThreeIcon";let eM=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C4.44772 4 4 4.44772 4 5V19C4 19.5523 4.44772 20 5 20H5.58579L14.379 11.2068C14.9416 10.6444 15.7045 10.3284 16.5 10.3284C17.2955 10.3284 18.0584 10.6444 18.621 11.2068L20 12.5858V5C20 4.44772 19.5523 4 19 4H5ZM22 14.998V5C22 3.34315 20.6569 2 19 2H5C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H5.99781C5.99927 22 6.00073 22 6.00219 22H19C20.6569 22 22 20.6569 22 19V15.002C22 15.0007 22 14.9994 22 14.998ZM20 15.4142L17.207 12.6212C17.0195 12.4338 16.7651 12.3284 16.5 12.3284C16.2349 12.3284 15.9806 12.4337 15.7931 12.6211L8.41422 20H19C19.5523 20 20 19.5523 20 19V15.4142ZM9 8C8.44772 8 8 8.44772 8 9C8 9.55228 8.44772 10 9 10C9.55228 10 10 9.55228 10 9C10 8.44772 9.55228 8 9 8ZM6 9C6 7.34315 7.34315 6 9 6C10.6569 6 12 7.34315 12 9C12 10.6569 10.6569 12 9 12C7.34315 12 6 10.6569 6 9Z",fill:"currentColor"})})});eM.displayName="ImageIcon";let eI=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]})});eI.displayName="ListIcon";let eH=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]})});eH.displayName="ListOrderedIcon";let eT=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]})});eT.displayName="BlockquoteIcon";let eB=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]})});eB.displayName="ListTodoIcon";let eV=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.94924 1.68544C6.81364 1.27624 6.43108 1 6 1C5.56892 1 5.18636 1.27624 5.05076 1.68544L4.3711 3.73642C4.2717 4.03638 4.03638 4.2717 3.73642 4.3711L1.68544 5.05076C1.27624 5.18636 1 5.56892 1 6C1 6.43108 1.27624 6.81364 1.68544 6.94924L3.73642 7.6289C4.03638 7.7283 4.2717 7.96362 4.3711 8.26358L5.05076 10.3146C5.18636 10.7238 5.56892 11 6 11C6.43108 11 6.81364 10.7238 6.94924 10.3146L7.6289 8.26358C7.7283 7.96362 7.96362 7.7283 8.26358 7.6289L10.3146 6.94924C10.7238 6.81364 11 6.43108 11 6C11 5.56892 10.7238 5.18636 10.3146 5.05076L8.26358 4.3711C7.96362 4.2717 7.7283 4.03638 7.6289 3.73642L6.94924 1.68544ZM4.95595 6C5.38537 5.74447 5.74447 5.38537 6 4.95595C6.25554 5.38537 6.61463 5.74447 7.04405 6C6.61463 6.25554 6.25554 6.61463 6 7.04405C5.74447 6.61463 5.38537 6.25554 4.95595 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9492 5.68544C14.8136 5.27624 14.4311 5 14 5C13.5689 5 13.1864 5.27624 13.0508 5.68544L11.3755 10.7408C11.2761 11.0408 11.0408 11.2761 10.7408 11.3755L5.68544 13.0508C5.27624 13.1864 5 13.5689 5 14C5 14.4311 5.27624 14.8136 5.68544 14.9492L10.7408 16.6245C11.0408 16.7239 11.2761 16.9592 11.3755 17.2592L13.0508 22.3146C13.1864 22.7238 13.5689 23 14 23C14.4311 23 14.8136 22.7238 14.9492 22.3146L16.6245 17.2592C16.7239 16.9592 16.9592 16.7239 17.2592 16.6245L22.3146 14.9492C22.7238 14.8136 23 14.4311 23 14C23 13.5689 22.7238 13.1864 22.3146 13.0508L17.2592 11.3755C16.9592 11.2761 16.7239 11.0408 16.6245 10.7408L14.9492 5.68544ZM13.274 11.3699L14 9.17903L14.726 11.3699C15.0242 12.2698 15.7302 12.9758 16.6301 13.274L18.821 14L16.6301 14.726C15.7302 15.0242 15.0242 15.7302 14.726 16.6301L14 18.821L13.274 16.6301C12.9758 15.7302 12.2698 15.0242 11.3699 14.726L9.17903 14L11.3699 13.274C12.2698 12.9758 12.9758 12.2698 13.274 11.3699Z",fill:"currentColor"})]})});eV.displayName="AiSparklesIcon";let eZ=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12C4 11.4477 4.44772 11 5 11H19C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13H5C4.44772 13 4 12.5523 4 12Z",fill:"currentColor"})})});eZ.displayName="MinusIcon";let eO=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M3 4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V7C21 7.55228 20.5523 8 20 8C19.4477 8 19 7.55228 19 7V5H13V19H15C15.5523 19 16 19.4477 16 20C16 20.5523 15.5523 21 15 21H9C8.44772 21 8 20.5523 8 20C8 19.4477 8.44772 19 9 19H11V5H5V7C5 7.55228 4.55228 8 4 8C3.44772 8 3 7.55228 3 7V4Z",fill:"currentColor"})})});eO.displayName="TypeIcon";let e_=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5273 1.29427C12.1156 0.724951 9.58234 0.986597 7.33794 2.03682C5.09354 3.08704 3.26948 4.8643 2.1613 7.08066C1.05312 9.29702 0.725742 11.8226 1.23221 14.2483C1.73868 16.6739 3.04931 18.8575 4.95178 20.4453C6.85424 22.033 9.23706 22.9319 11.7142 22.9963C14.1913 23.0607 16.6176 22.2868 18.6 20.8C19.0418 20.4686 19.1314 19.8418 18.8 19.4C18.4686 18.9582 17.8418 18.8686 17.4 19.2C15.7781 20.4165 13.7929 21.0496 11.7662 20.997C9.73942 20.9443 7.78983 20.2088 6.23327 18.9098C4.67671 17.6107 3.60437 15.8241 3.18999 13.8395C2.77561 11.8549 3.04346 9.78847 3.95015 7.97509C4.85685 6.1617 6.34926 4.70758 8.18559 3.84831C10.0219 2.98904 12.0946 2.77496 14.0678 3.24077C16.041 3.70658 17.7991 4.82497 19.0573 6.41476C20.3155 8.00455 21 9.97258 21 12V13C21 13.5304 20.7893 14.0392 20.4142 14.4142C20.0391 14.7893 19.5304 15 19 15C18.4696 15 17.9609 14.7893 17.5858 14.4142C17.2107 14.0392 17 13.5304 17 13V8.00001C17 7.44772 16.5523 7.00001 16 7.00001C15.4478 7.00001 15.0002 7.44752 15 7.99964C14.1643 7.37195 13.1256 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17C13.4881 17 14.8243 16.3499 15.7403 15.3183C15.8687 15.4989 16.0128 15.6696 16.1716 15.8284C16.9217 16.5786 17.9391 17 19 17C20.0609 17 21.0783 16.5786 21.8284 15.8284C22.5786 15.0783 23 14.0609 23 13V12C23 9.52205 22.1633 7.11667 20.6255 5.17359C19.0878 3.23052 16.939 1.86359 14.5273 1.29427ZM15 11.9958V12.0042C14.9977 13.6591 13.6555 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6555 9 14.9977 10.3409 15 11.9958Z",fill:"currentColor"})})});e_.displayName="AtSignIcon";let eU=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.67909 4.05505C9.27254 3.18292 11.0926 2.81337 12.9 2.995C13.4495 3.05022 13.9398 2.64952 13.995 2.1C14.0502 1.55048 13.6495 1.06024 13.1 1.00502C10.8909 0.783033 8.66641 1.2347 6.71886 2.30064C4.7713 3.36659 3.19189 4.99691 2.18824 6.97729C1.1846 8.95767 0.803706 11.1954 1.09564 13.3963C1.38758 15.5972 2.33867 17.6583 3.8239 19.3085C5.30912 20.9588 7.25894 22.121 9.41704 22.6423C11.5751 23.1637 13.8405 23.0198 15.9153 22.2296C17.9901 21.4394 19.7772 20.0398 21.0417 18.2149C22.3062 16.39 22.9889 14.2252 23 12.005L23 12V11C23 10.4477 22.5523 10 22 10C21.4477 10 21 10.4477 21 11V11.9976C20.9904 13.8132 20.4319 15.5834 19.3978 17.0758C18.3632 18.5689 16.901 19.714 15.2034 20.3605C13.5059 21.0071 11.6524 21.1248 9.8867 20.6982C8.12098 20.2717 6.52567 19.3208 5.31048 17.9706C4.0953 16.6204 3.31713 14.9341 3.07828 13.1333C2.83942 11.3326 3.15106 9.50171 3.97222 7.8814C4.79339 6.26109 6.08564 4.92719 7.67909 4.05505ZM7.4 13.2C7.84043 12.8697 8.46468 12.9576 8.79686 13.3958L8.8015 13.4018C8.80745 13.4093 8.81876 13.4234 8.83531 13.4431C8.86846 13.4826 8.92219 13.5442 8.99542 13.6206C9.14272 13.7743 9.36407 13.9828 9.65067 14.1913C10.2277 14.6109 11.0255 15 12 15C12.9745 15 13.7723 14.6109 14.3493 14.1913C14.6359 13.9828 14.8573 13.7743 15.0046 13.6206C15.0778 13.5442 15.1315 13.4826 15.1647 13.4431C15.1812 13.4234 15.1925 13.4093 15.1985 13.4018L15.2031 13.3958C15.5353 12.9576 16.1596 12.8697 16.6 13.2C17.0418 13.5314 17.1314 14.1582 16.8 14.6L16 14C16.8 14.6 16.7998 14.6003 16.7995 14.6006L16.799 14.6013L16.7978 14.6029L16.7951 14.6065L16.7879 14.6159L16.7666 14.6432C16.7493 14.6649 16.726 14.6938 16.6966 14.7288C16.638 14.7987 16.555 14.8933 16.4485 15.0044C16.2365 15.2257 15.9266 15.5172 15.5257 15.8087C14.7277 16.3891 13.5255 17 12 17C10.4745 17 9.27227 16.3891 8.47433 15.8087C8.07343 15.5172 7.76352 15.2257 7.55145 15.0044C7.445 14.8933 7.362 14.7987 7.30336 14.7288C7.274 14.6938 7.25065 14.6649 7.23341 14.6432L7.21211 14.6159L7.2049 14.6065L7.20216 14.6029L7.20101 14.6013L7.20048 14.6006C7.20024 14.6003 7.2 14.6 8 14L7.2 14.6C6.86863 14.1582 6.95817 13.5314 7.4 13.2ZM8 9C8 8.44772 8.44772 8 9 8H9.01C9.56229 8 10.01 8.44772 10.01 9C10.01 9.55229 9.56229 10 9.01 10H9C8.44772 10 8 9.55229 8 9ZM15 8C14.4477 8 14 8.44772 14 9C14 9.55229 14.4477 10 15 10H15.01C15.5623 10 16.01 9.55229 16.01 9C16.01 8.44772 15.5623 8 15.01 8H15ZM15 5C15 4.44772 15.4477 4 16 4H18V2C18 1.44772 18.4477 1 19 1C19.5523 1 20 1.44772 20 2V4H22C22.5523 4 23 4.44772 23 5C23 5.55228 22.5523 6 22 6H20V8C20 8.55228 19.5523 9 19 9C18.4477 9 18 8.55228 18 8V6H16C15.4477 6 15 5.55228 15 5Z",fill:"currentColor"})})});function eP(e){let{className:t}=e;return(0,n.jsxs)("svg",{className:t,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"M9 8h6"}),(0,n.jsx)("path",{d:"M8 12h8"}),(0,n.jsx)("path",{d:"M10 16h4"})]})}function eD(e,t){return Array.from({length:Math.ceil(e.length/t)},(l,n)=>e.slice(n*t,n*t+t))}function eF(e,t){if(!e)return null;let{state:l}=e,{from:n,to:r,empty:i,$from:o}=l.selection;if(i){var a;let e=o.marks().find(e=>e.type.name===t);return null!=(a=null==e?void 0:e.attrs)?a:null}let s=new Set,c=null;return l.doc.nodesBetween(n,r,e=>{if(e.isText)for(let l of e.marks)l.type.name!==t||s.has(l.type.name)||(s.add(l.type.name),c=l.attrs)}),c}function ez(e){let{editor:t,node:l,nodePos:n}=e;if(_(n))return n;if(l){let e=P({editor:t,node:l});if(e)return e.pos}let{selection:r}=t.state;if(!r.empty)return null;let i=r.$anchor;return i.node(1)?i.before(1):null}function eG(e){let{state:t,view:l}=e,{selection:n}=t;if(n instanceof I.nh)return l.nodeDOM(n.from);if(n instanceof I.U3){let e=n.$anchor;if(e.depth>=1){let t=l.nodeDOM(e.before(1));if(t instanceof HTMLElement)return t}}return null}function eK(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e)return null;let{state:l}=e,{selection:n}=l;if(n.empty&&!t)return null;let r=n.$anchor;return{node:r.node(1),pos:r.before(1)}}eU.displayName="SmilePlusIcon",l(781),l(4202),l(36);let eq=r.forwardRef((e,t)=>{let{variant:l,size:r="default",appearance:i="default",trimText:o=!1,className:a,children:s,...c}=e;return(0,n.jsx)("div",{ref:t,className:"tiptap-badge ".concat(a||""),"data-style":l,"data-size":r,"data-appearance":i,"data-text-trim":o?"on":"off",...c,children:s})});function eW(e){let{shortcutKeys:t=eJ}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}eq.displayName="Badge",r.forwardRef((e,t)=>{let{editor:l,node:i,nodePos:o,text:a,trigger:s=":",hideWhenUnavailable:c=!1,onTriggerApplied:u,showShortcut:d=!1,onClick:h,children:p,...C}=e,{editor:f}=eo(l),{isVisible:m,canAddTrigger:x,handleAddTrigger:g,label:v,shortcutKeys:b,Icon:j}=function(e){let{editor:t,node:l,nodePos:n,trigger:i=":",hideWhenUnavailable:o=!1,onTriggerApplied:a}=e||{},{editor:s}=eo(t),c=eX(),[u,d]=r.useState(!0),h=eY(s);r.useEffect(()=>{if(!s)return;let e=()=>{d(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||eY(t))}({editor:s,hideWhenUnavailable:o}))};return e(),s.on("selectionUpdate",e),()=>{s.off("selectionUpdate",e)}},[s,o]);let p=r.useCallback(()=>{if(!s)return!1;let e=eQ(s,i,l,n);return e&&(null==a||a(i)),e},[s,i,l,n,a]);return(0,e$.vC)(eJ,e=>{e.preventDefault(),p()},{enabled:u&&h,enableOnContentEditable:!c,enableOnFormTags:!0}),{isVisible:u,handleAddTrigger:p,canAddTrigger:h,label:"Add emoji",shortcutKeys:eJ,trigger:i,Icon:eU}}({editor:f,node:i,nodePos:o,trigger:s,hideWhenUnavailable:c,onTriggerApplied:u}),w=r.useCallback(e=>{null==h||h(e),e.defaultPrevented||g()},[g,h]);return m?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,disabled:!x,"data-disabled":!x,"aria-label":v,tooltip:"Add emoji",onClick:w,...C,ref:t,children:null!=p?p:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{className:"tiptap-button-icon"}),a&&(0,n.jsx)("span",{className:"tiptap-button-text",children:a}),d&&(0,n.jsx)(eW,{shortcutKeys:b})]})}):null}).displayName="EmojiTriggerButton";var e$=l(8310);function eX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[t,l]=r.useState(void 0);return r.useEffect(()=>{let t=window.matchMedia("(max-width: ".concat(e-1,"px)")),n=()=>{l(window.innerWidth<e)};return t.addEventListener("change",n),l(window.innerWidth<e),()=>t.removeEventListener("change",n)},[e]),!!t}let eJ="mod+shift+e";function eY(e){return!(!e||!e.isEditable||D(e,["image"]))}function eQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",l=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!e||!e.isEditable||!eY(e))return!1;try{let{$from:r}=e.state.selection,i=r.node();if(i.isBlock&&!i.isTextblock){if(null!=l||_(n)){let r=P({editor:e,node:l||void 0,nodePos:n||void 0});if(!r)return!1;let i="paragraph"===r.node.type.name&&0===r.node.content.size,o=r.pos+r.node.nodeSize;return e.chain().insertContentAt(i?r.pos:o,{type:"paragraph",content:[{type:"text",text:t}]}).focus(i?r.pos+2:o+t.length+1).run()}let{$from:r}=e.state.selection;return e.chain().insertContentAt(r.after(),{type:"paragraph",content:[{type:"text",text:t}]}).focus().run()}return function(e,t,l,n){if(null!=l||_(n)){let r=P({editor:e,node:l||void 0,nodePos:n||void 0});if(!r)return!1;let i="paragraph"===r.node.type.name&&0===r.node.content.size,o=r.pos+r.node.nodeSize;return e.view.dispatch(e.view.state.tr.scrollIntoView().insertText(t,i?r.pos:o,i?r.pos:o)),e.commands.focus(i?r.pos+2:o+t.length+1),!0}let{$from:r}=e.state.selection,i=r.node(),o=r.parentOffset>0&&" "!==i.textContent[r.parentOffset-1];return e.chain().insertContent({type:"text",text:o?" ".concat(t):t}).focus().run()}(e,t,l,n)}catch(e){return!1}}function e1(e){let{shortcutKeys:t=e2}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}r.forwardRef((e,t)=>{let{editor:l,node:i,nodePos:o,text:a,trigger:s="@",hideWhenUnavailable:c=!1,onTriggered:u,showShortcut:d=!1,onClick:h,children:p,...C}=e,{editor:f}=eo(l),{isVisible:m,canInsert:x,handleMention:g,label:v,shortcutKeys:b,Icon:j}=function(e){let{editor:t,node:l,nodePos:n,trigger:i="@",hideWhenUnavailable:o=!1,onTriggered:a}=e||{},{editor:s}=eo(t),c=eX(),[u,d]=r.useState(!0),h=e0(s,l,n);r.useEffect(()=>{if(!s)return;let e=()=>{d(function(e){let{editor:t,hideWhenUnavailable:l,node:n,nodePos:r}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||e0(t,n,r))}({editor:s,hideWhenUnavailable:o,node:l,nodePos:n}))};return e(),s.on("selectionUpdate",e),()=>{s.off("selectionUpdate",e)}},[s,o,l,n]);let p=r.useCallback(()=>{if(!s)return!1;let e=e7(s,i,l,n);return e&&(null==a||a(i)),e},[s,i,l,n,a]);return(0,e$.vC)(e2,e=>{e.preventDefault(),p()},{enabled:u&&h,enableOnContentEditable:!c,enableOnFormTags:!0}),{isVisible:u,handleMention:p,canInsert:h,label:"Add mention",shortcutKeys:e2,trigger:i,Icon:e_}}({editor:f,node:i,nodePos:o,trigger:s,hideWhenUnavailable:c,onTriggered:u}),w=r.useCallback(e=>{null==h||h(e),e.defaultPrevented||g()},[g,h]);return m?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,disabled:!x,"data-disabled":!x,"aria-label":v,tooltip:v,onClick:w,...C,ref:t,children:null!=p?p:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{className:"tiptap-button-icon"}),a&&(0,n.jsx)("span",{className:"tiptap-button-text",children:a}),d&&(0,n.jsx)(e1,{shortcutKeys:b})]})}):null}).displayName="MentionTriggerButton";let e2="mod+shift+2";function e0(e,t,l){if(!e||!e.isEditable||D(e,["image"]))return!1;if(t||_(l)){if(_(l)&&l>=0)return!0;if(t)return null!==P({editor:e,node:t})}return!0}function e7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@",l=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!e||!e.isEditable||!e0(e,l,n))return!1;try{let{$from:r}=e.state.selection,i=r.node();if(i.isBlock&&!i.isTextblock)return function(e,t,l,n){if(null!=l||_(n)){let r=P({editor:e,node:l||void 0,nodePos:n||void 0});if(!r)return!1;let i="paragraph"===r.node.type.name&&0===r.node.content.size,o=i?r.pos:r.pos+r.node.nodeSize,a=t.length+1,s=i?r.pos+a:r.pos+r.node.nodeSize+a;return e.chain().insertContentAt(i?r.pos:o,{type:"paragraph",content:[{type:"text",text:t}]}).focus(s).run()}let{$from:r}=e.state.selection;return e.chain().insertContentAt(r.after(),{type:"paragraph",content:[{type:"text",text:t}]}).focus().run()}(e,t,l,n);return function(e,t,l,n){if(null!=l||_(n)){let r=P({editor:e,node:l||void 0,nodePos:n||void 0});if(!r)return!1;let i="paragraph"===r.node.type.name&&0===r.node.content.size,o=i?r.pos:r.pos+r.node.nodeSize;e.view.dispatch(e.view.state.tr.scrollIntoView().insertText(t,o,o));let a=t.length+1,s=i?r.pos+a:r.pos+r.node.nodeSize+a;return e.commands.focus(s),!0}let{$from:r}=e.state.selection,i=r.node(),o=r.parentOffset>0&&" "!==i.textContent[r.parentOffset-1];return e.chain().insertContent({type:"text",text:o?" ".concat(t):t}).focus().run()}(e,t,l,n)}catch(e){return!1}}async function e4(e){let{url:t,apiKey:l,body:n,signal:r}=e;if(!t)throw Error("Lambda URL is not configured");let i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...l?{Authorization:"Bearer ".concat(l)}:{}},body:JSON.stringify(null!=n?n:{}),signal:r});if(!i.ok){let e=await i.text().catch(()=>"");throw Error("Lambda error ".concat(i.status,": ").concat(e))}return await i.json()}var e5=l(9509);async function e9(e,t){let l=((null==t?void 0:t.url)||e5.env.NEXT_PUBLIC_AI_IMAGE_TO_LATEX_URL||"https://afsmdmthqd3vnu5x4to37j3ubu0mubwx.lambda-url.ap-northeast-2.on.aws/").trim(),n=(null==t?void 0:t.apiKey)||e5.env.NEXT_PUBLIC_AI_API_KEY||null;return await e4({url:l,apiKey:n,body:e,signal:null==t?void 0:t.signal})}var e3=l(9509);async function e6(e,t){let l=(null==t?void 0:t.url)||e3.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",n=l.includes("?")?"".concat(l,"&mode=3"):"".concat(l,"?mode=3"),r=(null==t?void 0:t.apiKey)||e3.env.NEXT_PUBLIC_AI_API_KEY||null,i=e3.env.NEXT_PUBLIC_BEDROCK_INFERENCE_PROFILE_ARN,o=e3.env.NEXT_PUBLIC_BEDROCK_INFERENCE_PROFILE_ID;return{...e,...e.inferenceProfileArn||i?{inferenceProfileArn:e.inferenceProfileArn||i}:{},...e.inferenceProfileId||o?{inferenceProfileId:e.inferenceProfileId||o}:{}},await e4({url:n,apiKey:r,body:e,signal:null==t?void 0:t.signal})}var e8=l(9509);async function te(e,t){let l=(null==t?void 0:t.url)||e8.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",n=l.includes("?")?"".concat(l,"&mode=1"):"".concat(l,"?mode=1"),r=(null==t?void 0:t.apiKey)||e8.env.NEXT_PUBLIC_AI_API_KEY||null;return await e4({url:n,apiKey:r,body:e,signal:null==t?void 0:t.signal})}let tt={hiaryai_image_to_latex:{title:"Image → LaTeX",subtext:"이미지를 인식하여 LaTeX로 변환",aliases:["image","latex","ocr","mathpix","hiaryAI"],badge:eV,group:"hiaryAI"},hiaryai_three_line_summary:{title:"Three-line Summary",subtext:"문서를 세 줄로 요약",aliases:["summary","three","3","lines","hiaryAI"],badge:eV,group:"hiaryAI"},hiaryai_one_line_summary:{title:"One-line Summary",subtext:"문서를 한 줄로 요약",aliases:["summary","one","1","line","hiaryAI"],badge:eV,group:"hiaryAI"},continue_writing:{title:"Continue Writing",subtext:"Continue writing from the current position",aliases:["continue","write","continue writing","ai"],badge:eV,group:"AI"},ai_ask_button:{title:"Ask AI",subtext:"Ask AI to generate content",aliases:["ai","ask","generate"],badge:eV,group:"AI"},text:{title:"Text",subtext:"Regular text paragraph",aliases:["p","paragraph","text"],badge:eO,group:"Style"},heading_1:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],badge:eA,group:"Style"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],badge:eS,group:"Style"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],badge:eR,group:"Style"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],badge:eI,group:"Style"},ordered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],badge:eH,group:"Style"},task_list:{title:"To-do list",subtext:"List with tasks",aliases:["tasklist","task list","todo","checklist"],badge:eB,group:"Style"},quote:{title:"Blockquote",subtext:"Blockquote block",aliases:["quote","blockquote"],badge:eT,group:"Style"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],badge:eE,group:"Style"},mention:{title:"Mention",subtext:"Mention a user or item",aliases:["mention","user","item","tag"],badge:e_,group:"Insert"},emoji:{title:"Emoji",subtext:"Insert an emoji",aliases:["emoji","emoticon","smiley"],badge:eU,group:"Insert"},divider:{title:"Separator",subtext:"Horizontal line to separate content",aliases:["hr","horizontalRule","line","separator"],badge:eZ,group:"Insert"},inline_math:{title:"인라인 수식",subtext:"텍스트 중간에 수식 삽입",aliases:["math","latex","formula","equation","inline"],badge:eP,group:"Insert"},block_math:{title:"블록 수식",subtext:"독립된 블록으로 수식 삽입",aliases:["math","latex","formula","equation","block"],badge:eP,group:"Insert"},table:{title:"테이블",subtext:"3x3 테이블 삽입",aliases:["TableKit"],badge:eP,group:"Insert"},table_add_row:{title:"행 추가(아래)",subtext:"현재 행 아래에 새 행을 추가",aliases:["row","add row","행 추가"],badge:eP,group:"Insert"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],badge:eM,group:"Upload"}};l(1516);let tl=r.forwardRef((e,t)=>{let{decorative:l,orientation:r="vertical",className:i,...o}=e;return(0,n.jsx)("div",{className:T("tiptap-separator",i),"data-orientation":r,...l?{role:"none"}:{"aria-orientation":"vertical"===r?r:void 0,role:"separator"},...o,ref:t})});tl.displayName="Separator",l(8704);let tn=e=>{let{config:t,...l}=e,{getSlashMenuItems:i}=function(e){return{getSlashMenuItems:r.useCallback(t=>{let l=[],n=(null==e?void 0:e.enabledItems)||Object.keys(tt),r=(null==e?void 0:e.showGroups)!==!1,i={hiaryai_image_to_latex:{check:()=>!0,action:e=>{let{editor:t}=e;try{t.chain().focus().insertContent({type:"imageUpload",attrs:{accept:"image/*",limit:1,mode:"ocrToLatex"}}).run();let e=document.createElement("input");e.type="file",e.accept="image/*",e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.onchange=()=>{var l;let n=null==(l=e.files)?void 0:l[0];if(document.body.removeChild(e),!n)return;let r=new FileReader;r.onload=async()=>{try{let e=String(r.result||""),l=window.localStorage.getItem("_tiptap_user_id")||"anonymous",i=(await e9({imageBase64:e,imageContentType:n.type||void 0,fileName:n.name||void 0,userId:l})).mathpixRaw||{},o=i.latex_styled||i.latex||i.text||"",a=String(o||"").trim();if(a){let e=/^\\begin\{[\s\S]+?\}/.test(a),l=!!(U(t,["Mathematics"])||t.schema.nodes.inlineMath||t.schema.nodes.blockMath);l&&e?t.chain().focus().insertContent({type:"blockMath",attrs:{latex:a}}).run():l?t.chain().focus().insertContent({type:"inlineMath",attrs:{latex:a}}).run():t.chain().focus().insertContent({type:"paragraph",content:[{type:"text",text:a}]}).run()}else t.chain().focus().insertContent({type:"paragraph",content:[{type:"text",text:"LaTeX 추출 결과가 없습니다."}]}).run()}catch(e){console.error("imageToLatex failed",e)}},r.readAsDataURL(n)},e.click()}catch(e){console.error("Failed to start Image→LaTeX flow",e)}}},hiaryai_three_line_summary:{check:()=>!0,action:e=>{let{editor:t}=e;(async()=>{try{let e=t.getJSON(),l=new URLSearchParams(window.location.search),n=window.localStorage.getItem("_tiptap_user_id")||"anonymous",r=l.get("postId")||window.location.pathname||"post",i=await e6({doc:e,meta:{userId:n,postId:r}}),o=Array.isArray(i.summary)?i.summary:[];if(o.length>0){let e=o.map(e=>({type:"paragraph",content:[{type:"text",text:String(e)}]}));t.chain().focus().insertContent(e).run()}}catch(e){console.error("threeLineSummary failed",e)}})()}},hiaryai_one_line_summary:{check:()=>!0,action:e=>{let{editor:t}=e;(async()=>{try{let e=t.getJSON(),l=new URLSearchParams(window.location.search),n=window.localStorage.getItem("_tiptap_user_id")||"anonymous",r=l.get("postId")||window.location.pathname||"post",i=await te({doc:e,meta:{userId:n,postId:r}}),o=Array.isArray(i.summary)?i.summary[0]:null;o&&t.chain().focus().insertContent({type:"paragraph",content:[{type:"text",text:String(o)}]}).run()}catch(e){console.error("oneLineSummary failed",e)}})()}},continue_writing:{check:e=>{let{hasContent:t}=function(e){if(!e)return{hasContent:!1,content:""};let{state:t}=e,{$from:l}=t.selection;for(let e=l.index(0)-1;e>=0;e--){let l=t.doc.child(e).textContent.trim();if(l)return{hasContent:!0,content:l}}return{hasContent:!1,content:""}}(e);return U(e,["ai","aiAdvanced"])&&t},action:e=>{let{editor:t}=e,l=t.chain().focus(),n=ez({editor:t});null!==n&&l.setNodeSelection(n),l.run();let r=t.chain().focus();"function"==typeof r.aiGenerationShow&&r.aiGenerationShow().run()}},ai_ask_button:{check:e=>U(e,["ai","aiAdvanced"]),action:e=>{let{editor:t}=e,l=t.chain().focus(),n=ez({editor:t});null!==n&&l.setNodeSelection(n),l.run();let r=t.chain().focus();"function"==typeof r.aiGenerationShow&&r.aiGenerationShow().run()}},text:{check:e=>O("paragraph",e),action:e=>{let{editor:t}=e;t.chain().focus().setParagraph().run()}},heading_1:{check:e=>O("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:1}).run()}},heading_2:{check:e=>O("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:2}).run()}},heading_3:{check:e=>O("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:3}).run()}},bullet_list:{check:e=>O("bulletList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBulletList().run()}},ordered_list:{check:e=>O("orderedList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleOrderedList().run()}},task_list:{check:e=>O("taskList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleTaskList().run()}},quote:{check:e=>O("blockquote",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBlockquote().run()}},code_block:{check:e=>O("codeBlock",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleNode("codeBlock","paragraph").run()}},mention:{check:e=>U(e,["mention","mentionAdvanced"]),action:e=>{let{editor:t}=e;return e7(t)}},emoji:{check:e=>U(e,["emoji","emojiPicker"]),action:e=>{let{editor:t}=e;return eQ(t)}},divider:{check:e=>O("horizontalRule",e),action:e=>{let{editor:t}=e;t.chain().focus().setHorizontalRule().run()}},inline_math:{check:e=>U(e,["Mathematics","inlineMath"]),action:e=>{let{editor:t}=e,l=new CustomEvent("open-math-modal",{detail:{type:"inline",editor:t}});window.dispatchEvent(l)}},block_math:{check:e=>U(e,["Mathematics","blockMath"]),action:e=>{let{editor:t}=e,l=new CustomEvent("open-math-modal",{detail:{type:"block",editor:t}});window.dispatchEvent(l)}},table:{check:e=>O("table",e),action:e=>{let{editor:t}=e;t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}},table_add_row:{check:e=>e.isActive("table"),action:e=>{let{editor:t}=e;t.chain().focus().addRowAfter().run()}},image:{check:e=>O("image",e),action:e=>{let{editor:t}=e;t.chain().focus().insertContent({type:"imageUpload"}).run()}}};n.forEach(n=>{let o=i[n],a=tt[n];if(o&&a&&o.check(t)){var s;let t={onSelect:e=>{let{editor:t}=e;return o.action({editor:t})},...a};(null==e||null==(s=e.itemGroups)?void 0:s[n])?t.group=e.itemGroups[n]:r||(t.group=""),l.push(t)}}),(null==e?void 0:e.customItems)&&l.push(...e.customItems);if(!r)return l.map(e=>({...e,group:""}));let o={};l.forEach(e=>{let t=e.group||"";o[t]||(o[t]=[]),o[t].push(e)});let a=[];return Object.entries(o).forEach(e=>{let[,t]=e;a.push(...t)}),a},[e]),config:e}}(t),[o,a]=r.useState(!1);return r.useEffect(()=>{let e=()=>a(document.body.classList.contains("code-dark"));e();let t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,n.jsx)(es,{char:"/",pluginKey:"slashDropdownMenu",decorationClass:"tiptap-slash-decoration",decorationContent:"Filter...",selector:"tiptap-slash-dropdown-menu",items:e=>{let{query:t,editor:l}=e;return function(e,t){let l=t.trim().toLowerCase();return l?e.filter(e=>{var t,n;return!!(e.title.toLowerCase().includes(l)||(null==(t=e.subtext)?void 0:t.toLowerCase().includes(l))||(null==(n=e.keywords)?void 0:n.some(e=>e.toLowerCase().includes(l))))}).sort((e,t)=>{let n=e.title.toLowerCase(),r=t.title.toLowerCase();return n===l&&r!==l?-1:r===l&&n!==l?1:n.startsWith(l)&&!r.startsWith(l)?-1:r.startsWith(l)&&!n.startsWith(l)?1:0}):e}(i(l),t)},...l,children:e=>(0,n.jsx)(ti,{...e,config:t,isDark:o})})},tr=e=>{let{item:t,isSelected:l,onSelect:i,isDark:o}=e,a=r.useRef(null),[s,c]=r.useState(!1);r.useEffect(()=>{let e=document.querySelector('[data-selector="tiptap-slash-dropdown-menu"]');if(!a.current||!l||!e)return;let t=ep(a.current,e);"top"===t?a.current.scrollIntoView(!0):"bottom"===t&&a.current.scrollIntoView(!1)},[l]);let u=t.badge,d=o?s?"#000000":"#ffffff":void 0;return(0,n.jsxs)(q,{ref:a,"data-style":"ghost","data-active-state":l?"on":"off",onClick:i,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{color:d},children:[u&&(0,n.jsx)(u,{className:"tiptap-button-icon",style:{color:d,fill:d}}),(0,n.jsx)("div",{className:"tiptap-button-text",style:{color:d},children:t.title})]})},ti=e=>{let{items:t,selectedIndex:l,onSelect:i,config:o,isDark:a}=e,s=r.useMemo(()=>{let e=[];if((null==o?void 0:o.showGroups)===!1)return t.forEach((t,r)=>{e.push((0,n.jsx)(tr,{item:t,isSelected:r===l,onSelect:()=>i(t),isDark:a},"item-".concat(r,"-").concat(t.title)))}),e;let r={};return t.forEach((e,t)=>{let l=e.group||"";r[l]||(r[l]={items:[],indices:[]}),r[l].items.push(e),r[l].indices.push(t)}),Object.entries(r).forEach((t,r)=>{let[o,s]=t;r>0&&e.push((0,n.jsx)(tl,{orientation:"horizontal"},"separator-".concat(r)));let c=s.items.map((e,t)=>{let r=s.indices[t];return(0,n.jsx)(tr,{item:e,isSelected:r===l,onSelect:()=>i(e),isDark:a},"item-".concat(r,"-").concat(e.title))});o?e.push((0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{style:{color:a?"#8b949e":void 0},children:o}),(0,n.jsx)(W,{children:c})]},"group-".concat(r,"-").concat(o))):e.push(...c)}),e},[t,l,i,null==o?void 0:o.showGroups,a]);return s.length?(0,n.jsx)(eg,{className:"tiptap-slash-card",style:{maxHeight:"var(--suggestion-menu-max-height)",backgroundColor:a?"#1e1e1e":void 0,borderColor:a?"#30363d":void 0,color:a?"#c9d1d9":void 0},children:(0,n.jsx)(ev,{className:"tiptap-slash-card-body",style:{color:a?"#c9d1d9":void 0},children:s})}):null};function to(e){let{orientation:t="horizontal",size:l,style:r={},...i}=e,o={...r,..."horizontal"===t&&!l&&{flex:1},...l&&{width:"vertical"===t?"1px":l,height:"horizontal"===t?"1px":l}};return(0,n.jsx)("div",{...i,style:o})}var ta=l(6194),ts=l(7088),tc=l(205),tu=l(1963),td=l(7229),th=l(802),tp=l(8929),tC=l(6529),tf=l(8515);let tm=r.useLayoutEffect,tx=(e,t)=>{"function"==typeof e?e(t):e&&"object"==typeof e&&"current"in e&&(e.current=t)};var tg=l(7649),tv=l(4774),tb=l(9714),tj=l(5442),tw=l(9214);function ty(e){let{...t}=e;return(0,n.jsx)(tg.v,{includesBaseElement:!1,resetValueOnHide:!0,...t})}l(2948);let tL=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tv.e,{ref:t,className:T("tiptap-combobox-list",l),...r})});tL.displayName="ComboboxList";let tk=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tb.N,{ref:t,className:T("tiptap-combobox-popover",l),...r})});tk.displayName="ComboboxPopover";let tN=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tj.G,{ref:t,autoSelect:!0,...r,className:T("tiptap-combobox",l)})});tN.displayName="Combobox";let tE=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tw.x,{ref:t,className:T("tiptap-combobox-item",l),...r})});tE.displayName="ComboboxItem",l(3392);let tA=r.forwardRef((e,t)=>{let{as:l="div",...n}=e,i={...n};return"label"===l&&(i.onMouseDown=e=>{var t;e.target.closest("button, input, select, textarea")||(null==(t=n.onMouseDown)||t.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}),r.createElement(l,{...i,ref:t,className:T("tiptap-label",n.className)})});function tS(e){let{children:t,trigger:l,value:i,onOpenChange:o,onValueChange:a,onValuesChange:s,...c}=e,u=!ta.KZ(),[d,h]=r.useState(!1),p=!!s||u,C=r.useCallback(e=>{void 0===c.open&&h(e),null==o||o(e)},[c.open,o]),f=r.useMemo(()=>{var e;return{isRootMenu:u,open:null!=(e=c.open)?e:d}},[u,c.open,d]),m=(0,n.jsxs)(ts.B,{open:d,setOpen:C,setValues:s,showTimeout:100,...c,children:[l,(0,n.jsx)(tO.Provider,{value:f,children:(0,n.jsx)(tZ.Provider,{value:p,children:t})})]});return p?(0,n.jsx)(ty,{value:i,setValue:a,children:m}):m}function tR(e){let{children:t,className:l,ref:i,onClickOutside:o,...a}=e,s=r.useRef(null),{open:c}=tU(),u=function(){let e=tF.c();return tD.O$(e,e=>{var t;return(null==(t=e.currentPlacement)?void 0:t.split("-")[0])||"bottom"})}();return!function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mousedown",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,l,n){let i=(0,r.useRef)(t);tm(()=>{i.current=t},[t]),(0,r.useEffect)(()=>{var t;let r=null!=(t=null==l?void 0:l.current)?t:window;if(!(r&&r.addEventListener))return;let o=e=>{i.current(e)};return r.addEventListener(e,o,n),()=>{r.removeEventListener(e,o,n)}},[e,l,n])}(l,l=>{let n=l.target;n&&n.isConnected&&(Array.isArray(e)?e.filter(e=>!!e.current).every(e=>e.current&&!e.current.contains(n)):e.current&&!e.current.contains(n))&&t(l)},void 0,n)}(s,o||(()=>{})),(0,n.jsx)(tc.W,{ref:((e,t)=>{let l=r.useRef(null);return r.useCallback(n=>{e&&"current"in e&&(e.current=n),l.current&&tx(l.current,null),l.current=t,t&&tx(t,n)},[e,t])})(s,i),className:T("tiptap-menu-content",l),"data-side":u,"data-state":c?"open":"closed",gutter:4,flip:!0,unmountOnHide:!0,...a,children:t})}tA.displayName="Label",l(8428);let tM=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tu.I,{ref:t,...r,className:T("tiptap-menu-button",l)})});tM.displayName="MenuButton";let tI=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(td.D,{ref:t,...r,className:T("tiptap-menu-button-arrow",l)})});tI.displayName="MenuButtonArrow";let tH=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(th.r,{ref:t,...r,className:T("tiptap-menu-group",l)})});tH.displayName="MenuGroup";let tT=r.forwardRef((e,t)=>(0,n.jsx)(tA,{ref:t,...e}));tT.displayName="MenuGroupLabel",r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tp.p,{ref:t,...r,className:T("tiptap-menu-item-check",l)})}).displayName="MenuItemCheck";let tB=r.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,n.jsx)(tC.s,{ref:t,...r,className:T("tiptap-menu-item-radio",l)})});tB.displayName="MenuItemRadio";let tV=function(e){var t,l;let{name:i,value:o,preventClose:a,className:s,...c}=e,u=ta.KZ(),d=t_(),h=(t=u,l=a,r.useCallback(e=>!e.currentTarget.hasAttribute("aria-expanded")&&!l&&(null==t||t.hideAll(),!1),[t,l])),p={blurOnHoverEnd:!1,focusOnHover:!0,className:T("tiptap-menu-item",s),...c};return d?(0,n.jsx)(tE,{...p,hideOnClick:h}):i&&o?(0,n.jsx)(tB,{...p,hideOnClick:!0,name:i,value:o}):(0,n.jsx)(tf.D,{...p})},tZ=r.createContext(!1),tO=r.createContext({isRootMenu:!1,open:!1}),t_=()=>r.useContext(tZ),tU=()=>r.useContext(tO);var tP=l(7091),tD=l(7766),tF=l(4647);function tz(){var e;let t=tP.Ay(),l=null!=(e=tD.O$(t,"value"))?e:"";if(!t)throw Error("useComboboxValueState must be used within ComboboxProvider");return[l,t.setValue]}function tG(e,t){let{items:l=[],...n}=e;if(!t.trim())return l;let r=t.toLowerCase().trim();return[n.label,...n.keywords||[]].filter(Boolean).join(" ").toLowerCase().includes(r)?l:l.filter(e=>!!e.filterItems||[e.label,e.value,...e.keywords||[]].filter(Boolean).join(" ").toLowerCase().includes(r))}function tK(e){let{shortcutKeys:t=tW}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onDownloaded:a,resolveFileUrl:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,canDownload:f,handleDownload:m,label:x,shortcutKeys:g,Icon:v}=t0({editor:p,hideWhenUnavailable:o,onDownloaded:a,resolveFileUrl:s}),b=r.useCallback(async e=>{null==u||u(e),e.defaultPrevented||await m()},[m,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":"off",role:"button",tabIndex:-1,disabled:!f,"data-disabled":!f,"aria-label":x,tooltip:x,onClick:b,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),c&&(0,n.jsx)(tK,{shortcutKeys:g})]})}):null}).displayName="ImageDownloadButton";let tq=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M12 2C12.5523 2 13 2.44772 13 3V14.5858L17.2929 10.2929C17.6834 9.90237 18.3166 9.90237 18.7071 10.2929C19.0976 10.6834 19.0976 11.3166 18.7071 11.7071L12.7071 17.7071C12.3166 18.0976 11.6834 18.0976 11.2929 17.7071L5.29289 11.7071C4.90237 11.3166 4.90237 10.6834 5.29289 10.2929C5.68342 9.90237 6.31658 9.90237 6.70711 10.2929L11 14.5858V3C11 2.44772 11.4477 2 12 2Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M5 20C4.44772 20 4 20.4477 4 21C4 21.5523 4.44772 22 5 22H19C19.5523 22 20 21.5523 20 21C20 20.4477 19.5523 20 19 20H5Z",fill:"currentColor"})]})});tq.displayName="ArrowDownToLineIcon";let tW="mod+shift+d";function t$(e,t){let l=e.match(/\.([a-zA-Z0-9]+)(?:\?|#|$)/);return l&&l[1]?".".concat(l[1].toLowerCase()):t&&({"image/jpeg":".jpg","image/jpg":".jpg","image/png":".png","image/gif":".gif","image/webp":".webp","image/svg+xml":".svg","image/bmp":".bmp"})[t.toLowerCase()]||".jpg"}function tX(e){return!!e&&!!e.isEditable&&!!U(e,["image"])&&D(e,["image"])}function tJ(e){if(!e||!tX(e))return null;let{selection:t}=e.state;if(t instanceof I.nh){let e=t.node;if("image"===e.type.name)return{src:e.attrs.src,alt:e.attrs.alt,title:e.attrs.title}}return null}async function tY(e,t){try{let l=await fetch(e);if(!l.ok)return!1;let n=await l.blob(),r=URL.createObjectURL(n),i=/\.[a-zA-Z0-9]+$/.test(t)?t:t+t$(e,l.headers.get("content-type")||void 0),o=document.createElement("a");return o.href=r,o.download=i,o.style.display="none",document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r),!0}catch(e){return console.warn("Fetch download failed:",e),!1}}function tQ(e,t){try{let l=/\.[a-zA-Z0-9]+$/.test(t)?t:t+t$(e),n=document.createElement("a");return n.href=e,n.download=l,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),!0}catch(e){return console.warn("Direct download failed:",e),!1}}function t1(e){try{return window.open(e,"_blank"),!0}catch(e){return console.error("Failed to open image:",e),!1}}async function t2(e,t,l){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"auto";if(!e||!tX(e))return!1;let r=tJ(e);if(!(null==r?void 0:r.src))return!1;try{let e=r.src;l&&(e=await l(r.src));let i=window.location.href,o=G(e,i);if("#"===o)return console.error("Invalid or unsafe URL after sanitization"),!1;let a=t||r.alt||r.title||"image-".concat(Date.now());switch(n){case"open":return t1(o);case"download":if(o.startsWith(window.location.origin)||o.startsWith("data:"))return tQ(o,a);return await tY(o,a)||t1(o);default:if(o.startsWith("data:")||o.startsWith(window.location.origin))return tQ(o,a);if(await tY(o,a))return!0;return t1(o)}}catch(e){console.error("Failed to download image:",e);try{let e=window.location.href,t=G(r.src,e);if("#"!==t)return t1(t)}catch(e){}return!1}}function t0(e){let{editor:t,hideWhenUnavailable:l=!1,onDownloaded:n,resolveFileUrl:i,downloadMethod:o="auto"}=e||{},{editor:a}=eo(t),s=eX(),[c,u]=r.useState(!0),d=tX(a);r.useEffect(()=>{if(!a)return;let e=()=>{u(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!U(t,["image","imageUpload"])&&(!l||tX(t))}({editor:a,hideWhenUnavailable:l}))};return e(),a.on("selectionUpdate",e),()=>{a.off("selectionUpdate",e)}},[a,l]);let h=r.useCallback(async()=>{if(!a)return!1;let e=tJ(a),t=(null==e?void 0:e.alt)||(null==e?void 0:e.title),l=await t2(a,t,i,o);return l&&(null==n||n(t)),l},[a,n,i,o]);return(0,e$.vC)(tW,e=>{e.preventDefault(),h()},{enabled:c&&d,enableOnContentEditable:!s,enableOnFormTags:!0}),{isVisible:c,canDownload:d,handleDownload:h,label:"Download image",shortcutKeys:tW,Icon:tq}}function t7(e){let{shortcutKeys:t=t9}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let t4=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onDuplicated:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,handleDuplicate:C,label:f,shortcutKeys:m,Icon:x}=t6({editor:h,hideWhenUnavailable:o,onDuplicated:a}),g=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||C()},[C,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":f,tooltip:"Duplicate",onClick:g,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(t7,{shortcutKeys:m})]})}):null});t4.displayName="DuplicateButton";let t5=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 9C9.44772 9 9 9.44772 9 10V20C9 20.5523 9.44772 21 10 21H20C20.5523 21 21 20.5523 21 20V10C21 9.44772 20.5523 9 20 9H10ZM7 10C7 8.34315 8.34315 7 10 7H20C21.6569 7 23 8.34315 23 10V20C23 21.6569 21.6569 23 20 23H10C8.34315 23 7 21.6569 7 20V10Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C3.45228 3 3 3.45228 3 4V14C3 14.5477 3.45228 15 4 15C4.55228 15 5 15.4477 5 16C5 16.5523 4.55228 17 4 17C2.34772 17 1 15.6523 1 14V4C1 2.34772 2.34772 1 4 1H14C15.6523 1 17 2.34772 17 4C17 4.55228 16.5523 5 16 5C15.4477 5 15 4.55228 15 4C15 3.45228 14.5477 3 14 3H4Z",fill:"currentColor"})]})});t5.displayName="CopyIcon";let t9="mod+d";function t3(e){if(!e||!e.isEditable)return!1;try{let{state:t}=e,{selection:l}=t;if(l instanceof I.nh)return!!l.node;return!!l.$anchor.node(1)}catch(e){return!1}}function t6(e){let{editor:t,hideWhenUnavailable:l=!1,onDuplicated:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=t3(i);r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||t3(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let u=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable)return!1;try{let{state:t}=e,{selection:l}=t,n=e.chain().focus();if(l instanceof I.nh){let e=l.node,t=l.to;return n.insertContentAt(t,e.toJSON()).run(),!0}let r=l.$anchor;for(let e=1;e<=r.depth;e++){let l=r.node(e);if("doc"===l.type.name||!l.type.spec.group)continue;let i=r.start(e),o=Math.min(i+l.nodeSize,t.doc.content.size);return n.insertContentAt(o,l.toJSON()).run(),!0}return!1}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(t9,e=>{e.preventDefault(),u()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,handleDuplicate:u,canDuplicate:c,label:"Duplicate node",shortcutKeys:t9,Icon:t5}}function t8(e){let{shortcutKeys:t=ln}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let le=r.forwardRef((e,t)=>{let{editor:l,text:i,copyWithFormatting:o=!0,hideWhenUnavailable:a=!1,onCopied:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,handleCopyToClipboard:f,label:m,shortcutKeys:x,Icon:g}=la({editor:p,copyWithFormatting:o,hideWhenUnavailable:a,onCopied:s}),v=r.useCallback(async e=>{null==u||u(e),e.defaultPrevented||await f()},[f,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":m,tooltip:"Copy to clipboard",onClick:v,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),c&&(0,n.jsx)(t8,{shortcutKeys:x})]})}):null});le.displayName="CopyToClipboardButton";var lt=l(156);let ll=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M15 1C16.1046 1 17 1.89543 17 3H18C18.7956 3 19.5585 3.3163 20.1211 3.87891C20.6837 4.44151 21 5.20435 21 6V20C21 20.7957 20.6837 21.5585 20.1211 22.1211C19.5585 22.6837 18.7957 23 18 23H6C5.20435 23 4.44151 22.6837 3.87891 22.1211C3.3163 21.5585 3 20.7957 3 20V6C3 5.20435 3.3163 4.44152 3.87891 3.87891C4.44152 3.3163 5.20435 3 6 3H7C7 1.89543 7.89543 1 9 1H15ZM6 5C5.73478 5 5.4805 5.10543 5.29297 5.29297C5.10543 5.4805 5 5.73478 5 6V20L5.00488 20.0986C5.02757 20.3276 5.12883 20.5429 5.29297 20.707C5.48051 20.8946 5.73478 21 6 21H18C18.2652 21 18.5195 20.8946 18.707 20.707C18.8946 20.5195 19 20.2652 19 20V6C19 5.73478 18.8946 5.48051 18.707 5.29297C18.5429 5.12883 18.3276 5.02757 18.0986 5.00488L18 5H17C17 6.10457 16.1046 7 15 7H9C7.89543 7 7 6.10457 7 5H6ZM9 5H15V3H9V5Z",fill:"currentColor"})})});ll.displayName="ClipboardIcon";let ln="mod+c";async function lr(e,t){try{if(t&&navigator.clipboard&&"write"in navigator.clipboard){let e=new Blob([t],{type:"text/html"}),l=new ClipboardItem({"text/html":e});await navigator.clipboard.write([l])}}catch(t){await navigator.clipboard.writeText(e)}}function li(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state.tr,{empty:l}=t;return!l}async function lo(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e||!e.isEditable)return!1;try{let{textContent:l,htmlContent:n}=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{selection:l}=e.state,{$anchor:n}=l,r=l.content();if(l.empty||l instanceof I.U3){let e=n.node(1);r=new lt.Ji(lt.FK.from(e),0,0)}return{textContent:r.content.textBetween(0,r.content.size,"\n"),htmlContent:t?e.view.serializeForClipboard(r).dom.innerHTML:void 0}}(e,t);return await lr(l,n),!0}catch(e){return!1}}function la(e){let{editor:t,copyWithFormatting:l=!0,hideWhenUnavailable:n=!1,onCopied:i}=e||{},{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=li(o);r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||li(t))}({editor:o,hideWhenUnavailable:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,n]);let d=r.useCallback(async()=>{if(!o)return!1;let e=await lo(o,l);return e&&(null==i||i()),e},[o,l,i]);return(0,e$.vC)(ln,e=>{e.preventDefault(),d()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,handleCopyToClipboard:d,canCopyToClipboard:u,label:"Copy to clipboard",shortcutKeys:ln,Icon:ll}}function ls(e){let{shortcutKeys:t=ld}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let lc=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onDeleted:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,handleDeleteNode:C,label:f,shortcutKeys:m,Icon:x}=lC({editor:h,hideWhenUnavailable:o,onDeleted:a}),g=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||C()},[C,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":f,tooltip:"Delete",onClick:g,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(ls,{shortcutKeys:m})]})}):null});lc.displayName="DeleteNodeButton";let lu=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})})});lu.displayName="TrashIcon";let ld="backspace";function lh(e){if(!e||!e.isEditable)return!1;let{state:t}=e,{selection:l}=t;if(l instanceof I.nh)return!0;let n=l.$anchor;for(let e=n.depth;e>0;e--){let l=n.node(e),r=n.before(e);if(t.tr.delete(r,r+l.nodeSize).doc!==t.doc)return!0}return!1}function lp(e,t,l){let n=e.chain().focus();return!!n.deleteRange({from:t,to:t+l}).run()||n.setNodeSelection(t).deleteSelection().run()}function lC(e){let{editor:t,hideWhenUnavailable:l=!1,onDeleted:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=lh(i);r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||lh(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let u=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable)return!1;try{let{state:t}=e,{selection:l}=t;if(l instanceof I.nh){let t=l.from,n=l.node;if(!n)return!1;return lp(e,t,n.nodeSize)}let n=l.$anchor;for(let t=n.depth;t>0;t--){let l=n.node(t),r=n.before(t);if(l&&l.isBlock)return lp(e,r,l.nodeSize)}return!1}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(ld,e=>{e.preventDefault(),u()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,handleDeleteNode:u,canDeleteNode:c,label:"Delete",shortcutKeys:ld,Icon:lu}}function lf(e){let{shortcutKeys:t=lg}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let lm=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,preserveMarks:a=["inlineThread"],onResetAllFormatting:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,canReset:f,handleResetFormatting:m,label:x,shortcutKeys:g,Icon:v}=lj({editor:p,preserveMarks:a,hideWhenUnavailable:o,onResetAllFormatting:s}),b=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||m()},[m,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost",disabled:!f,"data-disabled":!f,"data-active-state":"off",role:"button",tabIndex:-1,"aria-label":x,tooltip:"Reset formatting",onClick:b,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),c&&(0,n.jsx)(lf,{shortcutKeys:g})]})}):null});lm.displayName="ResetAllFormattingButton";let lx=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M12 2L11.9962 2.00001C9.22213 2.01045 6.55946 3.0929 4.56496 5.02104L4.55289 5.0329L4 5.58579V3C4 2.44772 3.55228 2 3 2C2.44772 2 2 2.44772 2 3V8C2 8.55228 2.44772 9 3 9H8C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7H5.41422L5.96097 6.45325C7.58329 4.88786 9.7473 4.00897 12.0019 4.00001C13.5835 4.00038 15.1295 4.46955 16.4446 5.34825C17.7602 6.2273 18.7855 7.47673 19.391 8.93854C19.9965 10.4003 20.155 12.0089 19.8463 13.5607C19.5376 15.1126 18.7757 16.538 17.6569 17.6569C16.538 18.7757 15.1126 19.5376 13.5607 19.8463C12.0089 20.155 10.4003 19.9965 8.93853 19.391C7.47672 18.7855 6.22729 17.7602 5.34824 16.4446C4.46919 15.129 4 13.5823 4 12C4 11.4477 3.55228 11 3 11C2.44772 11 2 11.4477 2 12C2 13.9778 2.58649 15.9112 3.6853 17.5557C4.78412 19.2002 6.3459 20.4819 8.17317 21.2388C10.0004 21.9957 12.0111 22.1937 13.9509 21.8079C15.8907 21.422 17.6725 20.4696 19.0711 19.0711C20.4696 17.6726 21.422 15.8907 21.8079 13.9509C22.1937 12.0111 21.9957 10.0004 21.2388 8.17317C20.4819 6.34591 19.2002 4.78412 17.5557 3.68531C15.9112 2.5865 13.9778 2.00001 12 2Z",fill:"currentColor"})})});lx.displayName="RotateCcwIcon";let lg="mod+r";function lv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{selection:l}=e,{empty:n,ranges:r}=l;if(n)return!1;for(let l of r){let n=l.$from.pos,r=l.$to.pos,i=!1;if(e.doc.nodesBetween(n,r,e=>{if(!e.isInline)return!0;for(let l of e.marks)if(!t.includes(l.type.name))return i=!0,!1;return!0}),i)return!0}return!1}function lb(e,t){return!!e&&!!e.isEditable&&lv(e.state.tr,t)}function lj(e){let{editor:t,preserveMarks:l,hideWhenUnavailable:n=!1,onResetAllFormatting:i}=e||{},{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=lb(o,l);r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,hideWhenUnavailable:l,preserveMarks:n}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||lb(t,n))}({editor:o,hideWhenUnavailable:n,preserveMarks:l}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,n,l]);let d=r.useCallback(()=>{if(!o)return!1;let e=function(e,t){if(!e||!e.isEditable)return!1;try{let{view:l,state:n}=e,{tr:r}=n,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{selection:l}=e,{empty:n,ranges:r}=l;return n||r.forEach(l=>{let n=l.$from.pos,r=l.$to.pos;e.doc.nodesBetween(n,r,(l,n)=>!l.isInline||(l.marks.forEach(r=>{t.includes(r.type.name)||e.removeMark(n,n+l.nodeSize,r.type)}),!0))}),e}(r,t);return l.dispatch(i),e.commands.focus(),!0}catch(e){return!1}}(o,l);return e&&(null==i||i()),e},[o,i,l]);return(0,e$.vC)(lg,e=>{e.preventDefault(),d()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,handleResetFormatting:d,canReset:u,label:"Reset formatting",shortcutKeys:lg,Icon:lx}}function lw(e){let{shortcutKeys:t=lk}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let ly=r.forwardRef((e,t)=>{let{editor:l,node:i,nodePos:o,text:a,trigger:s="/",hideWhenUnavailable:c=!1,onTriggered:u,showShortcut:d=!1,onClick:h,children:p,...C}=e,{editor:f}=eo(l),{isVisible:m,canInsert:x,handleSlashCommand:g,label:v,shortcutKeys:b,Icon:j}=function(e){let{editor:t,node:l,nodePos:n,trigger:i="/",hideWhenUnavailable:o=!1,onTriggered:a}=e||{},{editor:s}=eo(t),c=eX(),[u,d]=r.useState(!0),h=lN(s,l,n);r.useEffect(()=>{if(!s)return;let e=()=>{d(function(e){let{editor:t,hideWhenUnavailable:l,node:n,nodePos:r}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||lN(t,n,r))}({editor:s,hideWhenUnavailable:o,node:l,nodePos:n}))};return e(),s.on("selectionUpdate",e),()=>{s.off("selectionUpdate",e)}},[s,o,l,n]);let p=r.useCallback(()=>{if(!s)return!1;let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",l=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!e||!e.isEditable||!lN(e,l,n))return!1;try{if(null!=l||_(n)){let r=P({editor:e,node:l||void 0,nodePos:n||void 0});if(!r)return!1;let i="paragraph"===r.node.type.name&&0===r.node.content.size,o=i?r.pos:r.pos+r.node.nodeSize;e.view.dispatch(e.view.state.tr.scrollIntoView().insertText(t,o,o));let a=t.length+1,s=i?r.pos+a:r.pos+r.node.nodeSize+a;return e.commands.focus(s),!0}let{$from:r}=e.state.selection,i=r.node(),o=0===i.textContent.length,a=0===r.parentOffset,s=0===r.depth;if(!o||!a){let l=s?e.state.doc.content.size:r.after();return e.chain().insertContentAt(l,{type:"paragraph",content:[{type:"text",text:t}]}).focus().run()}return e.chain().insertContent({type:"text",text:t}).focus().run()}catch(e){return!1}}(s,i,l,n);return e&&(null==a||a(i)),e},[s,i,l,n,a]);return(0,e$.vC)(lk,e=>{e.preventDefault(),p()},{enabled:u&&h,enableOnContentEditable:!c,enableOnFormTags:!0},[u,h,p]),{isVisible:u,handleSlashCommand:p,canInsert:h,label:"Insert block",shortcutKeys:lk,trigger:i,Icon:lL}}({editor:f,node:i,nodePos:o,trigger:s,hideWhenUnavailable:c,onTriggered:u}),w=r.useCallback(e=>{null==h||h(e),e.defaultPrevented||g()},[g,h]);return m?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,disabled:!x,"data-disabled":!x,"aria-label":v,tooltip:v,onClick:w,...C,ref:t,children:null!=p?p:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{className:"tiptap-button-icon"}),a&&(0,n.jsx)("span",{className:"tiptap-button-text",children:a}),d&&(0,n.jsx)(lw,{shortcutKeys:b})]})}):null});ly.displayName="SlashCommandTriggerButton";let lL=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5Z",fill:"currentColor"})})});lL.displayName="PlusIcon";let lk="mod+/";function lN(e,t,l){if(!e||!e.isEditable||D(e,["image"]))return!1;if(t||_(l)){if(_(l)&&l>=0)return!0;if(t)return null!==P({editor:e,node:t})}return!0}function lE(e){let{shortcutKeys:t=lR}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}l(1871);let lA=r.forwardRef((e,t)=>{let{editor:l,textColor:i,text:o,hideWhenUnavailable:a=!1,onApplied:s,showShortcut:c=!1,onClick:u,children:d,style:h,...p}=e,{editor:C}=eo(l),{isVisible:f,canColorText:m,isActive:x,handleColorText:g,label:v,shortcutKeys:b,Icon:j}=lH({editor:C,textColor:i,label:o||"Color text to ".concat(i),hideWhenUnavailable:a,onApplied:s}),w=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||g()},[g,u]),y=r.useMemo(()=>({...h,"--color-text-button-color":i}),[i,h]);return f?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":x?"on":"off",role:"button",tabIndex:-1,disabled:!m,"data-disabled":!m,"aria-label":v,"aria-pressed":x,tooltip:v,onClick:w,style:y,...p,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"tiptap-button-color-text",style:{color:i},children:(0,n.jsx)(j,{className:"tiptap-button-icon",style:{color:i,flexGrow:1}})}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(lE,{shortcutKeys:b})]})}):null});lA.displayName="ColorTextButton";let lS=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8944 5.55279C12.725 5.214 12.3787 5 12 5C11.6212 5 11.2749 5.214 11.1055 5.55279L5.10555 17.5528C4.85856 18.0468 5.05878 18.6474 5.55276 18.8944C6.04674 19.1414 6.64741 18.9412 6.8944 18.4472L8.64957 14.9369C8.75862 14.9777 8.87671 15 9 15H15C15.1233 15 15.2413 14.9777 15.3504 14.9369L17.1055 18.4472C17.3525 18.9412 17.9532 19.1414 18.4472 18.8944C18.9412 18.6474 19.1414 18.0468 18.8944 17.5528L12.8944 5.55279ZM14.3819 13L12 8.23607L9.61801 13H14.3819Z",fill:"currentColor"})})});lS.displayName="TextColorSmallIcon";let lR="mod+shift+t",lM=[{label:"Default text",value:"var(--tt-color-text)",border:"var(--tt-color-text-contrast)"},{label:"Gray text",value:"var(--tt-color-text-gray)",border:"var(--tt-color-text-gray-contrast)"},{label:"Brown text",value:"var(--tt-color-text-brown)",border:"var(--tt-color-text-brown-contrast)"},{label:"Orange text",value:"var(--tt-color-text-orange)",border:"var(--tt-color-text-orange-contrast)"},{label:"Yellow text",value:"var(--tt-color-text-yellow)",border:"var(--tt-color-text-yellow-contrast)"},{label:"Green text",value:"var(--tt-color-text-green)",border:"var(--tt-color-text-green-contrast)"},{label:"Blue text",value:"var(--tt-color-text-blue)",border:"var(--tt-color-text-blue-contrast)"},{label:"Purple text",value:"var(--tt-color-text-purple)",border:"var(--tt-color-text-purple-contrast)"},{label:"Pink text",value:"var(--tt-color-text-pink)",border:"var(--tt-color-text-pink-contrast)"},{label:"Red text",value:"var(--tt-color-text-red)",border:"var(--tt-color-text-red-contrast)"}];function lI(e){if(!e||!e.isEditable||!Z("textStyle",e)||D(e,["image"]))return!1;try{return e.can().setMark("textStyle",{color:"currentColor"})}catch(e){return!1}}function lH(e){let{editor:t,label:l,textColor:n,hideWhenUnavailable:i=!1,onApplied:o}=e,{editor:a}=eo(t),s=eX(),[c,u]=r.useState(!0),d=lI(a),h=!!a&&!!a.isEditable&&a.isActive("textStyle",{color:n});r.useEffect(()=>{if(!a)return;let e=()=>{u(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!Z("textStyle",t)&&(!l||!!t.isActive("code")||lI(t))}({editor:a,hideWhenUnavailable:i}))};return e(),a.on("selectionUpdate",e),()=>{a.off("selectionUpdate",e)}},[a,i]);let p=r.useCallback(()=>{if(!a||!d)return!1;let e=a.chain().focus().toggleMark("textStyle",{color:n}).run();return e&&(null==o||o({color:n,label:l})),e},[a,d,n,o,l]);return(0,e$.vC)(lR,e=>{e.preventDefault(),p()},{enabled:c&&d,enableOnContentEditable:!s,enableOnFormTags:!0}),{isVisible:c,isActive:h,handleColorText:p,canColorText:d,label:l||"Color text to ".concat(n),shortcutKeys:lR,Icon:lS}}function lT(e){let{shortcutKeys:t=lZ}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}l(2392);let lB=r.forwardRef((e,t)=>{let{editor:l,highlightColor:i,text:o,hideWhenUnavailable:a=!1,onApplied:s,showShortcut:c=!1,onClick:u,children:d,style:h,...p}=e,{editor:C}=eo(l),{isVisible:f,canColorHighlight:m,isActive:x,handleColorHighlight:g,label:v,shortcutKeys:b}=lP({editor:C,highlightColor:i,label:o||"Toggle highlight (".concat(i,")"),hideWhenUnavailable:a,onApplied:s}),j=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||g()},[g,u]),w=r.useMemo(()=>({...h,"--highlight-color":i}),[i,h]);return f?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":x?"on":"off",role:"button",tabIndex:-1,disabled:!m,"data-disabled":!m,"aria-label":v,"aria-pressed":x,tooltip:v,onClick:j,style:w,...p,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"tiptap-button-highlight",style:{"--highlight-color":i}}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(lT,{shortcutKeys:b})]})}):null});lB.displayName="ColorHighlightButton";let lV=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})})});lV.displayName="HighlighterIcon";let lZ="mod+shift+h",lO=[{label:"Default background",value:"var(--tt-bg-color)",border:"var(--tt-bg-color-contrast)"},{label:"Gray background",value:"var(--tt-color-highlight-gray)",border:"var(--tt-color-highlight-gray-contrast)"},{label:"Brown background",value:"var(--tt-color-highlight-brown)",border:"var(--tt-color-highlight-brown-contrast)"},{label:"Orange background",value:"var(--tt-color-highlight-orange)",border:"var(--tt-color-highlight-orange-contrast)"},{label:"Yellow background",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"},{label:"Green background",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue background",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Purple background",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Pink background",value:"var(--tt-color-highlight-pink)",border:"var(--tt-color-highlight-pink-contrast)"},{label:"Red background",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"}];function l_(e){let t=new Map(lO.map(e=>[e.value,e]));return e.map(e=>t.get(e)).filter(e=>!!e)}function lU(e){return!(!e||!e.isEditable||!Z("highlight",e)||D(e,["image"]))&&e.can().setMark("highlight")}function lP(e){let{editor:t,label:l,highlightColor:n,hideWhenUnavailable:i=!1,onApplied:o}=e,{editor:a}=eo(t),s=eX(),[c,u]=r.useState(!0),d=lU(a),h=!!a&&!!a.isEditable&&(n?a.isActive("highlight",{color:n}):a.isActive("highlight"));r.useEffect(()=>{if(!a)return;let e=()=>{u(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!Z("highlight",t)&&(!l||!!t.isActive("code")||lU(t))}({editor:a,hideWhenUnavailable:i}))};return e(),a.on("selectionUpdate",e),()=>{a.off("selectionUpdate",e)}},[a,i]);let p=r.useCallback(()=>{if(!a||!d||!n||!l)return!1;let e=a.chain().focus().toggleMark("highlight",{color:n}).run();return e&&(null==o||o({color:n,label:l})),e},[d,n,a,l,o]),C=r.useCallback(()=>{let e=!!a&&!!a.isEditable&&!!lU(a)&&a.chain().focus().unsetMark("highlight").run();return e&&(null==o||o({color:"",label:"Remove highlight"})),e},[a,o]);return(0,e$.vC)(lZ,e=>{e.preventDefault(),p()},{enabled:c&&d,enableOnContentEditable:!s,enableOnFormTags:!0}),{isVisible:c,isActive:h,handleColorHighlight:p,handleRemoveHighlight:C,canColorHighlight:d,label:l||"Highlight",shortcutKeys:lZ,Icon:lV}}function lD(e){let{shortcutKeys:t=lz}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let lF=r.forwardRef(function(e,t){let{editor:l,text:i,hideWhenUnavailable:o=!1,onAiAsked:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canAiAsk:C,handleAiAsk:f,label:m,shortcutKeys:x,Icon:g}=lW({editor:h,hideWhenUnavailable:o,onAiAsked:a}),v=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||f()},[f,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost",disabled:!C,"data-disabled":!C,role:"button",tabIndex:-1,"aria-label":m,tooltip:m,onClick:v,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(lD,{shortcutKeys:x})]})}):null}),lz="mod+j",lG=["aiGeneration","ai"],lK=["codeBlock","image","imageUpload"],lq=e=>{if(!e||!e.isEditable||!U(e,lG)||D(e,["image","horizontalRule"]))return!1;let{selection:t}=e.state;if(!t||t.empty)return!1;if((0,j.BQ)(t)){let e=t.node;if(lK.includes(e.type.name))return!1}return!0};function lW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{editor:t,hideWhenUnavailable:l=!1,onAiAsked:n}=e,{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=lq(i),u=r.useCallback(()=>{if(!i||!c)return!1;let e=i.chain().focus(),t="function"==typeof e.aiGenerationShow&&e.aiGenerationShow().run();return t&&(null==n||n()),t},[c,i,n]);return r.useEffect(()=>{if(!i)return void s(!1);let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!U(t,lG)&&(!l||!!t.isActive("code")||lq(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]),(0,e$.vC)(lz,e=>{e.preventDefault(),u()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,handleAiAsk:u,canAiAsk:c,label:"Ask AI Assistant",shortcutKeys:lz,Icon:eV}}function l$(e){let{shortcutKeys:t=lJ}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let lX=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onToggled:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canToggle:C,isActive:f,handleToggle:m,label:x,shortcutKeys:g,Icon:v}=lQ({editor:h,hideWhenUnavailable:o,onToggled:a}),b=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||m()},[m,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":f?"on":"off",role:"button",tabIndex:-1,disabled:!C,"data-disabled":!C,"aria-label":x,"aria-pressed":f,tooltip:"Text",onClick:b,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(l$,{shortcutKeys:g})]})}):null});lX.displayName="TextButton";let lJ="mod+alt+0";function lY(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e||!O("paragraph",e)||D(e,["image"]))return!1;if(!t)return e.can().setNode("paragraph");try{let t=e.view.state,n=t.selection;if(n.empty||n instanceof I.U3){var l;let n=null==(l=P({editor:e,node:t.selection.$anchor.node(1)}))?void 0:l.pos;if(!_(n))return!1}return!0}catch(e){return!1}}function lQ(e){let{editor:t,hideWhenUnavailable:l=!1,onToggled:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=lY(i),u=!!i&&i.isActive("paragraph");r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!O("paragraph",t)&&(!l||!!t.isActive("code")||lY(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let d=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable||!lY(e))return!1;try{var t,l,n;let r=e.view,i=r.state,o=i.tr;if(i.selection.empty||i.selection instanceof I.U3){let l=null==(t=P({editor:e,node:i.selection.$anchor.node(1)}))?void 0:t.pos;if(!_(l))return!1;o=o.setSelection(I.nh.create(i.doc,l)),r.dispatch(o),i=r.state}let a=i.selection,s=e.chain().focus();if(a instanceof I.nh){let e=null==(l=a.node.firstChild)?void 0:l.firstChild,t=null==(n=a.node.lastChild)?void 0:n.lastChild,r=e?a.from+e.nodeSize:a.from+1,i=t?a.to-t.nodeSize:a.to-1;s=s.setTextSelection({from:r,to:i}).clearNodes()}return e.isActive("paragraph")||s.setNode("paragraph").run(),e.chain().focus().selectTextblockEnd().run(),!0}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(lJ,e=>{e.preventDefault(),d()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,isActive:u,handleToggle:d,canToggle:c,label:"Text",shortcutKeys:lJ,Icon:eO}}function l1(e){let{level:t,shortcutKeys:l=l9[t]}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:l})})}let l2=r.forwardRef((e,t)=>{let{editor:l,level:i,text:o,hideWhenUnavailable:a=!1,onToggled:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,canToggle:f,isActive:m,handleToggle:x,label:g,Icon:v,shortcutKeys:b}=l6({editor:p,level:i,hideWhenUnavailable:a,onToggled:s}),j=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||x()},[x,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,disabled:!f,"data-disabled":!f,"aria-label":g,"aria-pressed":m,tooltip:g,onClick:j,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(l1,{level:i,shortcutKeys:b})]})}):null});l2.displayName="HeadingButton";let l0=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]})});l0.displayName="HeadingFourIcon";let l7=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]})});l7.displayName="HeadingFiveIcon";let l4=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]})});l4.displayName="HeadingSixIcon";let l5={1:eA,2:eS,3:eR,4:l0,5:l7,6:l4},l9={1:"ctrl+alt+1",2:"ctrl+alt+2",3:"ctrl+alt+3",4:"ctrl+alt+4",5:"ctrl+alt+5",6:"ctrl+alt+6"};function l3(e,t){let l=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e||!e.isEditable||!O("heading",e)||D(e,["image"]))return!1;if(!l)return t?e.can().setNode("heading",{level:t}):e.can().setNode("heading");try{let t=e.view.state,l=t.selection;if(l.empty||l instanceof I.U3){var n;let l=null==(n=P({editor:e,node:t.selection.$anchor.node(1)}))?void 0:n.pos;if(!_(l))return!1}return!0}catch(e){return!1}}function l6(e){let{editor:t,level:l,hideWhenUnavailable:n=!1,onToggled:i}=e,{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=l3(o,l),d=!!o&&!!o.isEditable&&(Array.isArray(l)?l.some(e=>o.isActive("heading",{level:e})):l?o.isActive("heading",{level:l}):o.isActive("heading"));r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,level:l,hideWhenUnavailable:n}=e;return!!t&&!!t.isEditable&&!!O("heading",t)&&(!n||!!t.isActive("code")||(Array.isArray(l)?l.some(e=>l3(t,e)):l3(t,l)))}({editor:o,level:l,hideWhenUnavailable:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,l,n]);let h=r.useCallback(()=>{if(!o)return!1;let e=function(e,t){if(!e||!e.isEditable)return!1;let l=Array.isArray(t)?t:[t],n=l.find(t=>l3(e,t));if(!n)return!1;try{var r,i,o;let t=e.view,a=t.state,s=a.tr;if(a.selection.empty||a.selection instanceof I.U3){let l=null==(r=P({editor:e,node:a.selection.$anchor.node(1)}))?void 0:r.pos;if(!_(l))return!1;s=s.setSelection(I.nh.create(a.doc,l)),t.dispatch(s),a=t.state}let c=a.selection,u=e.chain().focus();if(c instanceof I.nh){let e=null==(i=c.node.firstChild)?void 0:i.firstChild,t=null==(o=c.node.lastChild)?void 0:o.lastChild,l=e?c.from+e.nodeSize:c.from+1,n=t?c.to-t.nodeSize:c.to-1;u=u.setTextSelection({from:l,to:n}).clearNodes()}return(l.some(t=>e.isActive("heading",{level:t}))?u.setNode("paragraph"):u.setNode("heading",{level:n})).run(),e.chain().focus().selectTextblockEnd().run(),!0}catch(e){return!1}}(o,l);return e&&(null==i||i()),e},[o,l,i]);return(0,e$.vC)(l9[l],e=>{e.preventDefault(),h()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,isActive:d,handleToggle:h,canToggle:u,label:"Heading ".concat(l),shortcutKeys:l9[l],Icon:l5[l]}}function l8(e){let{type:t,shortcutKeys:l=nn[t]}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:l})})}let ne=r.forwardRef((e,t)=>{let{editor:l,type:i,text:o,hideWhenUnavailable:a=!1,onToggled:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,canToggle:f,isActive:m,handleToggle:x,label:g,shortcutKeys:v,Icon:b}=ni({editor:p,type:i,hideWhenUnavailable:a,onToggled:s}),j=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||x()},[x,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":m?"on":"off",role:"button",tabIndex:-1,disabled:!f,"data-disabled":!f,"aria-label":g,"aria-pressed":m,tooltip:g,onClick:j,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{className:"tiptap-button-icon"}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(l8,{type:i,shortcutKeys:v})]})}):null});ne.displayName="ListButton";let nt={bulletList:eI,orderedList:eH,taskList:eB},nl={bulletList:"Bullet List",orderedList:"Ordered List",taskList:"Task List"},nn={bulletList:"mod+shift+8",orderedList:"mod+shift+7",taskList:"mod+shift+9"};function nr(e,t){let l=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e||!e.isEditable||!O(t,e)||D(e,["image"]))return!1;if(!l)switch(t){case"bulletList":return e.can().toggleBulletList();case"orderedList":return e.can().toggleOrderedList();case"taskList":return e.can().toggleList("taskList","taskItem");default:return!1}try{let t=e.view.state,l=t.selection;if(l.empty||l instanceof I.U3){var n;let l=null==(n=P({editor:e,node:t.selection.$anchor.node(1)}))?void 0:n.pos;if(!_(l))return!1}return!0}catch(e){return!1}}function ni(e){let{editor:t,type:l,hideWhenUnavailable:n=!1,onToggled:i}=e,{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=nr(o,l),d=function(e,t){if(!e||!e.isEditable)return!1;switch(t){case"bulletList":return e.isActive("bulletList");case"orderedList":return e.isActive("orderedList");case"taskList":return e.isActive("taskList");default:return!1}}(o,l);r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,type:l,hideWhenUnavailable:n}=e;return!!t&&!!t.isEditable&&!!O(l,t)&&(!n||!!t.isActive("code")||nr(t,l))}({editor:o,type:l,hideWhenUnavailable:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,l,n]);let h=r.useCallback(()=>{if(!o)return!1;let e=function(e,t){if(!e||!e.isEditable||!nr(e,t))return!1;try{var l,n,r;let i=e.view,o=i.state,a=o.tr;if(o.selection.empty||o.selection instanceof I.U3){let t=null==(l=P({editor:e,node:o.selection.$anchor.node(1)}))?void 0:l.pos;if(!_(t))return!1;a=a.setSelection(I.nh.create(o.doc,t)),i.dispatch(a),o=i.state}let s=o.selection,c=e.chain().focus();if(s instanceof I.nh){let e=null==(n=s.node.firstChild)?void 0:n.firstChild,t=null==(r=s.node.lastChild)?void 0:r.lastChild,l=e?s.from+e.nodeSize:s.from+1,i=t?s.to-t.nodeSize:s.to-1;c=c.setTextSelection({from:l,to:i}).clearNodes()}if(e.isActive(t))c.liftListItem("listItem").lift("bulletList").lift("orderedList").lift("taskList").run();else{let e={bulletList:()=>c.toggleBulletList(),orderedList:()=>c.toggleOrderedList(),taskList:()=>c.toggleList("taskList","taskItem")}[t];if(!e)return!1;e().run()}return e.chain().focus().selectTextblockEnd().run(),!0}catch(e){return!1}}(o,l);return e&&(null==i||i()),e},[o,l,i]);return(0,e$.vC)(nn[l],e=>{e.preventDefault(),h()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,isActive:d,handleToggle:h,canToggle:u,label:nl[l],shortcutKeys:nn[l],Icon:nt[l]}}function no(e){let{shortcutKeys:t=ns}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let na=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onToggled:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canToggle:C,isActive:f,handleToggle:m,label:x,shortcutKeys:g,Icon:v}=nu({editor:h,hideWhenUnavailable:o,onToggled:a}),b=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||m()},[m,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":f?"on":"off",role:"button",tabIndex:-1,disabled:!C,"data-disabled":!C,"aria-label":x,"aria-pressed":f,tooltip:"Blockquote",onClick:b,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(no,{shortcutKeys:g})]})}):null});na.displayName="BlockquoteButton";let ns="mod+shift+b";function nc(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e||!e.isEditable||!O("blockquote",e)||D(e,["image"]))return!1;if(!t)return e.can().toggleWrap("blockquote");try{let t=e.view.state,n=t.selection;if(n.empty||n instanceof I.U3){var l;let n=null==(l=P({editor:e,node:t.selection.$anchor.node(1)}))?void 0:l.pos;if(!_(n))return!1}return!0}catch(e){return!1}}function nu(e){let{editor:t,hideWhenUnavailable:l=!1,onToggled:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=nc(i),u=(null==i?void 0:i.isActive("blockquote"))||!1;r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!O("blockquote",t)&&(!l||!!t.isActive("code")||nc(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let d=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable||!nc(e))return!1;try{var t,l,n;let r=e.view,i=r.state,o=i.tr;if(i.selection.empty||i.selection instanceof I.U3){let l=null==(t=P({editor:e,node:i.selection.$anchor.node(1)}))?void 0:t.pos;if(!_(l))return!1;o=o.setSelection(I.nh.create(i.doc,l)),r.dispatch(o),i=r.state}let a=i.selection,s=e.chain().focus();if(a instanceof I.nh){let e=null==(l=a.node.firstChild)?void 0:l.firstChild,t=null==(n=a.node.lastChild)?void 0:n.lastChild,r=e?a.from+e.nodeSize:a.from+1,i=t?a.to-t.nodeSize:a.to-1;s=s.setTextSelection({from:r,to:i}).clearNodes()}return(e.isActive("blockquote")?s.lift("blockquote"):s.wrapIn("blockquote")).run(),e.chain().focus().selectTextblockEnd().run(),!0}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(ns,e=>{e.preventDefault(),d()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,isActive:u,handleToggle:d,canToggle:c,label:"Blockquote",shortcutKeys:ns,Icon:eT}}function nd(e){let{shortcutKeys:t=np}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}let nh=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onToggled:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canToggle:C,isActive:f,handleToggle:m,label:x,shortcutKeys:g,Icon:v}=nf({editor:h,hideWhenUnavailable:o,onToggled:a}),b=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||m()},[m,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":f?"on":"off",role:"button",disabled:!C,"data-disabled":!C,tabIndex:-1,"aria-label":x,"aria-pressed":f,tooltip:"Code Block",onClick:b,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(nd,{shortcutKeys:g})]})}):null});nh.displayName="CodeBlockButton";let np="mod+alt+c";function nC(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!e||!e.isEditable||!O("codeBlock",e)||D(e,["image"]))return!1;if(!t)return e.can().toggleNode("codeBlock","paragraph");try{let t=e.view.state,n=t.selection;if(n.empty||n instanceof I.U3){var l;let n=null==(l=P({editor:e,node:t.selection.$anchor.node(1)}))?void 0:l.pos;if(!_(n))return!1}return!0}catch(e){return!1}}function nf(e){let{editor:t,hideWhenUnavailable:l=!1,onToggled:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=nC(i),u=(null==i?void 0:i.isActive("codeBlock"))||!1;r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!O("codeBlock",t)&&(!l||!!t.isActive("code")||nC(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let d=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable||!nC(e))return!1;try{var t,l,n;let r=e.view,i=r.state,o=i.tr;if(i.selection.empty||i.selection instanceof I.U3){let l=null==(t=P({editor:e,node:i.selection.$anchor.node(1)}))?void 0:t.pos;if(!_(l))return!1;o=o.setSelection(I.nh.create(i.doc,l)),r.dispatch(o),i=r.state}let a=i.selection,s=e.chain().focus();if(a instanceof I.nh){let e=null==(l=a.node.firstChild)?void 0:l.firstChild,t=null==(n=a.node.lastChild)?void 0:n.lastChild,r=e?a.from+e.nodeSize:a.from+1,i=t?a.to-t.nodeSize:a.to-1;s=s.setTextSelection({from:r,to:i}).clearNodes()}return(e.isActive("codeBlock")?s.setNode("paragraph"):s.toggleNode("codeBlock","paragraph")).run(),e.chain().focus().selectTextblockEnd().run(),!0}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(np,e=>{e.preventDefault(),d()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,isActive:u,handleToggle:d,canToggle:c,label:"Code Block",shortcutKeys:np,Icon:eE}}let nm=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})})});nm.displayName="ChevronDownIcon";var nx=l(547);function ng(e){let{...t}=e;return(0,n.jsx)(nx.bL,{...t})}function nv(e){let{...t}=e;return(0,n.jsx)(nx.l9,{...t})}function nb(e){let{className:t,align:l="center",sideOffset:r=4,...i}=e;return(0,n.jsx)(nx.ZL,{children:(0,n.jsx)(nx.UC,{align:l,sideOffset:r,className:T("tiptap-popover",t),...i})})}l(7516),l(8164);let nj=e=>{let{colorObj:t,withLabel:l=!1,onColorChanged:r,...i}=e,o="text"===t.type?lM:lO,a=nN(t.value,o),s={tooltip:a.label,text:l?a.label:void 0,onApplied:()=>null==r?void 0:r({type:t.type,label:a.label,value:a.value}),...i};return"text"===t.type?(0,n.jsx)(lA,{textColor:a.value,label:a.label,...s}):(0,n.jsx)(lB,{highlightColor:a.value,...s})},nw=e=>{let{type:t,colors:l,onColorSelected:r,selectedIndex:i,startIndexOffset:o}=e;return l.map((e,a)=>(0,n.jsx)(W,{orientation:"horizontal",children:e.map((e,s)=>{let c=i===o+l.slice(0,a).reduce((e,t)=>e+t.length,0)+s,u={tooltip:e.label,onApplied:()=>r({type:t,label:e.label,value:e.value}),tabIndex:c?0:-1,"data-highlighted":c,"aria-label":"".concat(e.label," ").concat("text"===t?"text":"highlight"," color")};return"text"===t?(0,n.jsx)(lA,{textColor:e.value,label:e.label,...u},"".concat(t,"-").concat(e.value,"-").concat(s)):(0,n.jsx)(lB,{highlightColor:e.value,...u},"".concat(t,"-").concat(e.value,"-").concat(s))})},"".concat(t,"-group-").concat(a)))},ny=e=>{let{recentColors:t,onColorSelected:l,selectedIndex:r}=e;return 0===t.length?null:(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Recently used"}),(0,n.jsx)(W,{orientation:"horizontal",children:t.map((e,t)=>(0,n.jsx)(nj,{colorObj:e,onColorChanged:l,tabIndex:r===t?0:-1,"data-highlighted":r===t},"recent-".concat(e.type,"-").concat(e.value)))})]})},nL=e=>{let{maxColorsPerGroup:t=5,maxRecentColors:l=3,onColorChanged:i}=e,{recentColors:o,addRecentColor:a,isInitialized:s}=nE(l),c=r.useRef(null),u=r.useMemo(()=>eD(lM,t),[t]),d=r.useMemo(()=>eD(lO,t),[t]),h=r.useMemo(()=>u.flat(),[u]),p=r.useMemo(()=>d.flat(),[d]),C=r.useMemo(()=>s?o.length:0,[s,o.length]),f=r.useMemo(()=>C+h.length,[C,h.length]),m=r.useMemo(()=>{let e=[];return s&&o.length>0&&e.push(...o.map(e=>({type:e.type,value:e.value,label:"Recent ".concat("text"===e.type?"text":"highlight"," color"),group:"recent"}))),e.push(...h.map(e=>({type:"text",value:e.value,label:e.label,group:"text"}))),e.push(...p.map(e=>({type:"highlight",value:e.value,label:e.label,group:"highlight"}))),e},[s,o,h,p]),x=r.useCallback(e=>{let{type:t,label:l,value:n}=e;if(!c.current)return!1;let r=c.current.querySelector('[data-highlighted="true"]');r&&r.click(),a({type:t,label:l,value:n}),null==i||i({type:t,label:l,value:n})},[a,i]),{selectedIndex:g}=ei({containerRef:c,items:m,onSelect:e=>{e&&x({type:e.type,label:e.label,value:e.value})},orientation:"both",autoSelectFirstItem:!1});return(0,n.jsx)(eg,{ref:c,tabIndex:0,role:"menu",children:(0,n.jsxs)(ev,{children:[s&&(0,n.jsx)(ny,{recentColors:o,onColorSelected:x,selectedIndex:g}),(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Text color"}),(0,n.jsx)(nw,{type:"text",colors:u,onColorSelected:x,selectedIndex:g,startIndexOffset:C})]}),(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Highlight color"}),(0,n.jsx)(nw,{type:"highlight",colors:d,onColorSelected:x,selectedIndex:g,startIndexOffset:f})]})]})})},nk=r.forwardRef((e,t)=>{let{editor:l,hideWhenUnavailable:i=!1,onColorChanged:o,onClick:a,children:s,...c}=e,{editor:u}=eo(l),[d,h]=r.useState(!1),{isVisible:p,canToggle:C,activeTextStyle:f,activeHighlight:m,handleColorChanged:x,label:g,Icon:v}=function(e){let{editor:t,hideWhenUnavailable:l=!1,onColorChanged:n}=e||{},{editor:i}=eo(t),[o,a]=r.useState(!0),s=Z("textStyle",i),c=Z("highlight",i),u=eF(i,"textStyle")||{},d=eF(i,"highlight")||{},h=lI(i)||lU(i);return r.useEffect(()=>{if(!i)return;let e=()=>{a(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||lI(t)||lU(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l,c,s]),{isVisible:o,canToggle:h,activeTextStyle:u,activeHighlight:d,handleColorChanged:r.useCallback(e=>{let{type:t,label:l,value:r}=e;null==n||n({type:t,label:l,value:r})},[n]),label:"Text color",Icon:lS}}({editor:u,hideWhenUnavailable:i,onColorChanged:o}),b=r.useCallback(e=>{null==a||a(e),e.defaultPrevented||h(!d)},[a,d,h]);return p?(0,n.jsxs)(ng,{open:d,onOpenChange:h,children:[(0,n.jsx)(nv,{asChild:!0,children:(0,n.jsx)(q,{type:"button","data-style":"ghost","data-appearance":"default",role:"button","aria-label":g,tooltip:g,disabled:!C,"data-disabled":!C,onClick:b,...c,ref:t,children:null!=s?s:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"tiptap-button-color-text-popover",style:m.color?{"--active-highlight-color":m.color}:{},children:(0,n.jsx)(v,{className:"tiptap-button-icon",style:{color:f.color||void 0}})}),(0,n.jsx)(nm,{className:"tiptap-button-dropdown-small"})]})})}),(0,n.jsx)(nb,{"aria-label":"Text color options",side:"bottom",align:"start",children:(0,n.jsx)(nL,{onColorChanged:x})})]}):null});function nN(e,t){var l;return null!=(l=t.find(t=>t.value===e))?l:{value:e,label:e}}function nE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,[t,l]=r.useState([]),[n,i]=r.useState(!1);return r.useEffect(()=>{try{let t=localStorage.getItem("tiptapRecentlyUsedColors");if(t){let n=JSON.parse(t);l(n.slice(0,e))}}catch(e){console.error("Failed to load stored colors:",e)}finally{i(!0)}},[e]),{recentColors:t,addRecentColor:r.useCallback(t=>{let{type:n,label:r,value:i}=t;l(t=>{let l=t.filter(e=>e.type!==n||e.value!==i),o=[{type:n,label:r,value:i},...l].slice(0,e);try{localStorage.setItem("tiptapRecentlyUsedColors",JSON.stringify(o))}catch(e){console.error("Failed to store colors:",e)}return o})},[e]),isInitialized:n}}nk.displayName="ColorTextPopover";var nA=l(4617),nS=l(8578);function nR(e){let{...t}=e;return(0,n.jsx)(nS.bL,{modal:!1,...t})}function nM(e){let{...t}=e;return(0,n.jsx)(nS.ZL,{...t})}l(4892);let nI=r.forwardRef((e,t)=>{let{...l}=e;return(0,n.jsx)(nS.l9,{ref:t,...l})});nI.displayName=nS.l9.displayName,nS.YJ;let nH=nS.Pb;nS.z6;let nT=nS.q7,nB=nS.ZP,nV=r.forwardRef((e,t)=>{let{className:l,portal:r=!0,...i}=e,o=(0,n.jsx)(nS.G5,{ref:t,className:T("tiptap-dropdown-menu",l),...i});return r?(0,n.jsx)(nM,{..."object"==typeof r?r:{},children:o}):o});nV.displayName=nS.G5.displayName;let nZ=r.forwardRef((e,t)=>{let{className:l,sideOffset:r=4,portal:i=!1,...o}=e,a=(0,n.jsx)(nS.UC,{ref:t,sideOffset:r,onCloseAutoFocus:e=>e.preventDefault(),className:T("tiptap-dropdown-menu",l),...o});return i?(0,n.jsx)(nM,{..."object"==typeof i?i:{},children:a}):a});nZ.displayName=nS.UC.displayName;let nO=e=>{let{blockTypes:t,useCardLayout:l=!0}=e,r=nF(t),i=()=>(0,n.jsx)(W,{children:r.map((e,t)=>{var l;return function(e,t){switch(e.type){case"paragraph":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lX,{showTooltip:!1,text:e.label})},t);case"heading":if(!e.level)return null;return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(l2,{level:e.level||1,showTooltip:!1,text:e.label})},t);case"bulletList":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(ne,{type:"bulletList",showTooltip:!1,text:e.label})},t);case"orderedList":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(ne,{type:"orderedList",showTooltip:!1,text:e.label})},t);case"taskList":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(ne,{type:"taskList",showTooltip:!1,text:e.label})},t);case"blockquote":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(na,{showTooltip:!1,text:e.label})},t);case"codeBlock":return(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(nh,{showTooltip:!1,text:e.label})},t);default:return null}}(e,"".concat(e.type,"-").concat(null!=(l=e.level)?l:t))})});return l?(0,n.jsx)(eg,{children:(0,n.jsx)(ev,{children:(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Turn into"}),i()]})})}):i()},n_=r.forwardRef((e,t)=>{let{editor:l,hideWhenUnavailable:i=!1,blockTypes:o,portal:a=!1,useCardLayout:s=!0,onOpenChange:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canToggle:C,isOpen:f,activeBlockType:m,handleOpenChange:x,label:g,Icon:v}=function(e){let{editor:t,hideWhenUnavailable:l=!1,blockTypes:n,onOpenChange:i}=e||{},{editor:o}=eo(t),[a,s]=r.useState(!1),[c,u]=r.useState(!0),d=nD(o,n),h=function(e,t){if(!e)return nF(t)[0];let l=nF(t);return l.find(t=>t.isActive(e))||l[0]}(o,n),p=r.useCallback(e=>{o&&d&&(s(e),null==i||i(e))},[d,o,i]);return r.useEffect(()=>{if(!o)return;let e=()=>{u(function(e){let{editor:t,hideWhenUnavailable:l,blockTypes:n}=e;return!!t&&(!l||!!t.isActive("code")||nD(t,n))}({editor:o,hideWhenUnavailable:l,blockTypes:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,l,n]),{isVisible:c,canToggle:d,isOpen:a,setIsOpen:s,activeBlockType:h,handleOpenChange:p,filteredOptions:nF(n),label:"Turn into (current: ".concat((null==h?void 0:h.label)||"Text",")"),Icon:nm}}({editor:h,hideWhenUnavailable:i,blockTypes:o,onOpenChange:c});return p?(0,n.jsxs)(nR,{open:f,onOpenChange:x,children:[(0,n.jsx)(nI,{asChild:!0,children:(0,n.jsx)(q,{type:"button","data-style":"ghost",disabled:!C,"data-disabled":!C,role:"button",tabIndex:-1,"aria-label":g,tooltip:"Turn into",...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"tiptap-button-text",children:(null==m?void 0:m.label)||"Text"}),(0,n.jsx)(v,{className:"tiptap-button-dropdown-small"})]})})}),(0,n.jsx)(nZ,{align:"start",portal:a,children:(0,n.jsx)(nO,{blockTypes:o,useCardLayout:s})})]}):null});n_.displayName="TurnIntoDropdown";let nU=["paragraph","heading","bulletList","orderedList","taskList","blockquote","codeBlock"],nP=[{type:"paragraph",label:"Text",isActive:e=>e.isActive("paragraph")&&!e.isActive("heading")&&!e.isActive("bulletList")&&!e.isActive("orderedList")&&!e.isActive("taskList")&&!e.isActive("blockquote")&&!e.isActive("codeBlock")},{type:"heading",label:"Heading 1",level:1,isActive:e=>e.isActive("heading",{level:1})},{type:"heading",label:"Heading 2",level:2,isActive:e=>e.isActive("heading",{level:2})},{type:"heading",label:"Heading 3",level:3,isActive:e=>e.isActive("heading",{level:3})},{type:"bulletList",label:"Bulleted list",isActive:e=>e.isActive("bulletList")},{type:"orderedList",label:"Numbered list",isActive:e=>e.isActive("orderedList")},{type:"taskList",label:"To-do list",isActive:e=>e.isActive("taskList")},{type:"blockquote",label:"Blockquote",isActive:e=>e.isActive("blockquote")},{type:"codeBlock",label:"Code block",isActive:e=>e.isActive("codeBlock")}];function nD(e,t){if(!e||!e.isEditable)return!1;let l=t||nU,{selection:n}=e.state;if(n instanceof I.nh){let e=n.node.type.name;return l.includes(e)}let{$anchor:r}=n,i=r.parent.type.name;return l.includes(i)}function nF(e){return e?nP.filter(t=>e.includes(t.type)):nP}let nz=e=>{if(!e)return{hasAnyActionGroups:!1,hasColorActions:!1,hasTransformActions:!1,hasResetFormatting:!1,hasImage:!1};let{selection:t}=e.state,l=t.$anchor.node(1);t instanceof I.nh&&(l=t.node);let n=!!e.can().setMark("textStyle")||!!e.can().setMark("highlight"),r=!!(l&&l.type&&l.type.name&&nU.includes(l.type.name)),i=(0,j.BQ)(t)&&"image"===l.type.name,o=lv(e.state.tr,["inlineThread"]);return{hasAnyActionGroups:n||r||o,hasColorActions:n,hasTransformActions:r,hasResetFormatting:o,hasImage:i}},nG=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M9 3C7.89543 3 7 3.89543 7 5C7 6.10457 7.89543 7 9 7C10.1046 7 11 6.10457 11 5C11 3.89543 10.1046 3 9 3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M9 10C7.89543 10 7 10.8954 7 12C7 13.1046 7.89543 14 9 14C10.1046 14 11 13.1046 11 12C11 10.8954 10.1046 10 9 10Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M7 19C7 17.8954 7.89543 17 9 17C10.1046 17 11 17.8954 11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M15 10C13.8954 10 13 10.8954 13 12C13 13.1046 13.8954 14 15 14C16.1046 14 17 13.1046 17 12C17 10.8954 16.1046 10 15 10Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M15 17C13.8954 17 13 17.8954 13 19C13 20.1046 13.8954 21 15 21C16.1046 21 17 20.1046 17 19C17 17.8954 16.1046 17 15 17Z",fill:"currentColor"})]})});nG.displayName="GripVerticalIcon";let nK=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.70711 1.29289C5.31658 0.902369 4.68342 0.902369 4.29289 1.29289C3.90237 1.68342 3.90237 2.31658 4.29289 2.70711L7.08575 5.49997L1.69282 10.8929L1.68582 10.9C1.13614 11.4608 0.828247 12.2147 0.828247 13C0.828247 13.7853 1.1361 14.5392 1.68578 15.1L6.89285 20.3071C8.08338 21.4976 9.91654 21.4976 11.1071 20.3071L19.7071 11.7071C20.0976 11.3166 20.0976 10.6834 19.7071 10.2929L11.7071 2.29289C11.3165 1.90237 10.6834 1.90237 10.2929 2.29289L8.49997 4.08576L5.70711 1.29289ZM17.5857 11L16.5857 12H3.41418L8.49998 6.91419L9.29289 7.70711C9.68342 8.09763 10.3166 8.09763 10.7071 7.70711C11.0976 7.31658 11.0976 6.68342 10.7071 6.29289L9.91419 5.49998L11 4.41421L17.5857 11ZM14.5857 14H3.41418L8.30707 18.8929C8.71654 19.3024 9.28338 19.3024 9.69285 18.8929L14.5857 14Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9829 15.8157C20.8942 15.3427 20.4812 15 20 15C19.5188 15 19.1058 15.3427 19.0171 15.8157C18.9233 16.3161 18.6226 16.706 18.1385 17.3337L18.0955 17.3895C17.6418 17.9781 17 18.8237 17 20C17 20.7957 17.3161 21.5587 17.8787 22.1213C18.4413 22.6839 19.2043 23 20 23C20.7957 23 21.5587 22.6839 22.1213 22.1213C22.6839 21.5587 23 20.7957 23 20C23 18.8237 22.3582 17.9781 21.9045 17.3895L21.8615 17.3337C21.3774 16.706 21.0767 16.3161 20.9829 15.8157ZM19 20C19 19.5763 19.2082 19.2219 19.6795 18.6105C19.714 18.5658 19.7503 18.5192 19.7881 18.4709C19.855 18.3851 19.9265 18.2935 20 18.1963C20.0735 18.2935 20.1449 18.385 20.2119 18.4708C20.2496 18.5192 20.286 18.5658 20.3205 18.6105C20.7918 19.2219 21 19.5763 21 20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21C19.7348 21 19.4804 20.8946 19.2929 20.7071C19.1054 20.5196 19 20.2652 19 20Z",fill:"currentColor"})]})});nK.displayName="MoreVerticalIcon";let nq=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29289 5.29289C8.68342 4.90237 9.31658 4.90237 9.70711 5.29289L15.7071 11.2929C16.0976 11.6834 16.0976 12.3166 15.7071 12.7071L9.70711 18.7071C9.31658 19.0976 8.68342 19.0976 8.29289 18.7071C7.90237 18.3166 7.90237 17.6834 8.29289 17.2929L13.5858 12L8.29289 6.70711C7.90237 6.31658 7.90237 5.68342 8.29289 5.29289Z",fill:"currentColor"})})});nq.displayName="ChevronRightIcon";let nW=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.70711 5.29289C5.31658 4.90237 4.68342 4.90237 4.29289 5.29289L1.29289 8.29289C0.902369 8.68342 0.902369 9.31658 1.29289 9.70711C1.68342 10.0976 2.31658 10.0976 2.70711 9.70711L4 8.41421V16C4 16.7956 4.31607 17.5587 4.87868 18.1213C5.44129 18.6839 6.20435 19 7 19H13C13.5523 19 14 18.5523 14 18C14 17.4477 13.5523 17 13 17H7C6.73478 17 6.48043 16.8946 6.29289 16.7071C6.10536 16.5196 6 16.2652 6 16V8.41421L7.29289 9.70711C7.68342 10.0976 8.31658 10.0976 8.70711 9.70711C9.09763 9.31658 9.09763 8.68342 8.70711 8.29289L5.70711 5.29289ZM15.2929 14.2929C15.6834 13.9024 16.3166 13.9024 16.7071 14.2929L18 15.5858V8C18 7.73478 17.8946 7.48043 17.7071 7.29289C17.5196 7.10536 17.2652 7 17 7H11C10.4477 7 10 6.55228 10 6C10 5.44772 10.4477 5 11 5H17C17.7957 5 18.5587 5.31607 19.1213 5.87868C19.6839 6.44129 20 7.20435 20 8V15.5858L21.2929 14.2929C21.6834 13.9024 22.3166 13.9024 22.7071 14.2929C23.0976 14.6834 23.0976 15.3166 22.7071 15.7071L19.7071 18.7071C19.3166 19.0976 18.6834 19.0976 18.2929 18.7071L15.2929 15.7071C14.9024 15.3166 14.9024 14.6834 15.2929 14.2929Z",fill:"currentColor"})})});nW.displayName="Repeat2Icon";let n$={position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:0},nX=e=>{let{icon:t,label:l,onClick:r,disabled:i=!1,isActive:o=!1,shortcutBadge:a}=e;return(0,n.jsxs)(tV,{render:(0,n.jsx)(q,{"data-style":"ghost","data-active-state":o?"on":"off"}),onClick:r,disabled:i,children:[(0,n.jsx)(t,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:l}),a]})},nJ=e=>{let{icon:t,label:l,children:r}=e;return(0,n.jsx)(tS,{placement:"right",trigger:(0,n.jsx)(tV,{render:(0,n.jsx)(tM,{render:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(t,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:l}),(0,n.jsx)(to,{}),(0,n.jsx)(nq,{className:"tiptap-button-icon"})]})})}),children:(0,n.jsx)(tR,{portal:!0,children:(0,n.jsx)(tL,{style:{width:"fit-content"},children:r})})})},nY=e=>{let{color:t}=e,{addRecentColor:l}=nE(),{isActive:r,handleColorText:i,label:o}=lH({label:t.label,textColor:t.value,onApplied:e=>{let{color:t,label:n}=e;return l({type:"text",label:n,value:t})}});return(0,n.jsxs)(tV,{render:(0,n.jsx)(q,{"data-style":"ghost","data-active-state":r?"on":"off"}),onClick:i,children:[(0,n.jsx)("span",{className:"tiptap-button-color-text",style:{color:t.value},children:(0,n.jsx)(lS,{className:"tiptap-button-icon",style:{color:t.value,flexGrow:1}})}),(0,n.jsx)("span",{className:"tiptap-button-text",children:o})]})},nQ=e=>{let{color:t}=e,{addRecentColor:l}=nE(),{isActive:r,handleColorHighlight:i,label:o}=lP({label:t.label,highlightColor:t.value,onApplied:e=>{let{color:t,label:n}=e;return l({type:"highlight",label:n,value:t})}});return(0,n.jsxs)(tV,{render:(0,n.jsx)(q,{"data-style":"ghost","data-active-state":r?"on":"off"}),onClick:i,children:[(0,n.jsx)("span",{className:"tiptap-button-highlight",style:{"--highlight-color":t.value}}),(0,n.jsx)("span",{className:"tiptap-button-text",children:o})]})},n1=e=>{let{colorObj:t}=e,l="text"===t.type?lM:lO,r=nN(t.value,l),i="text"===t.type?nY:nQ;return(0,n.jsx)(i,{color:r})},n2=()=>{let{recentColors:e,isInitialized:t}=nE();return(0,n.jsxs)(nJ,{icon:nK,label:"Color",children:[t&&e.length>0&&(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:"Recent colors"}),e.map(e=>(0,n.jsx)(n1,{colorObj:e},e.value)),(0,n.jsx)(tl,{orientation:"horizontal"})]}),(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:"Text color"}),lM.map(e=>(0,n.jsx)(nY,{color:e},e.value))]}),(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:"Highlight color"}),lO.map(e=>(0,n.jsx)(nQ,{color:e},e.value))]})]})},n0=()=>{let e=(()=>{let e=lQ(),t=l6({level:1}),l=l6({level:2}),n=l6({level:3}),r=ni({type:"bulletList"}),i=ni({type:"orderedList"}),o=ni({type:"taskList"}),a=nu(),s=nf(),c=e=>({icon:e.Icon,label:e.label,onClick:e.handleToggle,disabled:!e.canToggle,isActive:e.isActive});return[c(e),...[t,l,n].map(c),c(r),c(i),c(o),c(a),c(s)]})();return(0,n.jsx)(nJ,{icon:nW,label:"Turn Into",children:(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:"Turn into"}),e.map(e=>(0,n.jsx)(nX,{...e},e.label))]})})},n7=()=>{let{canReset:e,handleResetFormatting:t,label:l,Icon:r}=lj({hideWhenUnavailable:!0,preserveMarks:["inlineThread"]});return(0,n.jsx)(nX,{icon:r,label:l,disabled:!e,onClick:t})},n4=()=>{let{canDownload:e,handleDownload:t,label:l,Icon:r}=t0({hideWhenUnavailable:!0});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(nX,{icon:r,label:l,disabled:!e,onClick:t}),(0,n.jsx)(tl,{orientation:"horizontal"})]})},n5=()=>{let{handleDuplicate:e,canDuplicate:t,label:l,Icon:r}=t6(),{handleCopyToClipboard:i,canCopyToClipboard:o,label:a,Icon:s}=la();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(tH,{children:[(0,n.jsx)(nX,{icon:r,label:l,onClick:e,disabled:!t,shortcutBadge:(0,n.jsx)(t7,{})}),(0,n.jsx)(nX,{icon:s,label:a,onClick:i,disabled:!o,shortcutBadge:(0,n.jsx)(t8,{})})]}),(0,n.jsx)(tl,{orientation:"horizontal"})]})},n9=()=>{let{handleAiAsk:e,canAiAsk:t,Icon:l}=lW();return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tH,{children:t&&(0,n.jsx)(nX,{icon:l,label:"Ask AI",onClick:e,shortcutBadge:(0,n.jsx)(lD,{})})}),(0,n.jsx)(tl,{orientation:"horizontal"})]}):null},n3=()=>{let{handleDeleteNode:e,canDeleteNode:t,label:l,Icon:r}=lC();return(0,n.jsx)(tH,{children:(0,n.jsx)(nX,{icon:r,label:l,onClick:e,disabled:!t,shortcutBadge:(0,n.jsx)(ls,{})})})},n6=e=>{let{editor:t,withSlashCommandTrigger:l=!0,mobileBreakpoint:i=768,...o}=e,{editor:a}=eo(t),{aiGenerationActive:s}=b(a),c=eX(i),[u,d]=r.useState(!1),[h,p]=r.useState(null),[C,f]=r.useState(-1),m=r.useCallback(e=>{e.node&&p(e.node),f(e.pos)},[]);r.useEffect(()=>{a&&(a.commands.setLockDragHandle(u),a.commands.setMeta("lockDragHandle",u))},[a,u]);let{hasAnyActionGroups:x,hasColorActions:g,hasTransformActions:v,hasResetFormatting:w,hasImage:y}=nz(a),L=r.useMemo(()=>({middleware:[(0,N.cY)(e=>{let{rects:t}=e,l=t.reference.height;return{mainAxis:16,crossAxis:l>40?0:l/2-16}})]}),[]),k=r.useCallback(()=>{a&&a.commands.setMeta("hideDragHandle",!0)},[a]);return a?(0,n.jsx)(nA.t,{editor:a,onNodeChange:m,computePositionConfig:L,...o,children:(0,n.jsxs)(W,{orientation:"horizontal",style:{...s||c||(e=>{if(!e)return!1;let{state:t}=e,{selection:l}=t;return(0,j.eE)(l)&&!l.empty&&!l.$from.parent.type.spec.code&&!(0,j.BQ)(l)})(a)?{opacity:0,pointerEvents:"none"}:{}},children:[l&&(0,n.jsx)(ly,{node:h,nodePos:C,"data-weight":"small"}),(0,n.jsx)(tS,{open:u,onOpenChange:d,placement:"left",trigger:(0,n.jsx)(tM,{render:(0,n.jsx)(q,{"data-style":"ghost",tabIndex:-1,tooltip:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Click for options"}),(0,n.jsx)("div",{children:"Hold for drag"})]}),"data-weight":"small",style:{cursor:"grab",...u?{pointerEvents:"none"}:{}},onMouseDown:()=>{a&&a.commands.setNodeSelection(C)},children:(0,n.jsx)(nG,{className:"tiptap-button-icon"})})}),children:(0,n.jsxs)(tR,{onClose:k,autoFocusOnHide:!1,preventBodyScroll:!0,portal:!0,children:[(0,n.jsx)(tN,{style:n$}),(0,n.jsxs)(tL,{style:{minWidth:"15rem"},children:[(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:eh(a)}),g&&(0,n.jsx)(n2,{}),v&&(0,n.jsx)(n0,{}),w&&(0,n.jsx)(n7,{}),y&&(0,n.jsx)(n4,{})]}),x&&(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsx)(n5,{}),(0,n.jsx)(n9,{}),(0,n.jsx)(n3,{})]})]})})]})}):null},n8=[{label:"English",value:"en"},{label:"Korean",value:"ko"},{label:"Chinese",value:"zh"},{label:"Japanese",value:"ja"},{label:"Spanish",value:"es"},{label:"Russian",value:"ru"},{label:"French",value:"fr"},{label:"Portuguese",value:"pt"},{label:"German",value:"de"},{label:"Italian",value:"it"},{label:"Dutch",value:"nl"},{label:"Indonesian",value:"id"},{label:"Vietnamese",value:"vi"},{label:"Turkish",value:"tr"},{label:"Arabic",value:"ar"}],re=[{label:"Academic",value:"academic"},{label:"Business",value:"business"},{label:"Casual",value:"casual"},{label:"Childfriendly",value:"childfriendly"},{label:"Confident",value:"confident"},{label:"Conversational",value:"conversational"},{label:"Creative",value:"creative"},{label:"Emotional",value:"emotional"},{label:"Excited",value:"excited"},{label:"Formal",value:"formal"},{label:"Friendly",value:"friendly"},{label:"Funny",value:"funny"},{label:"Numorous",value:"humorous"},{label:"Informative",value:"informative"},{label:"Inspirational",value:"inspirational"},{label:"Memeify",value:"memeify"},{label:"Narrative",value:"narrative"},{label:"Objective",value:"objective"},{label:"Persuasive",value:"persuasive"},{label:"Poetic",value:"poetic"}],rt=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M3 2C2.44772 2 2 2.44772 2 3C2 3.55228 2.44772 4 3 4H4C4.26522 4 4.51957 4.10536 4.70711 4.29289C4.89464 4.48043 5 4.73478 5 5V10C5 10.7406 5.27387 11.453 5.76552 12.0018C5.28986 12.533 5 13.2337 5 14V19C5 19.2652 4.89464 19.5196 4.70711 19.7071C4.51957 19.8946 4.26522 20 4 20H3C2.44772 20 2 20.4477 2 21C2 21.5523 2.44772 22 3 22H4C4.79565 22 5.55871 21.6839 6.12132 21.1213C6.68393 20.5587 7 19.7957 7 19V14C7 13.4523 7.45228 13 8 13C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11C7.73478 11 7.48043 10.8946 7.29289 10.7071C7.10536 10.5196 7 10.2652 7 10V5C7 4.20435 6.68393 3.44129 6.12132 2.87868C5.55871 2.31607 4.79565 2 4 2H3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M11 6C10.4477 6 10 6.44772 10 7C10 7.55228 10.4477 8 11 8L21 8C21.5523 8 22 7.55229 22 7C22 6.44772 21.5523 6 21 6L11 6Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M14 12C14 11.4477 14.4477 11 15 11L21 11C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13L15 13C14.4477 13 14 12.5523 14 12Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M11 16C10.4477 16 10 16.4477 10 17C10 17.5523 10.4477 18 11 18L21 18C21.5523 18 22 17.5523 22 17C22 16.4477 21.5523 16 21 16L11 16Z",fill:"currentColor"})]})});rt.displayName="SummarizeTextIcon";let rl=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M4 20C4 20.5523 3.55228 21 3 21C2.44772 21 2 20.5523 2 20V6C2 4.34315 3.34315 3 5 3C6.65685 3 8 4.34315 8 6V15C8 15.5523 8.44772 16 9 16C9.55228 16 10 15.5523 10 15V9.5C10 7.84315 11.3431 6.5 13 6.5C14.6569 6.5 16 7.84315 16 9.5V10C16 10.5523 16.4477 11 17 11H19.5858L18.2929 9.70711C17.9024 9.31658 17.9024 8.68342 18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L19.7071 15.7071C19.3166 16.0976 18.6834 16.0976 18.2929 15.7071C17.9024 15.3166 17.9024 14.6834 18.2929 14.2929L19.5858 13H17C15.3431 13 14 11.6569 14 10V9.5C14 8.94772 13.5523 8.5 13 8.5C12.4477 8.5 12 8.94771 12 9.5V15C12 16.6569 10.6569 18 9 18C7.34315 18 6 16.6569 6 15V6C6 5.44772 5.55228 5 5 5C4.44772 5 4 5.44772 4 6V20Z",fill:"currentColor"})})});rl.displayName="Simplify2Icon";let rn=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M7 1C6.44772 1 6 1.44772 6 2C6 2.55228 6.44772 3 7 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H7Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M9.22288 7.3629L10.1315 6H2C1.44772 6 1 5.55228 1 5C1 4.44772 1.44772 4 2 4H11.9853C11.9957 3.99984 12.0061 3.99984 12.0166 4H14C14.5523 4 15 4.44772 15 5C15 5.55228 14.5523 6 14 6H12.5352L10.8321 8.55468C10.7955 8.60948 10.7537 8.66053 10.7071 8.70709L8.91421 10.5L11.7071 13.2929C12.0976 13.6834 12.0976 14.3166 11.7071 14.7071C11.3166 15.0976 10.6834 15.0976 10.2929 14.7071L7.49999 11.9142L4.70711 14.7071C4.31658 15.0976 3.68342 15.0976 3.29289 14.7071C2.90237 14.3166 2.90237 13.6834 3.29289 13.2929L6.08578 10.5L4.29289 8.70711C3.90237 8.31658 3.90237 7.68342 4.29289 7.29289C4.68342 6.90237 5.31658 6.90237 5.70711 7.29289L7.49999 9.08578L9.22288 7.3629Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 11C17.3787 11 17.725 11.214 17.8944 11.5528L20.8849 17.5338C20.8918 17.5468 20.8983 17.5599 20.9046 17.5731L22.8944 21.5528C23.1414 22.0468 22.9412 22.6474 22.4472 22.8944C21.9532 23.1414 21.3525 22.9412 21.1055 22.4472L19.3819 19H14.618L12.8944 22.4472C12.6474 22.9412 12.0467 23.1414 11.5528 22.8944C11.0588 22.6474 10.8586 22.0468 11.1055 21.5528L13.0964 17.5712C13.102 17.5592 13.1079 17.5474 13.1141 17.5358L16.1055 11.5528C16.2749 11.214 16.6212 11 17 11ZM15.618 17H18.3819L17 14.2361L15.618 17Z",fill:"currentColor"})]})});rn.displayName="LanguagesIcon";let rr=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M10.5 1C9.43913 1 8.42172 1.42143 7.67157 2.17157C6.92143 2.92172 6.5 3.93913 6.5 5V12C6.5 13.0609 6.92143 14.0783 7.67157 14.8284C8.42172 15.5786 9.43913 16 10.5 16C11.5609 16 12.5783 15.5786 13.3284 14.8284C14.0786 14.0783 14.5 13.0609 14.5 12C14.5 11.4477 14.0523 11 13.5 11C12.9477 11 12.5 11.4477 12.5 12C12.5 12.5304 12.2893 13.0391 11.9142 13.4142C11.5391 13.7893 11.0304 14 10.5 14C9.96957 14 9.46086 13.7893 9.08579 13.4142C8.71071 13.0391 8.5 12.5304 8.5 12V5C8.5 4.46957 8.71071 3.96086 9.08579 3.58579C9.46086 3.21071 9.96957 3 10.5 3C11.0523 3 11.5 2.55228 11.5 2C11.5 1.44772 11.0523 1 10.5 1Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M4.5 10C4.5 9.44771 4.05228 9 3.5 9C2.94772 9 2.5 9.44771 2.5 10V12C2.5 13.7611 3.0811 15.4729 4.15318 16.8701C5.22525 18.2672 6.72838 19.2716 8.42945 19.7274C8.7827 19.8221 9.14038 19.892 9.5 19.9373V22C9.5 22.5523 9.94772 23 10.5 23C11.0523 23 11.5 22.5523 11.5 22V19.9373C12.2039 19.8486 12.8974 19.6661 13.5615 19.391C15.1885 18.7171 16.5477 17.5251 17.4282 16C17.7043 15.5217 17.5405 14.9101 17.0622 14.634C16.5839 14.3578 15.9723 14.5217 15.6962 15C15.0358 16.1438 14.0164 17.0378 12.7961 17.5433C11.5758 18.0487 10.2229 18.1374 8.94709 17.7956C7.67129 17.4537 6.54394 16.7004 5.73988 15.6526C4.93583 14.6047 4.5 13.3208 4.5 12L4.5 11.9977V10Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4492 1.68544C17.3136 1.27624 16.9311 1 16.5 1C16.0689 1 15.6864 1.27624 15.5508 1.68544L14.8711 3.73642C14.7717 4.03638 14.5364 4.2717 14.2364 4.3711L12.1854 5.05076C11.7762 5.18636 11.5 5.56892 11.5 6C11.5 6.43108 11.7762 6.81364 12.1854 6.94924L14.2364 7.6289C14.5364 7.7283 14.7717 7.96362 14.8711 8.26358L15.5508 10.3146C15.6864 10.7238 16.0689 11 16.5 11C16.9311 11 17.3136 10.7238 17.4492 10.3146L18.1289 8.26358C18.2283 7.96362 18.4636 7.7283 18.7636 7.6289L20.8146 6.94924C21.2238 6.81364 21.5 6.43108 21.5 6C21.5 5.56892 21.2238 5.18636 20.8146 5.05076L18.7636 4.3711C18.4636 4.2717 18.2283 4.03638 18.1289 3.73642L17.4492 1.68544ZM15.4559 6C15.8854 5.74447 16.2445 5.38537 16.5 4.95595C16.7555 5.38537 17.1146 5.74447 17.5441 6C17.1146 6.25554 16.7555 6.61463 16.5 7.04405C16.2445 6.61463 15.8854 6.25554 15.4559 6Z",fill:"currentColor"})]})});rr.displayName="MicAiIcon";let ri=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M2 4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4C22 4.55228 21.5523 5 21 5H3C2.44772 5 2 4.55228 2 4Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M6 8C6 7.44772 6.44772 7 7 7L17 7C17.5523 7 18 7.44772 18 8C18 8.55229 17.5523 9 17 9L7 9C6.44772 9 6 8.55228 6 8Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M3 11C2.44772 11 2 11.4477 2 12C2 12.5523 2.44772 13 3 13H21C21.5523 13 22 12.5523 22 12C22 11.4477 21.5523 11 21 11H3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M12 15C12.5523 15 13 15.4477 13 16V19.5858L14.2929 18.2929C14.6834 17.9024 15.3166 17.9024 15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071L12.7071 22.7071C12.3166 23.0976 11.6834 23.0976 11.2929 22.7071L8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929C8.68342 17.9024 9.31658 17.9024 9.70711 18.2929L11 19.5858V16C11 15.4477 11.4477 15 12 15Z",fill:"currentColor"})]})});ri.displayName="TextExtendIcon";let ro=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M3 5C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7H21C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5H3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M7 9C6.44772 9 6 9.44772 6 10C6 10.5523 6.44772 11 7 11L17 11C17.5523 11 18 10.5523 18 10C18 9.44772 17.5523 9 17 9L7 9Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M11.8863 21C11.334 21 10.8863 20.5523 10.8863 20L10.8863 16.4142L9.5934 17.7071C9.20287 18.0976 8.56971 18.0976 8.17918 17.7071C7.78866 17.3166 7.78866 16.6834 8.17918 16.2929L11.1792 13.2929C11.5697 12.9024 12.2029 12.9024 12.5934 13.2929L15.5934 16.2929C15.9839 16.6834 15.9839 17.3166 15.5934 17.7071C15.2029 18.0976 14.5697 18.0976 14.1792 17.7071L12.8863 16.4142L12.8863 20C12.8863 20.5523 12.4386 21 11.8863 21Z",fill:"currentColor"})]})});ro.displayName="TextReduceIcon";let ra=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M2 11C2 10.4477 2.44772 10 3 10H15C15.5523 10 16 10.4477 16 11C16 11.5523 15.5523 12 15 12H3C2.44772 12 2 11.5523 2 11Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M4 16C2.89543 16 2 16.8954 2 18C2 19.1046 2.89543 20 4 20C5.10457 20 6 19.1046 6 18C6 16.8954 5.10457 16 4 16Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M8 18C8 16.8954 8.89543 16 10 16C11.1046 16 12 16.8954 12 18C12 19.1046 11.1046 20 10 20C8.89543 20 8 19.1046 8 18Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.9492 13.6854C18.8136 13.2762 18.4311 13 18 13C17.5689 13 17.1864 13.2762 17.0508 13.6854L16.3711 15.7364C16.2717 16.0364 16.0364 16.2717 15.7364 16.3711L13.6854 17.0508C13.2762 17.1864 13 17.5689 13 18C13 18.4311 13.2762 18.8136 13.6854 18.9492L15.7364 19.6289C16.0364 19.7283 16.2717 19.9636 16.3711 20.2636L17.0508 22.3146C17.1864 22.7238 17.5689 23 18 23C18.4311 23 18.8136 22.7238 18.9492 22.3146L19.6289 20.2636C19.7283 19.9636 19.9636 19.7283 20.2636 19.6289L22.3146 18.9492C22.7238 18.8136 23 18.4311 23 18C23 17.5689 22.7238 17.1864 22.3146 17.0508L20.2636 16.3711C19.9636 16.2717 19.7283 16.0364 19.6289 15.7364L18.9492 13.6854ZM16.9559 18C17.3854 17.7445 17.7445 17.3854 18 16.9559C18.2555 17.3854 18.6146 17.7445 19.0441 18C18.6146 18.2555 18.2555 18.6146 18 19.0441C17.7445 18.6146 17.3854 18.2555 16.9559 18Z",fill:"currentColor"})]})});ra.displayName="CompleteSentenceIcon";let rs=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M7.67909 4.05505C9.27254 3.18292 11.0926 2.81337 12.9 2.995C13.4495 3.05022 13.9398 2.64952 13.995 2.1C14.0502 1.55048 13.6495 1.06024 13.1 1.00502C10.8909 0.783033 8.66641 1.2347 6.71886 2.30064C4.7713 3.36659 3.19189 4.99691 2.18824 6.97729C1.1846 8.95767 0.803706 11.1954 1.09564 13.3963C1.38758 15.5972 2.33867 17.6583 3.8239 19.3085C5.30912 20.9588 7.25894 22.121 9.41704 22.6423C11.5751 23.1637 13.8405 23.0198 15.9153 22.2296C17.9901 21.4394 19.7772 20.0398 21.0417 18.2149C22.3062 16.39 22.9889 14.2252 23 12.005L23 12V11C23 10.4477 22.5523 10 22 10C21.4477 10 21 10.4477 21 11V11.9976C20.9904 13.8132 20.4319 15.5834 19.3978 17.0758C18.3632 18.5689 16.901 19.714 15.2034 20.3605C13.5059 21.0071 11.6524 21.1248 9.8867 20.6982C8.12098 20.2717 6.52567 19.3208 5.31048 17.9706C4.0953 16.6204 3.31713 14.9341 3.07828 13.1333C2.83942 11.3326 3.15106 9.50171 3.97222 7.8814C4.79339 6.26109 6.08564 4.92719 7.67909 4.05505Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M7.4 13.2C7.84043 12.8697 8.46468 12.9576 8.79686 13.3958L8.8015 13.4018C8.80745 13.4093 8.81876 13.4234 8.83531 13.4431C8.86846 13.4826 8.92219 13.5442 8.99542 13.6206C9.14272 13.7743 9.36407 13.9828 9.65067 14.1913C10.2277 14.6109 11.0255 15 12 15C12.9745 15 13.7723 14.6109 14.3493 14.1913C14.6359 13.9828 14.8573 13.7743 15.0046 13.6206C15.0778 13.5442 15.1315 13.4826 15.1647 13.4431C15.1812 13.4234 15.1925 13.4093 15.1985 13.4018L15.2031 13.3958C15.5353 12.9576 16.1596 12.8697 16.6 13.2C17.0418 13.5314 17.1314 14.1582 16.8 14.6C15.9508 13.9631 15.9921 13.9941 16.8 14.6L16.799 14.6013L16.7978 14.6029L16.7951 14.6065L16.7879 14.6159L16.7666 14.6432C16.7493 14.6649 16.726 14.6938 16.6966 14.7288C16.638 14.7987 16.555 14.8933 16.4485 15.0044C16.2365 15.2257 15.9266 15.5172 15.5257 15.8087C14.7277 16.3891 13.5255 17 12 17C10.4745 17 9.27227 16.3891 8.47433 15.8087C8.07343 15.5172 7.76352 15.2257 7.55145 15.0044C7.445 14.8933 7.362 14.7987 7.30336 14.7288C7.274 14.6938 7.25065 14.6649 7.23341 14.6432L7.21211 14.6159L7.2049 14.6065L7.20216 14.6029L7.20101 14.6013C7.19952 14.5994 8.53552 13.5984 7.2 14.6C6.86863 14.1582 6.95817 13.5314 7.4 13.2Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M8 9C8 8.44772 8.44772 8 9 8H9.01C9.56229 8 10.01 8.44772 10.01 9C10.01 9.55229 9.56229 10 9.01 10H9C8.44772 10 8 9.55229 8 9Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.9492 1.68544C18.8136 1.27624 18.4311 1 18 1C17.5689 1 17.1864 1.27624 17.0508 1.68544L16.3711 3.73642C16.2717 4.03638 16.0364 4.2717 15.7364 4.3711L13.6854 5.05076C13.2762 5.18636 13 5.56892 13 6C13 6.43108 13.2762 6.81364 13.6854 6.94924L15.7364 7.6289C16.0364 7.7283 16.2717 7.96362 16.3711 8.26358L17.0508 10.3146C17.1864 10.7238 17.5689 11 18 11C18.4311 11 18.8136 10.7238 18.9492 10.3146L19.6289 8.26358C19.7283 7.96362 19.9636 7.7283 20.2636 7.6289L22.3146 6.94924C22.7238 6.81364 23 6.43108 23 6C23 5.56892 22.7238 5.18636 22.3146 5.05076L20.2636 4.3711C19.9636 4.2717 19.7283 4.03638 19.6289 3.73642L18.9492 1.68544ZM16.9559 6C17.3854 5.74447 17.7445 5.38537 18 4.95595C18.2555 5.38537 18.6146 5.74447 19.0441 6C18.6146 6.25554 18.2555 6.61463 18 7.04405C17.7445 6.61463 17.3854 6.25554 16.9559 6Z",fill:"currentColor"})]})});rs.displayName="SmileAiIcon";let rc=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2C7.43108 2 7.81364 2.27624 7.94924 2.68544L8.6289 4.73642C8.7283 5.03638 8.96362 5.2717 9.26358 5.3711L11.3146 6.05076C11.7238 6.18636 12 6.56892 12 7C12 7.43108 11.7238 7.81364 11.3146 7.94924L9.26358 8.6289C8.96362 8.7283 8.7283 8.96362 8.6289 9.26358L7.94924 11.3146C7.81364 11.7238 7.43108 12 7 12C6.56892 12 6.18636 11.7238 6.05076 11.3146L5.3711 9.26358C5.2717 8.96362 5.03638 8.7283 4.73642 8.6289L2.68544 7.94924C2.27624 7.81364 2 7.43108 2 7C2 6.56892 2.27624 6.18636 2.68544 6.05076L4.73642 5.3711C5.03638 5.2717 5.2717 5.03638 5.3711 4.73642L6.05076 2.68544C6.18636 2.27624 6.56892 2 7 2ZM7 5.95595C6.74447 6.38537 6.38537 6.74447 5.95595 7C6.38537 7.25554 6.74447 7.61463 7 8.04405C7.25554 7.61463 7.61463 7.25554 8.04405 7C7.61463 6.74447 7.25554 6.38537 7 5.95595Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 8.29289C22.0976 8.68342 22.0976 9.31658 21.7071 9.70711L10.7071 20.7071C10.3166 21.0976 9.68342 21.0976 9.29289 20.7071L4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929C4.68342 13.9024 5.31658 13.9024 5.70711 14.2929L10 18.5858L20.2929 8.29289C20.6834 7.90237 21.3166 7.90237 21.7071 8.29289Z",fill:"currentColor"})]})});function ru(){return{adjustTone:{type:"nested",component:rp,filterItems:!0,icon:(0,n.jsx)(rr,{className:"tiptap-button-icon"}),items:re,label:"Adjust tone",value:"adjustTone"},aiFixSpellingAndGrammar:{type:"executable",icon:(0,n.jsx)(rc,{className:"tiptap-button-icon"}),label:"Fix spelling & grammar",value:"aiFixSpellingAndGrammar",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiFixSpellingAndGrammar&&a.aiFixSpellingAndGrammar(o).run()}},aiExtend:{type:"executable",icon:(0,n.jsx)(ri,{className:"tiptap-button-icon"}),label:"Make longer",value:"aiExtend",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiExtend&&a.aiExtend(o).run()}},aiShorten:{type:"executable",icon:(0,n.jsx)(ro,{className:"tiptap-button-icon"}),label:"Make shorter",value:"aiShorten",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiShorten&&a.aiShorten(o).run()}},simplifyLanguage:{type:"executable",icon:(0,n.jsx)(rl,{className:"tiptap-button-icon"}),label:"Simplify language",value:"simplifyLanguage",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiSimplify&&a.aiSimplify(o).run()}},improveWriting:{type:"executable",icon:(0,n.jsx)(rs,{className:"tiptap-button-icon"}),label:"Improve writing",value:"improveWriting",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiRephrase&&a.aiRephrase(o).run()}},emojify:{type:"executable",icon:(0,n.jsx)(rs,{className:"tiptap-button-icon"}),label:"Emojify",value:"emojify",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiEmojify&&a.aiEmojify(o).run()}},continueWriting:{type:"executable",icon:(0,n.jsx)(ra,{className:"tiptap-button-icon"}),label:"Continue writing",value:"continueWriting",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiComplete&&a.aiComplete(o).run()}},summarize:{type:"executable",icon:(0,n.jsx)(rt,{className:"tiptap-button-icon"}),label:"Add a summary",value:"summarize",onSelect:e=>{let{editor:t,options:l}=e;if(!t)return;let{insertAt:n,isSelection:r,context:i}=rH(t),o={...l,insertAt:n,regenerate:!r};r&&(o.text=i);let a=t.chain();"function"==typeof a.aiSummarize&&a.aiSummarize(o).run()}},translateTo:{type:"nested",component:rh,filterItems:!0,icon:(0,n.jsx)(rn,{className:"tiptap-button-icon"}),items:n8,label:"Languages",value:"translateTo"}}}function rd(e){return"nested"===e.type}function rh(e){let{editor:t}=e,[l]=tz(),{state:i,updateState:o}=rV(),a=r.useMemo(()=>tG({items:ru().translateTo.items||[]},l),[l]),s=r.useCallback(e=>{if(!t)return;let{insertAt:l,isSelection:n,context:r}=rH(t);o({language:e});let a={stream:!0,format:"rich-text",insertAt:l,regenerate:!n};i.tone&&(a.tone=i.tone),n&&(a.text=r);let s=t.chain();"function"==typeof s.aiTranslate&&s.aiTranslate(e,a).run()},[t,i.tone,o]),c=(0,n.jsxs)(n.Fragment,{children:[a.length>0&&(0,n.jsx)(tT,{children:"Languages"}),a.map(e=>(0,n.jsx)(tV,{onClick:()=>e.value&&s(e.value),render:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(rn,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})]})},e.value))]});return l?c:(0,n.jsx)(tS,{placement:"right",trigger:(0,n.jsx)(tM,{render:(0,n.jsx)(tV,{render:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(rn,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Languages"}),(0,n.jsx)(tI,{render:(0,n.jsx)(nq,{})})]})})}),children:(0,n.jsx)(tR,{children:(0,n.jsx)(tL,{children:(0,n.jsx)(tH,{children:c})})})})}function rp(e){let{editor:t}=e,[l]=tz(),{state:i,updateState:o}=rV(),a=r.useMemo(()=>tG({items:ru().adjustTone.items||[]},l),[l]),s=r.useCallback(e=>{if(!t)return;let{insertAt:l,isSelection:n,context:r}=rH(t);i.tone&&i.tone===e||o({tone:e});let a={stream:!0,format:"rich-text",insertAt:l,regenerate:!n};i.language&&(a.language=i.language),n&&(a.text=r);let s=t.chain();"function"==typeof s.aiAdjustTone&&s.aiAdjustTone(e,a).run()},[t,i.language,i.tone,o]),c=a.map(e=>(0,n.jsx)(tV,{onClick:()=>s(e.value||""),render:(0,n.jsx)(q,{"data-style":"ghost",children:(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})})},e.value));return l?c:(0,n.jsx)(tS,{placement:"right",trigger:(0,n.jsx)(tM,{render:(0,n.jsx)(tV,{render:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(rr,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Adjust Tone"}),(0,n.jsx)(tI,{render:(0,n.jsx)(nq,{})})]})})}),children:(0,n.jsx)(tR,{children:(0,n.jsx)(tL,{children:(0,n.jsx)(tH,{children:c})})})})}function rC(e){let{menuItem:t,availableActions:l,editor:r}=e,{state:i}=rV();if(!t.value)return null;let o=l[t.value];if(!o)return null;if(rd(o)){let e=o.component;return(0,n.jsx)(e,{editor:r},t.value)}if("executable"===o.type){let e={stream:!0,format:"rich-text",language:i.language};return i.tone&&(e.tone=i.tone),(0,n.jsx)(tV,{onClick:()=>o.onSelect({editor:r,options:e}),render:(0,n.jsxs)(q,{"data-style":"ghost",children:[o.icon,(0,n.jsx)("span",{className:"tiptap-button-text",children:o.label})]})},t.value)}return null}function rf(e){let{editor:t}=e,{editor:l}=eo(t),[i]=tz(),o=r.useMemo(()=>ru(),[]),a=r.useMemo(()=>(function(e){let t=e=>({label:e.label,value:e.value,icon:e.icon,filterItems:"nested"===e.type?e.filterItems:void 0});return[{label:"Edit",items:Object.values([e.adjustTone,e.aiFixSpellingAndGrammar,e.aiExtend,e.aiShorten,e.simplifyLanguage,e.improveWriting,e.emojify]).map(t)},{label:"Write",items:Object.values([e.continueWriting,e.summarize,e.translateTo]).map(t)}]})(o),[o]),s=r.useMemo(()=>(i.trim()?a.reduce((e,t)=>{let l=tG(t,i);return l.length>0&&e.push({...t,items:l}),e},[]):a)||a,[a,i]),c=r.useCallback(e=>{if(!e.value)return!1;let t=o[e.value];return!!t&&(!(rd(t)&&t.filterItems&&i.trim())||tG({items:t.items||[]},i).length>0)},[o,i]);if(!l)return null;let u=s.map(e=>{var t,l;return{...e,items:null!=(l=null==(t=e.items)?void 0:t.filter(c))?l:[]}}).filter(e=>e.items.length>0);return 0===u.length?null:u.map((e,t)=>(0,n.jsxs)(r.Fragment,{children:[(0,n.jsxs)(tH,{children:[(0,n.jsx)(tT,{children:e.label}),e.items.map(e=>(0,n.jsx)(rC,{menuItem:e,availableActions:o,editor:l},e.value||t))]},t),t<u.length-1&&(0,n.jsx)(tl,{orientation:"horizontal"})]},t))}rc.displayName="CheckAiIcon";let rm=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071C4.68342 13.0976 5.31658 13.0976 5.70711 12.7071L11 7.41421V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V7.41421L18.2929 12.7071C18.6834 13.0976 19.3166 13.0976 19.7071 12.7071C20.0976 12.3166 20.0976 11.6834 19.7071 11.2929L12.7071 4.29289Z",fill:"currentColor"})})});rm.displayName="ArrowUpIcon",l(9260);let rx=e=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&"object"==typeof e&&"current"in e&&(e.current=t)})},rg=(e,t)=>{r.useEffect(()=>{let l=e.current;if(!l)return;let n=!0;requestAnimationFrame(t);let r=new MutationObserver(()=>{n&&requestAnimationFrame(t)});return r.observe(l,{childList:!0,subtree:!0,attributes:!0}),()=>{n=!1,r.disconnect()}},[e,t])},rv=r.forwardRef((e,t)=>{let{children:l,className:i,variant:o="fixed",...a}=e,s=r.useRef(null),c=(e=>{let[t,l]=r.useState(!0),n=r.useRef(!1);r.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]);let i=r.useCallback(()=>{if(!n.current)return;let t=e.current;t&&l(Array.from(t.children).some(e=>e instanceof HTMLElement&&"group"===e.getAttribute("role")&&e.children.length>0))},[e]);return rg(e,i),t})(s);return((e=>{r.useEffect(()=>{let t=e.current;if(!t)return;let l=()=>Array.from(t.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),n=(e,t,l)=>{var n;e.preventDefault();let r=t;r>=l.length?r=0:r<0&&(r=l.length-1),null==(n=l[r])||n.focus()},r=e=>{let r=l();if(!r.length)return;let i=document.activeElement,o=r.indexOf(i);if(!t.contains(i))return;let a={ArrowRight:()=>n(e,o+1,r),ArrowDown:()=>n(e,o+1,r),ArrowLeft:()=>n(e,o-1,r),ArrowUp:()=>n(e,o-1,r),Home:()=>n(e,0,r),End:()=>n(e,r.length-1,r)}[e.key];a&&a()},i=e=>{let l=e.target;t.contains(l)&&l.setAttribute("data-focus-visible","true")},o=e=>{let l=e.target;t.contains(l)&&l.removeAttribute("data-focus-visible")};return t.addEventListener("keydown",r),t.addEventListener("focus",i,!0),t.addEventListener("blur",o,!0),l().forEach(e=>{e.addEventListener("focus",i),e.addEventListener("blur",o)}),()=>{t.removeEventListener("keydown",r),t.removeEventListener("focus",i,!0),t.removeEventListener("blur",o,!0),l().forEach(e=>{e.removeEventListener("focus",i),e.removeEventListener("blur",o)})}},[e])})(s),c)?(0,n.jsx)("div",{ref:rx([s,t]),role:"toolbar","aria-label":"toolbar","data-variant":o,className:T("tiptap-toolbar",i),...a,children:l}):null});rv.displayName="Toolbar";let rb=r.forwardRef((e,t)=>{let{children:l,className:i,...o}=e,a=r.useRef(null);return(e=>{let[t,l]=r.useState(!0),n=r.useRef(!1);r.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]);let i=r.useCallback(()=>{if(!n.current)return;let t=e.current;t&&l(Array.from(t.children).some(e=>e instanceof HTMLElement))},[e]);return rg(e,i),t})(a)?(0,n.jsx)("div",{ref:rx([a,t]),role:"group",className:T("tiptap-toolbar-group",i),...o,children:l}):null});rb.displayName="ToolbarGroup";let rj=r.forwardRef((e,t)=>{let{fixed:l=!1,...i}=e,o=r.useRef(null);return(e=>{let[t,l]=r.useState(!0),n=r.useRef(!1);r.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]);let i=r.useCallback(()=>{if(!n.current)return;let t=e.current;if(!t)return;let r=t.previousElementSibling,i=t.nextElementSibling;if(!r||!i)return void l(!1);let o="group"===r.getAttribute("role")&&"group"===i.getAttribute("role"),a=r.children.length>0&&i.children.length>0;l(o&&a)},[e]);return rg(e,i),t})(o)||l?(0,n.jsx)(tl,{ref:rx([o,t]),orientation:"vertical",decorative:!0,...i}):null});rj.displayName="ToolbarSeparator";var rw=l(5958);function ry(e){let{...t}=e,[l,i]=r.useState(!1);return tm(()=>i(!0),[]),l?(0,n.jsx)(rw.A,{...t}):null}ry.displayName="TextareaAutosize";var rL=l(1699);function rk(e){let{onPlaceholderClick:t}=e;return(0,n.jsxs)("div",{className:"tiptap-ai-prompt-input-placeholder",onClick:t,children:[(0,n.jsxs)("div",{className:"tiptap-ai-prompt-input-placeholder-content",children:[(0,n.jsx)(eV,{className:"tiptap-ai-prompt-input-placeholder-icon"}),(0,n.jsx)("span",{className:"tiptap-ai-prompt-input-placeholder-text",children:"Tell AI what else needs to be changed..."})]}),(0,n.jsx)(q,{"data-style":"primary",disabled:!0,children:(0,n.jsx)(rm,{className:"tiptap-button-icon"})})]})}function rN(e){let{tone:t,onToneChange:l}=e;return(0,n.jsxs)(nR,{children:[(0,n.jsx)(nI,{asChild:!0,children:(0,n.jsxs)(q,{type:"button","data-style":"ghost","data-active-state":t?"on":"off",role:"button",tabIndex:-1,"aria-label":"Tone adjustment options",children:[(0,n.jsx)(rr,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Tone"})]})}),(0,n.jsx)(nZ,{align:"start",children:(0,n.jsx)(eg,{children:(0,n.jsx)(ev,{children:(0,n.jsx)(W,{children:re.map(e=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(q,{"data-style":"ghost","data-active-state":t===e.value?"on":"off",onClick:()=>l(e.value),children:(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})})},e.value))})})})})]})}function rE(e){let{showPlaceholder:t,onInputSubmit:l,onToneChange:i,isEmpty:o=!1}=e,[a,s]=r.useState(null),[c]=tz(),u=r.useCallback(e=>{s(e),null==i||i(e)},[i]),d=r.useCallback(()=>{l(c)},[l,c]);return(0,n.jsxs)(rv,{variant:"floating","data-plain":"true",className:"tiptap-ai-prompt-input-toolbar",style:{display:t?"none":"flex"},children:[(0,n.jsx)(rb,{children:(0,n.jsx)(rN,{tone:a,onToneChange:u})}),(0,n.jsx)(to,{}),(0,n.jsx)(rb,{children:(0,n.jsx)(q,{onClick:d,disabled:o,"data-style":"primary","aria-label":"Submit prompt",children:(0,n.jsx)(rm,{className:"tiptap-button-icon"})})})]})}function rA(e){var t;let{onInputSubmit:l,onToneChange:i,onClose:o,onInputFocus:a,onInputBlur:s,onEmptyBlur:c,onPlaceholderClick:u,showPlaceholder:d=!1,placeholder:h="Ask AI what you want...",...p}=e,[C,f]=tz(),[m,x]=r.useState(!1),g=r.useCallback(()=>{let e=null==C?void 0:C.trim();e&&(l(e),f(""))},[l,C,f]),v=r.useCallback(e=>{!(0,rL.v_)("backspace",e)||(null==C?void 0:C.length)?(0,rL.v_)("enter",e)&&!e.shiftKey?(e.preventDefault(),null==g||g()):(0,rL.v_)("escape",e)&&(e.preventDefault(),null==o||o()):(e.preventDefault(),null==o||o())},[C,o,g]),b=(t=""===C.trim(),r.useCallback(e=>{!e.currentTarget.contains(e.relatedTarget)&&(t&&c?c():s&&s())},[t,s,c])),j=r.useCallback(()=>{u&&u()},[u]),w=r.useCallback(()=>{x(!0),a&&a()},[a]),y=r.useCallback(e=>{x(!1),b(e)},[b]);return(0,n.jsx)("div",{className:"tiptap-ai-prompt-input","data-focused":m,"data-active-state":d?"off":"on",...p,children:d?(0,n.jsx)(rk,{onPlaceholderClick:j}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tN,{autoSelect:"always",autoFocus:!0,render:(0,n.jsx)(ry,{onChange:e=>f(e.target.value),value:C,onKeyDown:v,onFocus:w,onBlur:y,className:"tiptap-ai-prompt-input-content",placeholder:h,autoFocus:!0,style:{display:d?"none":"flex"}})}),(0,n.jsx)(rE,{showPlaceholder:d,onInputSubmit:g,onToneChange:i,isEmpty:!(null==C?void 0:C.trim())})]})})}l(8993);let rS=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M11.9949 2.00001C9.22128 2.01079 6.55914 3.0932 4.56496 5.02103L4.55289 5.03289L4 5.58579V3C4 2.44771 3.55228 2 3 2C2.44771 2 2 2.44771 2 3V7.99931L2 8.003C2.0004 8.1375 2.02735 8.26575 2.07588 8.38278C2.12357 8.49805 2.19374 8.6062 2.2864 8.70055L2.29945 8.7136C2.3938 8.80626 2.50195 8.87643 2.61722 8.92412C2.73512 8.97301 2.86441 9 3 9H8C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7H5.41421L5.96097 6.45325C7.58334 4.8878 9.74744 4.00891 12.0021 4C13.7624 4.00045 15.4735 4.58152 16.8701 5.65317C18.2673 6.72525 19.2716 8.22838 19.7274 9.92945C19.8704 10.4629 20.4187 10.7795 20.9522 10.6366C21.4856 10.4936 21.8022 9.94528 21.6593 9.41181C21.0895 7.28548 19.8341 5.40656 18.0876 4.06647C16.3412 2.72637 14.2014 2 12 2L11.9962 2.00001L11.9949 2.00001Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M10.6366 20.9522C10.4936 21.4856 9.9453 21.8022 9.41183 21.6593C7.2855 21.0895 5.40658 19.8341 4.06649 18.0876C2.72639 16.3412 2.00002 14.2013 2.00002 12C2.00002 11.4477 2.44774 11 3.00002 11C3.55231 11 4.00002 11.4477 4.00002 12C4.00002 13.7611 4.58112 15.4729 5.65319 16.8701C6.72527 18.2672 8.2284 19.2716 9.92947 19.7274C10.4629 19.8703 10.7795 20.4187 10.6366 20.9522Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9379 11.653C17.7926 11.2605 17.4184 11 17 11C16.5816 11 16.2074 11.2605 16.0621 11.653L14.9511 14.6556C14.9004 14.7925 14.7925 14.9004 14.6556 14.9511L11.653 16.0621C11.2605 16.2074 11 16.5816 11 17C11 17.4184 11.2605 17.7926 11.653 17.9379L14.6556 19.0489C14.7925 19.0996 14.9004 19.2075 14.9511 19.3444L16.0621 22.347C16.2074 22.7395 16.5816 23 17 23C17.4184 23 17.7926 22.7395 17.9379 22.347L19.0489 19.3444C19.0996 19.2075 19.2075 19.0996 19.3444 19.0489L22.347 17.9379C22.7395 17.7926 23 17.4184 23 17C23 16.5816 22.7395 16.2074 22.347 16.0621L19.3444 14.9511C19.2075 14.9004 19.0996 14.7925 19.0489 14.6556L17.9379 11.653ZM16.8268 15.3497L17 14.8815L17.1732 15.3497C17.4265 16.034 17.966 16.5735 18.6503 16.8268L19.1185 17L18.6503 17.1732C17.966 17.4265 17.4265 17.966 17.1732 18.6503L17 19.1185L16.8268 18.6503C16.5735 17.966 16.034 17.4265 15.3497 17.1732L14.8815 17L15.3497 16.8268C16.034 16.5735 16.5735 16.034 16.8268 15.3497Z",fill:"currentColor"})]})});rS.displayName="RefreshAiIcon";let rR=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})})});rR.displayName="XIcon";let rM=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z",fill:"currentColor"})})});function rI(e){let{editor:t,options:l,onRegenerate:i,onAccept:o,onReject:a}=e,{aiGenerationIsLoading:s}=b(t),c=r.useCallback(()=>{if(!t)return;let e=t.chain().focus();"function"==typeof e.aiRegenerate&&e.aiRegenerate(l).run(),null==i||i()},[t,i,l]),u=r.useCallback(()=>{if(!t)return;let e=t.chain().focus();"function"==typeof e.aiReject&&e.aiReject().run(),null==a||a()},[t,a]),d=r.useCallback(()=>{if(!t)return;let e=t.chain().focus();"function"==typeof e.aiAccept&&e.aiAccept().run(),null==o||o()},[t,o]);return(0,n.jsxs)("div",{className:"tiptap-ai-menu-actions",children:[(0,n.jsx)("div",{className:"tiptap-ai-menu-results",children:(0,n.jsx)(W,{orientation:"horizontal",children:(0,n.jsxs)(q,{"data-style":"ghost",className:"tiptap-button",onClick:c,disabled:s,children:[(0,n.jsx)(rS,{className:"tiptap-button-icon"}),"Try again"]})})}),(0,n.jsx)("div",{className:"tiptap-ai-menu-commit",children:(0,n.jsxs)(W,{orientation:"horizontal",children:[(0,n.jsxs)(q,{"data-style":"ghost",className:"tiptap-button",onClick:u,children:[(0,n.jsx)(rR,{className:"tiptap-button-icon"}),"Discard"]}),(0,n.jsxs)(q,{"data-style":"primary",className:"tiptap-button",onClick:d,children:[(0,n.jsx)(rM,{className:"tiptap-button-icon"}),"Apply"]})]})})]})}function rH(e){var t,l;let n="",r={from:0,to:0},i=!0,o=e.storage,a=null==(t=o.ai)?void 0:t.generatedWith;if(a&&a.range&&(n=null==(l=o.ai)?void 0:l.response,r=a.range,i=!1),!a||!a.range){let{state:t}=e,{selection:l}=t,{from:i,to:o}=e.state.selection,a=l.content(),s=e.view.serializeForClipboard(a).dom.innerHTML,c=a.content.textBetween(0,a.content.size,"\n");n=s||c,r={from:i,to:o}}return{context:n,insertAt:r,isSelection:i}}rM.displayName="CheckIcon",l(905);let rT=r.createContext(null),rB={isOpen:!1,tone:void 0,language:"en",shouldShowInput:!0,inputIsFocused:!1,fallbackAnchor:{element:null,rect:null}};function rV(){let e=r.useContext(rT);if(!e)throw Error("useAiMenuState must be used within an AiMenuStateProvider");return e}let rZ=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM8 9C8 8.44772 8.44772 8 9 8H15C15.5523 8 16 8.44772 16 9V15C16 15.5523 15.5523 16 15 16H9C8.44772 16 8 15.5523 8 15V9Z",fill:"currentColor"})})});function rO(e){let{children:t}=e,{value:l,AiMenuStateContext:i}=function(){let[e,t]=r.useState(rB),l=r.useCallback(e=>{t(t=>({...t,...e}))},[]),n=r.useCallback((e,t)=>{let n=t||(null==e?void 0:e.getBoundingClientRect())||null;l({fallbackAnchor:{element:e,rect:n}})},[l]),i=r.useCallback(()=>{t(rB),document.querySelectorAll('[data-fallback-anchor="true"]').forEach(e=>e.remove())},[]);return{value:r.useMemo(()=>({state:e,updateState:l,setFallbackAnchor:n,reset:i}),[e,l,n,i]),AiMenuStateContext:rT}}();return(0,n.jsx)(i.Provider,{value:l,children:t})}function r_(e){let{editor:t}=e,{editor:l}=eo(t),{state:i,updateState:o,setFallbackAnchor:a,reset:s}=rV(),{show:c,store:u}=function(){let e=tF.c(),t=r.useCallback(t=>{e.setAnchorElement(t),e.show(),e.setAutoFocusOnShow(!0)},[e]);return r.useMemo(()=>({store:e,show:t}),[e,t])}(),{aiGenerationIsLoading:d,aiGenerationActive:h,aiGenerationHasMessage:p}=b(l),C=r.useRef(null),f=r.useCallback(()=>{l&&(s(),null==u||u.hideAll(),l.commands.resetUiState())},[l,s,u]),m=r.useCallback(e=>{if(!l||!e.trim())return;let{context:t}=rH(l),n=t?"".concat(t,"\n\n").concat(e):e;if(!i.fallbackAnchor.element||!i.fallbackAnchor.rect){let e=eG(l);if(e){let t=e.getBoundingClientRect();a(e,t)}}let r=l.chain();"function"==typeof r.aiTextPrompt&&r.aiTextPrompt({text:n,insert:!0,stream:!0,tone:i.tone,format:"rich-text"}).run()},[l,i.tone,i.fallbackAnchor,a]),x=r.useCallback(e=>{u.setAnchorElement(e)},[u]),g=r.useCallback((e,t)=>{a(e,t)},[a]),v=r.useCallback(()=>{if(!l)return;let e=l.commands;"function"==typeof e.aiReject&&e.aiReject(),f()},[f,l]),j=r.useCallback(()=>{if(!l)return;let e=l.commands;"function"==typeof e.aiAccept&&e.aiAccept(),f()},[f,l]),w=r.useCallback(()=>{if(!l)return;let e=l.commands;d?"function"==typeof e.aiReject&&e.aiReject({type:"reset"}):"function"==typeof e.aiAccept&&e.aiAccept(),f()},[d,f,l]),y=r.useCallback(()=>{if(!d){if(f(),!l)return;let e=l.commands;"function"==typeof e.aiAccept&&e.aiAccept()}},[d,f,l]);!function(e){let{editor:t,aiGenerationActive:l,setAnchorElement:n,fallbackAnchor:i}=e,o=r.useRef(null);r.useEffect(()=>{if(!t||!l)return;let e=e=>{let{editor:t}=e,l=t.storage,r=l.ai||l.aiAdvanced;if((null==r?void 0:r.state)==="loading"){let e=function(e){let t=function(e){let t=e.view,l=t.dom.querySelectorAll(".tiptap-ai-insertion");if(0===l.length)return null;let n=l[l.length-1];if(n&&t.dom)try{var r=t.dom;if(!n||!r)throw Error("Both element and editorRoot must be provided");if(n===r)return n;if(!r.contains(n))throw Error("Element is not inside the editor root");let e=n;for(;e.parentElement&&e.parentElement!==r;)e=e.parentElement;return e}catch(e){}return n||null}(e);if(t)return t;let l=eG(e);return l||null}(t);e&&e!==t.view.dom&&(o.current&&(o.current.remove(),o.current=null),n(e))}};return t.on("transaction",e),()=>{t.off("transaction",e),o.current&&(o.current.remove(),o.current=null)}},[t,l,n,i])}({editor:l,aiGenerationActive:h,setAnchorElement:x,fallbackAnchor:i.fallbackAnchor}),function(e){let{editor:t,aiGenerationActive:l,showMenuAtElement:n,setMenuVisible:i,onSelectionChange:o,prevent:a=!1}=e;r.useEffect(()=>{if(!t||!l||a)return;let e=e=>{var t;let{editor:r,transaction:a}=e;if(null==(t=a.selection)?void 0:t.empty)return;let s=eG(r),c=!!(s&&l);if(i(c),c&&s){let e=s.getBoundingClientRect();null==o||o(s,e),n(s)}};return t.on("transaction",e),()=>{t.off("transaction",e)}},[t,l,n,i,o,a])}({editor:l,aiGenerationActive:h,showMenuAtElement:c,setMenuVisible:e=>o({isOpen:e}),onSelectionChange:g,prevent:d}),r.useEffect(()=>{d&&o({shouldShowInput:!1})},[d,o]),r.useEffect(()=>{!h&&i.isOpen&&f()},[h,i.isOpen,f]);let L=e=>(null==e||e.focus(),null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout(()=>u.setAutoFocusOnShow(!1),0),!1),k=function(e){if(!e)return!1;let{state:t}=e,{selection:l,doc:n}=t;return!l.empty&&n.textBetween(l.from,l.to,"\n","\0").trim().length>0}(l)||p&&i.shouldShowInput&&i.inputIsFocused;return l&&i.isOpen&&h?(0,n.jsx)(tS,{open:i.isOpen,placement:"bottom-start",store:u,children:(0,n.jsxs)(tR,{onClickOutside:y,className:"tiptap-ai-menu",flip:!1,children:[(0,n.jsxs)(eg,{children:[d&&(0,n.jsx)(rU,{editor:l}),!d&&(0,n.jsx)(rA,{ref:C,showPlaceholder:!d&&p&&!i.shouldShowInput,onInputFocus:()=>o({inputIsFocused:!0}),onInputBlur:()=>o({inputIsFocused:!1}),onClose:w,onPlaceholderClick:()=>o({shouldShowInput:!0}),onInputSubmit:e=>m(e),onToneChange:e=>o({tone:e})}),p&&!d&&(0,n.jsx)(rI,{editor:l,options:{tone:i.tone,format:"rich-text"},onAccept:j,onReject:v})]}),!d&&(0,n.jsx)(tk,{flip:!1,unmountOnHide:!0,autoFocus:!1,onFocus:()=>o({inputIsFocused:!0}),autoFocusOnShow:L,autoFocusOnHide:L,getAnchorRect:()=>{var e;return(null==(e=C.current)?void 0:e.getBoundingClientRect())||null},children:(0,n.jsx)(tL,{style:{display:k?"block":"none"},children:(0,n.jsx)(rf,{})})})]})}):null}function rU(e){let{editor:t}=e,{reset:l}=rV(),i=r.useCallback(()=>{if(!t)return;let e=t.chain();"function"==typeof e.aiReject&&e.aiReject({type:"reset"}).run(),l(),t.commands.resetUiState()},[t,l]);return(0,n.jsxs)("div",{className:"tiptap-ai-menu-progress",children:[(0,n.jsxs)("div",{className:"tiptap-spinner-alt",children:[(0,n.jsx)("span",{children:"AI is writing"}),(0,n.jsxs)("div",{className:"dots-container",children:[(0,n.jsx)("div",{className:"dot"}),(0,n.jsx)("div",{className:"dot"}),(0,n.jsx)("div",{className:"dot"})]})]}),(0,n.jsx)(W,{children:(0,n.jsx)(q,{"data-style":"ghost",title:"Stop",onClick:i,children:(0,n.jsx)(rZ,{className:"tiptap-button-icon"})})})]})}function rP(e){let{editor:t}=e;return(0,n.jsx)(rO,{children:(0,n.jsx)(r_,{editor:t})})}function rD(e){let{isOpen:t,onClose:l,onSubmit:i,title:o,placeholder:a,example:s}=e,[c,u]=(0,r.useState)("");return((0,r.useEffect)(()=>{t&&u("")},[t]),t)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,n.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-lg",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:o}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["예시: ",s]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.trim()&&(i(c.trim()),l())},children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)(tA,{htmlFor:"latex-input",className:"block text-sm font-medium mb-2",children:"LaTeX 수식"}),(0,n.jsx)(em,{id:"latex-input",value:c,onChange:e=>u(e.target.value),placeholder:a,onKeyDown:e=>{"Escape"===e.key&&l()},autoFocus:!0,className:"w-full"})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(q,{type:"button","data-style":"ghost",onClick:l,className:"px-4 py-2",children:"취소"}),(0,n.jsx)(q,{type:"submit",disabled:!c.trim(),className:"px-4 py-2",children:"삽입"})]})]})]})}):null}rZ.displayName="StopCircle2Icon",l(8336);let rF=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]})});rF.displayName="LinkIcon";let rz=[{id:"mention",title:"멘션",description:"사용자나 항목을 멘션합니다",icon:e_,action:(e,t)=>{e.chain().focus().insertContent("@".concat(t)).run()}},{id:"video-embed",title:"동영상 임베드",description:"유튜브 링크를 임베드로 변환합니다",icon:function(e){let{className:t,...l}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...l,children:[(0,n.jsx)("path",{d:"m22 8-6 4 6 4V8Z"}),(0,n.jsx)("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]})},action:(e,t)=>{let l=function(e){for(let t of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/]){let l=e.match(t);if(l)return l[1]}return null}(t);l?e.chain().focus().insertContent({type:"videoEmbed",attrs:{videoId:l,url:t}}).run():e.chain().focus().insertContent({type:"link",attrs:{href:t},content:[{type:"text",text:t}]}).run()}},{id:"url",title:"URL",description:"일반 링크로 삽입합니다",icon:rF,action:(e,t)=>{e.chain().focus().insertContent({type:"link",attrs:{href:t},content:[{type:"text",text:t}]}).run()}}];function rG(e){let{editor:t,isOpen:l,onClose:r,pastedContent:i,position:o}=e;return l&&o?(0,n.jsx)(ng,{open:l,onOpenChange:r,children:(0,n.jsx)("div",{className:"paste-modal",style:{position:"fixed",left:o.x,top:o.y,zIndex:1e3},children:(0,n.jsxs)("div",{className:"paste-modal-content",children:[(0,n.jsx)("div",{className:"paste-modal-header",children:(0,n.jsx)("h3",{children:"붙여넣기 형식"})}),(0,n.jsx)(tl,{}),(0,n.jsx)("div",{className:"paste-modal-options",children:rz.map(e=>(0,n.jsxs)(q,{"data-style":"ghost",className:"paste-option-button",onClick:()=>{t&&(e.action(t,i),r())},children:[(0,n.jsx)(e.icon,{className:"paste-option-icon"}),(0,n.jsxs)("div",{className:"paste-option-content",children:[(0,n.jsx)("div",{className:"paste-option-title",children:e.title}),(0,n.jsx)("div",{className:"paste-option-description",children:e.description})]})]},e.id))})]})})}):null}let rK=r.createContext({activeThread:null,setActiveThread:()=>{},threadBubbles:{},addThreadBubble:()=>{},removeThreadBubble:()=>{}});rK.Consumer;let rq=e=>{let{children:t}=e,[l,i]=r.useState(null),[o,a]=r.useState({}),s=r.useRef(o),c=r.useCallback((e,t)=>{(Array.isArray(e)?e:[e]).forEach(e=>{var l;let n=s.current[e],r=null==(l=s.current[e])?void 0:l.includes(t);if(!n||!r){if(!s.current[e]){s.current[e]=[t];return}s.current[e]=[...s.current[e],t]}}),a({...s.current})},[]),u=r.useCallback(e=>{if("string"==typeof e){delete s.current[e],a({...s.current});return}if("string"!=typeof e){Object.keys(s.current).forEach(t=>{let l=s.current[t];l&&l.includes(e)&&(s.current[t]=l.filter(t=>t!==e)),s.current[t]&&0===s.current[t].length&&delete s.current[t]}),a({...s.current});return}},[]);s.current=o;let d=r.useMemo(()=>({activeThread:l,setActiveThread:i,threadBubbles:o,addThreadBubble:c,removeThreadBubble:u}),[l,i,o,c,u]);return(0,n.jsx)(rK.Provider,{value:d,children:t})},rW=r.createContext({user:{color:"",id:"",name:"",avatar:""}});function r$(e){let{children:t}=e,[l]=r.useState({color:r4(),name:r7(),id:r5(),avatar:(e=>{let t=0;for(let l=0;l<e.length;l++)t=e.charCodeAt(l)+((t<<5)-t),t&=t;let l=(1+Math.floor(Math.abs(t)%1e6/1e6*20)).toString().padStart(2,"0");return"/avatars/memoji_".concat(l,".png")})(r7())});return r.useEffect(()=>{window.localStorage.setItem("_tiptap_username",l.name),window.localStorage.setItem("_tiptap_color",l.color),window.localStorage.setItem("_tiptap_user_id",l.id)},[l]),(0,n.jsx)(rW.Provider,{value:{user:l},children:t})}let rX=["John","Jane","Alice","Bob","Eve","Charlie","David","Frank","Grace","Helen"],rJ=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas"],rY=["#fb7185","#fdba74","#d9f99d","#a7f3d0","#a5f3fc","#a5b4fc","#f0abfc","#fda58d","#f2cc8f","#9ae6b4"],rQ=e=>{if(0===e.length)throw Error("Cannot get random item from empty array");return e[Math.floor(Math.random()*e.length)]},r1=()=>{let e=[rQ(rX)];return Math.random()>.85&&e.push(rQ(rX)),e.push(rQ(rJ)),e.join(" ")},r2=()=>{var e;return null!=(e=rQ(rY))?e:"#9ae6b4"},r0=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(l)return t();let n=window.localStorage.getItem(e);return null!==n?n:t()},r7=()=>r0("_tiptap_username",r1),r4=()=>r0("_tiptap_color",r2),r5=()=>r0("_tiptap_user_id",()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));var r9=l(5644);let r3=r.createContext({hasCollab:!1,provider:null,ydoc:new r9.JA});function r6(e){let{children:t,room:l}=e,{hasCollab:i,provider:o,ydoc:a}=(e=>{let[t,l]=r.useState(null),[n,i]=r.useState(null),[o,a]=r.useState(!1),s=r.useMemo(()=>new r9.JA,[]);return r.useEffect(()=>{a(!1)},[]),r.useEffect(()=>{},[o]),r.useEffect(()=>{if(!o||!n)return;e&&"".concat(eu).concat(e);let t={destroy:()=>{}};return l(t),()=>{t.destroy()}},[n,s,e,o]),{provider:t,ydoc:s,hasCollab:o}})(l),s=r.useMemo(()=>({hasCollab:i,provider:o,ydoc:a}),[i,o,a]);return(0,n.jsx)(r3.Provider,{value:s,children:t})}r3.Consumer;let r8=r.createContext({hasAi:!1,aiToken:null});r8.Consumer;var ie=l(4106);let it=["javascript","typescript","html","css","json","python","java","go","cpp","csharp","php","ruby","rust","swift","kotlin","sql","bash","markdown","yaml","dockerfile","gitignore","scss","less","xml","vue","react","jsx","tsx","graphql","apache","nginx","ini","toml","csv","diff","git","powershell","r","matlab","scala","perl","lua","dart","elixir","erlang","haskell","clojure","fsharp","ocaml","nim","zig","crystal","julia","racket","scheme","prolog","fortran","cobol","pascal","ada","basic","assembly","verilog","vhdl","solidity","abap","sap","plsql","tcl","awk","sed","vim","emacs","latex","tex","asciidoc","rst","coffeescript","livescript","elm","purescript","reason","rescript","merlin","fstar","agda","idris","coq","lean","isabelle","hol","acl2","twelf","beluga","cedille"],il=e=>{let{editor:t}=e,l=(0,r.useRef)(null),i=(0,r.useRef)(null),[o,a]=(0,r.useState)(!1),[s,c]=(0,r.useState)({top:0,left:0}),[u,d]=(0,r.useState)("javascript"),[h,p]=(0,r.useState)(!1),[C,f]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=()=>{var e;let l=t.isActive("codeBlock");if(a(l),!l)return;d(t.getAttributes("codeBlock").language||"javascript");let n=t.view.domAtPos(t.state.selection.from).node;!(n instanceof HTMLElement)&&n.parentNode instanceof HTMLElement&&(n=n.parentNode);let r=null==(e=n.closest)?void 0:e.call(n,"pre");if(r){let e=r.getBoundingClientRect();c({top:e.top+window.scrollY-20,left:e.left+window.scrollX+12})}};return e(),t.on("selectionUpdate",e),()=>{t.off("selectionUpdate",e)}},[t]),(0,r.useEffect)(()=>{h&&i.current&&setTimeout(()=>{var e;null==(e=i.current)||e.focus()},100)},[h]),(0,r.useEffect)(()=>{let e=e=>{l.current&&!l.current.contains(e.target)&&(p(!1),f(""))};return h&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&h&&(p(!1),f(""))};return h&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]);let m=e=>({javascript:"JavaScript",typescript:"TypeScript",html:"HTML",css:"CSS",json:"JSON",python:"Python",java:"Java",go:"Go",cpp:"C++",csharp:"C#",php:"PHP",ruby:"Ruby",rust:"Rust",swift:"Swift",kotlin:"Kotlin",sql:"SQL",bash:"Bash",markdown:"Markdown",yaml:"YAML",dockerfile:"Dockerfile",gitignore:".gitignore",scss:"SCSS",less:"Less",xml:"XML",vue:"Vue",react:"React",jsx:"JSX",tsx:"TSX",graphql:"GraphQL",apache:"Apache",nginx:"Nginx",ini:"INI",toml:"TOML",csv:"CSV",diff:"Diff",git:"Git",powershell:"PowerShell",r:"R",matlab:"MATLAB",scala:"Scala",perl:"Perl",lua:"Lua",dart:"Dart",elixir:"Elixir",erlang:"Erlang",haskell:"Haskell",clojure:"Clojure",fsharp:"F#",ocaml:"OCaml",nim:"Nim",zig:"Zig",crystal:"Crystal",julia:"Julia",racket:"Racket",scheme:"Scheme",prolog:"Prolog",fortran:"Fortran",cobol:"COBOL",pascal:"Pascal",ada:"Ada",basic:"BASIC",assembly:"Assembly",verilog:"Verilog",vhdl:"VHDL",solidity:"Solidity",abap:"ABAP",sap:"SAP",plsql:"PL/SQL",tcl:"TCL",awk:"AWK",sed:"Sed",vim:"Vim",emacs:"Emacs",latex:"LaTeX",tex:"TeX",asciidoc:"AsciiDoc",rst:"reStructuredText",coffeescript:"CoffeeScript",livescript:"LiveScript",elm:"Elm",purescript:"PureScript",reason:"Reason",rescript:"ReScript"})[e]||e.charAt(0).toUpperCase()+e.slice(1),x=it.filter(e=>m(e).toLowerCase().includes(C.toLowerCase()));return o?(0,n.jsxs)("div",{ref:l,className:"code-block-language-dropdown",style:{position:"absolute",top:s.top,left:s.left,zIndex:999},children:[(0,n.jsxs)("div",{className:"language-selector",onClick:()=>p(!h),children:[(0,n.jsx)("span",{className:"language-name",children:m(u)}),(0,n.jsx)("svg",{className:"chevron-icon ".concat(h?"open":""),width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("polyline",{points:"6,9 12,15 18,9"})})]}),h&&(0,n.jsxs)("div",{className:"language-dropdown-menu",children:[(0,n.jsx)("div",{className:"search-container",children:(0,n.jsx)("input",{ref:i,type:"text",placeholder:"언어를 검색하세요",value:C,onChange:e=>f(e.target.value),className:"language-search-input"})}),0===x.length&&(0,n.jsx)("div",{className:"no-results",children:"검색 결과가 없습니다"}),x.map(e=>(0,n.jsxs)("div",{className:"language-option ".concat(u===e?"selected":""),onClick:()=>(e=>{d(e),p(!1),f(""),t.commands.updateAttributes("codeBlock",{language:e})})(e),children:[m(e),u===e&&(0,n.jsx)("svg",{className:"check-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("polyline",{points:"20,6 9,17 4,12"})})]},e))]})]}):null};var ir=l(8006);function ii(e,t){let l=r.useRef(e),n=r.useRef(0),i=r.useRef(null);l.current=e;let o=r.useCallback(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];let a=Date.now(),s=a-n.current;s>=t?(n.current=a,l.current(...r)):(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{n.current=Date.now(),l.current(...r),i.current=null},t-s))},[t]);return r.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),o}function io(){let[e,t]=r.useState({width:0,height:0,offsetTop:0,offsetLeft:0,scale:0}),l=ii(()=>{let e=window.visualViewport;if(!e)return;let{width:l=0,height:n=0,offsetTop:r=0,offsetLeft:i=0,scale:o=0}=e;t(e=>l===e.width&&n===e.height&&r===e.offsetTop&&i===e.offsetLeft&&o===e.scale?e:{width:l,height:n,offsetTop:r,offsetLeft:i,scale:o})},200);return r.useEffect(()=>{let e=window.visualViewport;if(e)return e.addEventListener("resize",l),l(),()=>{e.removeEventListener("resize",l)}},[l]),e}l(1585),l(8080);let ia=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})})});ia.displayName="BanIcon";let is=r.forwardRef((e,t)=>{let{className:l,children:r,...i}=e;return(0,n.jsx)(q,{type:"button",className:l,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:t,...i,children:null!=r?r:(0,n.jsx)(lV,{className:"tiptap-button-icon"})})});function ic(e){let{editor:t,colors:l=l_(["var(--tt-color-highlight-green)","var(--tt-color-highlight-blue)","var(--tt-color-highlight-red)","var(--tt-color-highlight-purple)","var(--tt-color-highlight-yellow)"])}=e,{handleRemoveHighlight:i}=lP({editor:t}),o=eX(),a=r.useRef(null),{selectedIndex:s}=ei({containerRef:a,items:r.useMemo(()=>[...l,{label:"Remove highlight",value:"none"}],[l]),orientation:"both",onSelect:e=>{if(!a.current)return!1;let t=a.current.querySelector('[data-highlighted="true"]');t&&t.click(),"none"===e.value&&i()},autoSelectFirstItem:!1});return(0,n.jsx)(eg,{ref:a,tabIndex:0,style:o?{boxShadow:"none",border:0}:{},children:(0,n.jsx)(ev,{style:o?{padding:0}:{},children:(0,n.jsxs)(eb,{orientation:"horizontal",children:[(0,n.jsx)(W,{orientation:"horizontal",children:l.map((e,l)=>(0,n.jsx)(lB,{editor:t,highlightColor:e.value,tooltip:e.label,"aria-label":"".concat(e.label," highlight color"),tabIndex:l===s?0:-1,"data-highlighted":s===l},e.value))}),(0,n.jsx)(tl,{}),(0,n.jsx)(W,{orientation:"horizontal",children:(0,n.jsx)(q,{onClick:i,"aria-label":"Remove highlight",tooltip:"Remove highlight",tabIndex:s===l.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":s===l.length,children:(0,n.jsx)(ia,{className:"tiptap-button-icon"})})})]})})})}function iu(e){let{editor:t,colors:l=l_(["var(--tt-color-highlight-green)","var(--tt-color-highlight-blue)","var(--tt-color-highlight-red)","var(--tt-color-highlight-purple)","var(--tt-color-highlight-yellow)"]),hideWhenUnavailable:i=!1,onApplied:o,...a}=e,{editor:s}=eo(t),[c,u]=r.useState(!1),{isVisible:d,canColorHighlight:h,isActive:p,label:C,Icon:f}=lP({editor:s,hideWhenUnavailable:i,onApplied:o});return d?(0,n.jsxs)(ng,{open:c,onOpenChange:u,children:[(0,n.jsx)(nv,{asChild:!0,children:(0,n.jsx)(is,{disabled:!h,"data-active-state":p?"on":"off","data-disabled":!h,"aria-pressed":p,"aria-label":C,tooltip:C,...a,children:(0,n.jsx)(f,{className:"tiptap-button-icon"})})}),(0,n.jsx)(nb,{"aria-label":"Highlight colors",children:(0,n.jsx)(ic,{editor:s,colors:l})})]}):null}function id(e){let{shortcutKeys:t=iC}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}is.displayName="ColorHighlightPopoverButton";let ih=r.forwardRef((e,t)=>{let{editor:l,text:i,hideWhenUnavailable:o=!1,onInserted:a,showShortcut:s=!1,onClick:c,children:u,...d}=e,{editor:h}=eo(l),{isVisible:p,canInsert:C,handleImage:f,label:m,isActive:x,shortcutKeys:g,Icon:v}=function(e){let{editor:t,hideWhenUnavailable:l=!1,onInserted:n}=e||{},{editor:i}=eo(t),o=eX(),[a,s]=r.useState(!0),c=im(i),u=!!i&&!!i.isEditable&&i.isActive("imageUpload");r.useEffect(()=>{if(!i)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&!!U(t,"imageUpload")&&(!l||!!t.isActive("code")||im(t))}({editor:i,hideWhenUnavailable:l}))};return e(),i.on("selectionUpdate",e),()=>{i.off("selectionUpdate",e)}},[i,l]);let d=r.useCallback(()=>{if(!i)return!1;let e=function(e){if(!e||!e.isEditable||!im(e))return!1;try{return e.chain().focus().insertContent({type:"imageUpload"}).run()}catch(e){return!1}}(i);return e&&(null==n||n()),e},[i,n]);return(0,e$.vC)(iC,e=>{e.preventDefault(),d()},{enabled:a&&c,enableOnContentEditable:!o,enableOnFormTags:!0}),{isVisible:a,isActive:u,handleImage:d,canInsert:c,label:"Add image",shortcutKeys:iC,Icon:ip}}({editor:h,hideWhenUnavailable:o,onInserted:a}),b=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||f()},[f,c]);return p?(0,n.jsx)(q,{type:"button","data-style":"ghost","data-active-state":x?"on":"off",role:"button",tabIndex:-1,disabled:!C,"data-disabled":!C,"aria-label":m,"aria-pressed":x,tooltip:m,onClick:b,...d,ref:t,children:null!=u?u:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),s&&(0,n.jsx)(id,{shortcutKeys:g})]})}):null});ih.displayName="ImageUploadButton";let ip=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 2C20 1.44772 19.5523 1 19 1C18.4477 1 18 1.44772 18 2V4H16C15.4477 4 15 4.44772 15 5C15 5.55228 15.4477 6 16 6H18V8C18 8.55228 18.4477 9 19 9C19.5523 9 20 8.55228 20 8V6H22C22.5523 6 23 5.55228 23 5C23 4.44772 22.5523 4 22 4H20V2ZM5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H5.58579L14.379 11.2068C14.9416 10.6444 15.7045 10.3284 16.5 10.3284C17.2955 10.3284 18.0584 10.6444 18.621 11.2068L20 12.5858V12C20 11.4477 20.4477 11 21 11C21.5523 11 22 11.4477 22 12V14.998C22 14.9994 22 15.0007 22 15.002V19C22 19.7957 21.6839 20.5587 21.1213 21.1213C20.5587 21.6839 19.7957 22 19 22H6.00219C6.00073 22 5.99927 22 5.99781 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H12C12.5523 2 13 2.44772 13 3C13 3.55228 12.5523 4 12 4H5ZM8.41422 20H19C19.2652 20 19.5196 19.8946 19.7071 19.7071C19.8946 19.5196 20 19.2652 20 19V15.4142L17.207 12.6212C17.0195 12.4338 16.7651 12.3284 16.5 12.3284C16.2349 12.3284 15.9806 12.4337 15.7931 12.6211L8.41422 20ZM6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6C9.79565 6 10.5587 6.31607 11.1213 6.87868C11.6839 7.44129 12 8.20435 12 9C12 9.79565 11.6839 10.5587 11.1213 11.1213C10.5587 11.6839 9.79565 12 9 12C8.20435 12 7.44129 11.6839 6.87868 11.1213C6.31607 10.5587 6 9.79565 6 9C6 8.20435 6.31607 7.44129 6.87868 6.87868ZM9 8C8.73478 8 8.48043 8.10536 8.29289 8.29289C8.10536 8.48043 8 8.73478 8 9C8 9.26522 8.10536 9.51957 8.29289 9.70711C8.48043 9.89464 8.73478 10 9 10C9.26522 10 9.51957 9.89464 9.70711 9.70711C9.89464 9.51957 10 9.26522 10 9C10 8.73478 9.89464 8.48043 9.70711 8.29289C9.51957 8.10536 9.26522 8 9 8Z",fill:"currentColor"})})});ip.displayName="ImagePlusIcon";let iC="mod+shift+i";function im(e){return!(!e||!e.isEditable||!U(e,"imageUpload")||D(e,["image"]))&&e.can().insertContent({type:"imageUpload"})}let ix=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})})});ix.displayName="CornerDownLeftIcon";let ig=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]})});ig.displayName="ExternalLinkIcon";let iv=r.forwardRef((e,t)=>{let{className:l,children:r,...i}=e;return(0,n.jsx)(q,{type:"button",className:l,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:t,...i,children:r||(0,n.jsx)(rF,{className:"tiptap-button-icon"})})});iv.displayName="LinkButton";let ib=e=>{let{url:t,setUrl:l,setLink:r,removeLink:i,openLink:o,isActive:a}=e,s=eX();return(0,n.jsx)(eg,{style:{...s?{boxShadow:"none",border:0}:{}},children:(0,n.jsx)(ev,{style:{...s?{padding:0}:{}},children:(0,n.jsxs)(eb,{orientation:"horizontal",children:[(0,n.jsx)(ex,{children:(0,n.jsx)(em,{type:"url",placeholder:"Paste a link...",value:t,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),r())},autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"})}),(0,n.jsx)(W,{orientation:"horizontal",children:(0,n.jsx)(q,{type:"button",onClick:r,title:"Apply link",disabled:!t&&!a,"data-style":"ghost",children:(0,n.jsx)(ix,{className:"tiptap-button-icon"})})}),(0,n.jsx)(tl,{}),(0,n.jsxs)(W,{orientation:"horizontal",children:[(0,n.jsx)(q,{type:"button",onClick:o,title:"Open in new window",disabled:!t&&!a,"data-style":"ghost",children:(0,n.jsx)(ig,{className:"tiptap-button-icon"})}),(0,n.jsx)(q,{type:"button",onClick:i,title:"Remove link",disabled:!t&&!a,"data-style":"ghost",children:(0,n.jsx)(lu,{className:"tiptap-button-icon"})})]})]})})})},ij=e=>{let{editor:t}=e,l=ik({editor:t});return(0,n.jsx)(ib,{...l})},iw=r.forwardRef((e,t)=>{let{editor:l,hideWhenUnavailable:i=!1,onSetLink:o,onOpenChange:a,autoOpenOnLinkActive:s=!0,onClick:c,children:u,...d}=e,{editor:h}=eo(l),[p,C]=r.useState(!1),{isVisible:f,canSet:m,isActive:x,url:g,setUrl:v,setLink:b,removeLink:j,openLink:w,label:y,Icon:L}=ik({editor:h,hideWhenUnavailable:i,onSetLink:o}),k=r.useCallback(e=>{C(e),null==a||a(e)},[a]),N=r.useCallback(()=>{b(),C(!1)},[b]),E=r.useCallback(e=>{null==c||c(e),e.defaultPrevented||C(!p)},[c,p]);return(r.useEffect(()=>{s&&x&&C(!0)},[s,x]),f)?(0,n.jsxs)(ng,{open:p,onOpenChange:k,children:[(0,n.jsx)(nv,{asChild:!0,children:(0,n.jsx)(iv,{disabled:!m,"data-active-state":x?"on":"off","data-disabled":!m,"aria-label":y,"aria-pressed":x,onClick:E,...d,ref:t,children:null!=u?u:(0,n.jsx)(L,{className:"tiptap-button-icon"})})}),(0,n.jsx)(nb,{children:(0,n.jsx)(ib,{url:g,setUrl:v,setLink:N,removeLink:j,openLink:w,isActive:x})})]}):null});function iy(e){return!!e&&!!e.isEditable&&e.can().setMark("link")}function iL(e){return!!e&&!!e.isEditable&&e.isActive("link")}function ik(e){let{editor:t,hideWhenUnavailable:l=!1,onSetLink:n}=e||{},{editor:i}=eo(t),{isVisible:o,canSet:a,isActive:s}=function(e){let{editor:t,hideWhenUnavailable:l=!1}=e,n=iy(t),i=iL(t),[o,a]=r.useState(!1);return r.useEffect(()=>{if(!t)return;let e=()=>{a(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!Z("link",t)&&!!t&&(!l||!!t.isActive("code")||iy(t))}({editor:t,hideWhenUnavailable:l}))};return e(),t.on("selectionUpdate",e),()=>{t.off("selectionUpdate",e)}},[t,l]),{isVisible:o,canSet:n,isActive:i}}({editor:i,hideWhenUnavailable:l});return{isVisible:o,canSet:a,isActive:s,label:"Link",Icon:rF,...function(e){let{editor:t,onSetLink:l}=e,[n,i]=r.useState(null);r.useEffect(()=>{if(!t)return;let{href:e}=t.getAttributes("link");iL(t)&&null===n&&i(e||"")},[t,n]),r.useEffect(()=>{if(!t)return;let e=()=>{let{href:e}=t.getAttributes("link");i(e||"")};return t.on("selectionUpdate",e),()=>{t.off("selectionUpdate",e)}},[t]);let o=r.useCallback(()=>{if(!n||!t)return;let{selection:e}=t.state,r=e.empty,o=t.chain().focus();o=o.extendMarkRange("link").setLink({href:n}),r&&(o=o.insertContent({type:"text",text:n})),o.run(),i(null),null==l||l()},[t,l,n]),a=r.useCallback(()=>{t&&(t.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),i(""))},[t]),s=r.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_blank",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"noopener,noreferrer";if(!n)return;let l=G(n,window.location.href);"#"!==l&&window.open(l,e,t)},[n]);return{url:n||"",setUrl:i,setLink:o,removeLink:a,openLink:s}}({editor:i,onSetLink:n})}}function iN(e){let{type:t,shortcutKeys:l=iV[t]}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:l})})}iw.displayName="LinkPopover";let iE=r.forwardRef((e,t)=>{let{editor:l,type:i,text:o,hideWhenUnavailable:a=!1,onToggled:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,handleMark:f,label:m,canToggle:x,isActive:g,Icon:v,shortcutKeys:b}=function(e){let{editor:t,type:l,hideWhenUnavailable:n=!1,onToggled:i}=e,{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=iZ(o,l),d=!!o&&!!o.isEditable&&o.isActive(l);r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,type:l,hideWhenUnavailable:n}=e;return!!t&&!!t.isEditable&&!!Z(l,t)&&(!n||!!t.isActive("code")||iZ(t,l))}({editor:o,type:l,hideWhenUnavailable:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,l,n]);let h=r.useCallback(()=>{if(!o)return!1;let e=!!o&&!!o.isEditable&&!!iZ(o,l)&&o.chain().focus().toggleMark(l).run();return e&&(null==i||i()),e},[o,l,i]);return(0,e$.vC)(iV[l],e=>{e.preventDefault(),h()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,isActive:d,handleMark:h,canToggle:u,label:l.charAt(0).toUpperCase()+l.slice(1),shortcutKeys:iV[l],Icon:iB[l]}}({editor:p,type:i,hideWhenUnavailable:a,onToggled:s}),j=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||f()},[f,u]);return C?(0,n.jsx)(q,{type:"button",disabled:!x,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":!x,role:"button",tabIndex:-1,"aria-label":m,"aria-pressed":g,tooltip:m,onClick:j,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(iN,{type:i,shortcutKeys:b})]})}):null});iE.displayName="MarkButton";let iA=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})})});iA.displayName="BoldIcon";let iS=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]})});iS.displayName="Code2Icon";let iR=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})})});iR.displayName="ItalicIcon";let iM=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]})});iM.displayName="StrikeIcon";let iI=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]})});iI.displayName="SubscriptIcon";let iH=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]})});iH.displayName="SuperscriptIcon";let iT=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})})});iT.displayName="UnderlineIcon";let iB={bold:iA,italic:iR,underline:iT,strike:iM,code:iS,superscript:iH,subscript:iI},iV={bold:"mod+b",italic:"mod+i",underline:"mod+u",strike:"mod+shift+s",code:"mod+e",superscript:"mod+.",subscript:"mod+,"};function iZ(e,t){return!(!e||!e.isEditable||!Z(t,e)||D(e,["image"]))&&e.can().toggleMark(t)}function iO(e){let{align:t,shortcutKeys:l=iz[t]}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:l})})}let i_=r.forwardRef((e,t)=>{let{editor:l,align:i,text:o,hideWhenUnavailable:a=!1,onAligned:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,handleTextAlign:f,label:m,canAlign:x,isActive:g,Icon:v,shortcutKeys:b}=function(e){let{editor:t,align:l,hideWhenUnavailable:n=!1,onAligned:i}=e,{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),u=iq(o,l),d=!!o&&!!o.isEditable&&o.isActive({textAlign:l});r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,hideWhenUnavailable:l,align:n}=e;return!!t&&!!t.isEditable&&!!U(t,"textAlign")&&(!l||!!t.isActive("code")||iq(t,n))}({editor:o,align:l,hideWhenUnavailable:n}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,n,l]);let h=r.useCallback(()=>{if(!o)return!1;let e=function(e,t){if(!e||!e.isEditable||!iq(e,t))return!1;let l=e.chain().focus();return"setTextAlign"in l&&l.setTextAlign(t).run()}(o,l);return e&&(null==i||i()),e},[o,l,i]);return(0,e$.vC)(iz[l],e=>{e.preventDefault(),h()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0}),{isVisible:s,isActive:d,handleTextAlign:h,canAlign:u,label:iK[l],shortcutKeys:iz[l],Icon:iG[l]}}({editor:p,align:i,hideWhenUnavailable:a,onAligned:s}),j=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||f()},[f,u]);return C?(0,n.jsx)(q,{type:"button",disabled:!x,"data-style":"ghost","data-active-state":g?"on":"off","data-disabled":!x,role:"button",tabIndex:-1,"aria-label":m,"aria-pressed":g,tooltip:m,onClick:j,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),o&&(0,n.jsx)("span",{className:"tiptap-button-text",children:o}),c&&(0,n.jsx)(iO,{align:i,shortcutKeys:b})]})}):null});i_.displayName="TextAlignButton";let iU=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]})});iU.displayName="AlignCenterIcon";let iP=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]})});iP.displayName="AlignJustifyIcon";let iD=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]})});iD.displayName="AlignLeftIcon";let iF=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]})});iF.displayName="AlignRightIcon";let iz={left:"mod+shift+l",center:"mod+shift+e",right:"mod+shift+r",justify:"mod+shift+j"},iG={left:iD,center:iU,right:iF,justify:iP},iK={left:"Align left",center:"Align center",right:"Align right",justify:"Align justify"};function iq(e,t){return!(!e||!e.isEditable||!U(e,"textAlign")||D(e,["image"]))&&e.can().setTextAlign(t)}let iW=["image","imageUpload","video","audio","table","codeBlock","horizontalRule","hardBreak"];function i$(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state;if(t.empty)return!1;if(t instanceof I.nh){if(!t.node.content.size)return!1;let e=t.node;if(iW.includes(e.type.name))return!1}return!0}function iX(e){let{action:t}=e;return(0,n.jsxs)(nH,{children:[(0,n.jsx)(nB,{asChild:!0,children:(0,n.jsxs)(q,{"data-style":"ghost",type:"button",children:[(0,n.jsx)(t.icon,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:t.label}),(0,n.jsx)(nq,{className:"tiptap-button-icon-sub"})]})}),(0,n.jsx)(nV,{children:(0,n.jsx)(eg,{children:(0,n.jsx)(ev,{children:(0,n.jsx)(W,{children:t.items.map(e=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsxs)(q,{type:"button","data-style":"ghost",onClick:e.onClick,children:[e.icon&&(0,n.jsx)(e.icon,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})]})},e.value))})})})})]})}function iJ(e){let{editor:t,hideWhenUnavailable:l=!1,textOptions:i,portal:o=!1,...a}=e,{editor:s}=eo(t),{executeAICommand:c,adjustTone:u,translate:d}=function(e,t){let l=r.useMemo(()=>({stream:!0,format:"rich-text",...t}),[t]),n=r.useCallback(t=>{if(!e)return;let n=e.chain().focus();"function"==typeof n.aiGenerationShow&&n.aiGenerationShow().run(),setTimeout(()=>{switch(t){case"fixSpellingAndGrammar":let n=e.commands;"function"==typeof n.aiFixSpellingAndGrammar&&n.aiFixSpellingAndGrammar(l);break;case"extend":{let t=e.commands;"function"==typeof t.aiExtend&&t.aiExtend(l)}break;case"shorten":{let t=e.commands;"function"==typeof t.aiShorten&&t.aiShorten(l)}break;case"simplify":{let t=e.commands;"function"==typeof t.aiSimplify&&t.aiSimplify(l)}break;case"emojify":{let t=e.commands;"function"==typeof t.aiEmojify&&t.aiEmojify(l)}break;case"complete":{let t=e.commands;"function"==typeof t.aiComplete&&t.aiComplete(l)}break;case"summarize":{let t=e.commands;"function"==typeof t.aiSummarize&&t.aiSummarize(l)}}},0)},[e,l]);return{executeAICommand:n,adjustTone:r.useCallback(t=>{if(!e)return;let n=e.chain().focus();"function"==typeof n.aiGenerationShow&&n.aiGenerationShow().run(),setTimeout(()=>{let n=e.commands;"function"==typeof n.aiAdjustTone&&n.aiAdjustTone(t,l)},0)},[e,l]),translate:r.useCallback(t=>{if(!e)return;let n=e.chain().focus();"function"==typeof n.aiGenerationShow&&n.aiGenerationShow().run(),setTimeout(()=>{let n=e.commands;"function"==typeof n.aiTranslate&&n.aiTranslate(t,l)},0)},[e,l])}}(s,i),{isDisabled:h,isOpen:p,handleOpenChange:C,show:f}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[l,n]=r.useState(!1),[i,o]=r.useState(!1),a=!i$(e),s=r.useCallback((t,l)=>{e&&!a&&(n(t),null==l||l(t))},[e,a]);return r.useEffect(()=>{if(!e)return;let l=()=>{o(function(e){let{editor:t,hideWhenUnavailable:l}=e;return!!t&&!!t.isEditable&&(!l||!!t.isActive("code")||i$(t))}({editor:e,hideWhenUnavailable:t}))};return l(),e.on("selectionUpdate",l),()=>{e.off("selectionUpdate",l)}},[e,t]),{isDisabled:a,isOpen:l,setIsOpen:n,handleOpenChange:s,show:i}}(s,l),m=r.useMemo(()=>[{icon:rc,label:"Fix spelling & grammar",command:"fixSpellingAndGrammar",onClick:()=>c("fixSpellingAndGrammar")},{icon:ri,label:"Extend text",command:"extend",onClick:()=>c("extend")},{icon:ro,label:"Reduce text",command:"shorten",onClick:()=>c("shorten")},{icon:rl,label:"Simplify text",command:"simplify",onClick:()=>c("simplify")},{icon:rs,label:"Emojify",command:"emojify",onClick:()=>c("emojify")}],[c]),x=r.useMemo(()=>[{icon:ra,label:"Complete sentence",command:"complete",onClick:()=>c("complete")},{icon:rt,label:"Summarize",command:"summarize",onClick:()=>c("summarize")}],[c]),g=r.useMemo(()=>[{icon:rr,label:"Adjust tone",items:re.map(e=>({label:e.label,value:e.value,onClick:()=>u(e.value)}))}],[u]),v=r.useMemo(()=>({icon:rn,label:"Translate",items:n8.map(e=>({label:e.label,value:e.value,icon:rn,onClick:()=>d(e.value)}))}),[d]);return f&&s&&s.isEditable?(0,n.jsxs)(nR,{open:p,onOpenChange:C,children:[(0,n.jsx)(nI,{asChild:!0,children:(0,n.jsxs)(q,{type:"button","data-style":"ghost",disabled:h,"data-disabled":h,role:"button",tabIndex:-1,"aria-label":"Improve",tooltip:"Improve",...a,children:[(0,n.jsx)(eV,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Improve"})]})}),(0,n.jsx)(nZ,{align:"start",portal:o,children:(0,n.jsx)(eg,{children:(0,n.jsxs)(ev,{children:[(0,n.jsxs)(W,{children:[g.map((e,t)=>(0,n.jsx)(iX,{action:e},t)),m.map((e,t)=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsxs)(q,{type:"button","data-style":"ghost",onClick:e.onClick,children:[(0,n.jsx)(e.icon,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})]})},t))]}),(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsxs)(W,{children:[(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lF,{text:"Ask AI",showTooltip:!1})}),x.map((e,t)=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsxs)(q,{type:"button","data-style":"ghost",onClick:e.onClick,children:[(0,n.jsx)(e.icon,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:e.label})]})},t)),(0,n.jsx)(iX,{action:v})]})]})})})]}):null}let iY=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsx)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:(0,n.jsx)("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})})});iY.displayName="ArrowLeftIcon";let iQ=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5C14 6.10457 13.1046 7 12 7C10.8954 7 10 6.10457 10 5Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 19C10 17.8954 10.8954 17 12 17C13.1046 17 14 17.8954 14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19Z",fill:"currentColor"})]})});function i1(e){let{shortcutKeys:t}=e;return(0,n.jsx)(eq,{children:V({shortcutKeys:t})})}iQ.displayName="MoreVerticalIcon";let i2=r.forwardRef((e,t)=>{let{editor:l,text:i,direction:o,hideWhenUnavailable:a=!1,onMoved:s,showShortcut:c=!1,onClick:u,children:d,...h}=e,{editor:p}=eo(l),{isVisible:C,handleMoveNode:f,canMoveNode:m,label:x,shortcutKeys:g,Icon:v}=function(e){let{editor:t,hideWhenUnavailable:l=!1,direction:n,onMoved:i}=e,{editor:o}=eo(t),a=eX(),[s,c]=r.useState(!0),[u,d]=r.useState(!1),h=r.useCallback(()=>{if(!u)return!1;let e=function(e,t){if(!e||!e.isEditable)return!1;let l=eK(e);if(!l)return!1;try{let{pos:n,node:r}=l,i=e.state.tr,o=i.doc.resolve(n),a=o.parent,s=o.index();if(s<0||s>=a.childCount)return!1;if("up"===t&&s>0){let e=a.child(s-1).nodeSize,t=r.type.create(r.attrs,r.content,r.marks);i.deleteRange(n,n+r.nodeSize);let l=n-e;i.insert(l,t),i.setSelection(I.U3.near(i.doc.resolve(l)))}else{if("down"!==t||!(s<a.childCount-1))return!1;let e=a.child(s+1).nodeSize,l=r.type.create(r.attrs,r.content,r.marks);i.deleteRange(n,n+r.nodeSize);let o=n+e;i.insert(o,l),i.setSelection(I.U3.near(i.doc.resolve(o)))}return e.view.dispatch(i),!0}catch(e){return console.error("Error moving node:",e),!1}}(o,n);return e&&(null==i||i(n)),e},[o,n,i,u]);r.useEffect(()=>{if(!o)return;let e=()=>{c(function(e){let{editor:t,direction:l,hideWhenUnavailable:n}=e;if(!t||!t.isEditable)return!1;let r=!!eK(t),i=i4(t,l);return n?r&&i:r}({editor:o,direction:n,hideWhenUnavailable:l})),d(i4(o,n))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,n,l]);let p="up"===n?"mod+shift+ArrowUp":"mod+shift+ArrowDown";return(0,e$.vC)(p,e=>{e.preventDefault(),h()},{enabled:s&&u,enableOnContentEditable:!a,enableOnFormTags:!0},[h,s,u,a]),{isVisible:s,handleMoveNode:h,canMoveNode:u,label:"up"===n?"Move Up":"Move Down",shortcutKeys:p,Icon:"up"===n?i0:i7}}({editor:p,direction:o,hideWhenUnavailable:a,onMoved:s}),b=r.useCallback(e=>{null==u||u(e),e.defaultPrevented||f()},[f,u]);return C?(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,"aria-label":x,tooltip:"up"===o?"Move Up":"Move Down",disabled:!m,onClick:b,...h,ref:t,children:null!=d?d:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:"tiptap-button-icon"}),i&&(0,n.jsx)("span",{className:"tiptap-button-text",children:i}),c&&(0,n.jsx)(i1,{shortcutKeys:g})]})}):null});i2.displayName="MoveNodeButton";let i0=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M2 4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4C22 4.55228 21.5523 5 21 5H3C2.44772 5 2 4.55228 2 4Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13 10.4142L14.2929 11.7071C14.6834 12.0976 15.3166 12.0976 15.7071 11.7071C16.0976 11.3166 16.0976 10.6834 15.7071 10.2929L12.7071 7.29289C12.3166 6.90237 11.6834 6.90237 11.2929 7.29289L8.29289 10.2929C7.90237 10.6834 7.90237 11.3166 8.29289 11.7071C8.68342 12.0976 9.31658 12.0976 9.70711 11.7071L11 10.4142L11 20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20L13 10.4142Z",fill:"currentColor"})]})});i0.displayName="AlignTopIcon";let i7=r.memo(e=>{let{className:t,...l}=e;return(0,n.jsxs)("svg",{width:"24",height:"24",className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...l,children:[(0,n.jsx)("path",{d:"M11 11.5858L9.70711 10.2929C9.31658 9.90237 8.68342 9.90237 8.29289 10.2929C7.90237 10.6834 7.90237 11.3166 8.29289 11.7071L11.2929 14.7071C11.6834 15.0976 12.3166 15.0976 12.7071 14.7071L15.7071 11.7071C16.0976 11.3166 16.0976 10.6834 15.7071 10.2929C15.3166 9.90237 14.6834 9.90237 14.2929 10.2929L13 11.5858V4C13 3.44771 12.5523 3 12 3C11.4477 3 11 3.44771 11 4V11.5858Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]})});function i4(e,t){if(!e||!e.isEditable)return!1;let l=eK(e);if(!l)return!1;try{let{pos:n}=l,r=e.state.doc.resolve(n),i=r.parent,o=r.index();return"up"===t?o>0:o<i.childCount-1}catch(e){return!1}}i7.displayName="AlignBottomIcon";let i5={MAIN:"main",HIGHLIGHTER:"highlighter",LINK:"link"};function i9(){return(0,n.jsxs)(rb,{children:[(0,n.jsx)(i_,{align:"left"}),(0,n.jsx)(i_,{align:"center"}),(0,n.jsx)(i_,{align:"right"}),(0,n.jsx)(i_,{align:"justify"})]})}function i3(){return(0,n.jsxs)(rb,{children:[(0,n.jsx)(iE,{type:"superscript"}),(0,n.jsx)(iE,{type:"subscript"})]})}function i6(){return(0,n.jsxs)(rb,{children:[(0,n.jsx)(iE,{type:"bold"}),(0,n.jsx)(iE,{type:"italic"}),(0,n.jsx)(iE,{type:"strike"}),(0,n.jsx)(iE,{type:"code"})]})}function i8(){let{recentColors:e,isInitialized:t,addRecentColor:l}=nE();return(0,n.jsxs)(nH,{children:[(0,n.jsx)(nB,{asChild:!0,children:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(nK,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Color"}),(0,n.jsx)(to,{}),(0,n.jsx)(nq,{className:"tiptap-button-icon"})]})}),(0,n.jsx)(nM,{children:(0,n.jsx)(nV,{children:(0,n.jsx)(eg,{children:(0,n.jsxs)(ev,{children:[t&&0!==e.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Recent colors"}),(0,n.jsx)(W,{children:e.map(e=>(0,n.jsx)(nT,{asChild:!0,children:"text"===e.type?(0,n.jsx)(lA,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return l({type:"text",label:n,value:t})}}):(0,n.jsx)(lB,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return l({type:"highlight",label:n,value:t})}})},"".concat(e.type,"-").concat(e.value)))})]}),(0,n.jsx)(tl,{orientation:"horizontal"})]}):null,(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Text color"}),(0,n.jsx)(W,{children:lM.map(e=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lA,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return l({type:"text",label:n,value:t})}})},e.value))})]}),(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:"Highlight color"}),(0,n.jsx)(W,{children:lO.map(e=>(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lB,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:n}=e;return l({type:"highlight",label:n,value:t})}})},e.value))})]})]})})})})]})}function oe(){return(0,n.jsxs)(nH,{children:[(0,n.jsx)(nB,{asChild:!0,children:(0,n.jsxs)(q,{"data-style":"ghost",children:[(0,n.jsx)(nW,{className:"tiptap-button-icon"}),(0,n.jsx)("span",{className:"tiptap-button-text",children:"Turn into"}),(0,n.jsx)(to,{}),(0,n.jsx)(nq,{className:"tiptap-button-icon"})]})}),(0,n.jsx)(nV,{children:(0,n.jsx)(nO,{})})]})}function ot(e){let{editor:t}=e,{hasAnyActionGroups:l,hasColorActions:r,hasTransformActions:i,hasResetFormatting:o}=nz(t),a=eX();return(0,n.jsx)(eg,{children:(0,n.jsxs)(ev,{children:[(0,n.jsxs)(eb,{children:[(0,n.jsx)(ej,{children:eh(t)}),(0,n.jsxs)(W,{children:[r&&(0,n.jsx)(i8,{}),i&&(0,n.jsx)(oe,{}),o&&(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lm,{text:"Reset formatting"})})]})]}),l&&(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsxs)(W,{children:[(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(t4,{text:"Duplicate node",showShortcut:!a})}),(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(le,{text:"Copy to clipboard",showShortcut:!a})})]}),(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsx)(W,{children:(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lF,{text:"Ask AI",showShortcut:!a})})}),(0,n.jsx)(tl,{orientation:"horizontal"}),(0,n.jsx)(W,{children:(0,n.jsx)(nT,{asChild:!0,children:(0,n.jsx)(lc,{text:"Delete",showShortcut:!a})})})]})})}function ol(e){let{editor:t}=e;return(0,n.jsxs)(nR,{children:[(0,n.jsx)(nI,{asChild:!0,children:(0,n.jsx)(q,{"data-style":"ghost","data-appearance":"subdued",children:(0,n.jsx)(iQ,{className:"tiptap-button-icon"})})}),(0,n.jsx)(nZ,{portal:!0,children:(0,n.jsx)(ot,{editor:t})})]})}function on(e){let{view:t,isMobile:l,onViewChange:i}=e,o=t.id;return l?t.mobileButton?r.cloneElement(t.mobileButton(()=>i(o)),{key:t.id}):(0,n.jsx)(q,{onClick:()=>i(o),children:t.icon},t.id):t.desktopComponent?r.cloneElement(t.desktopComponent,{key:t.id}):null}function or(e){let{toolbarViews:t,isMobile:l,onViewChange:r}=e;return(0,n.jsx)(n.Fragment,{children:Object.values(t).map(e=>(0,n.jsx)(on,{view:e,isMobile:l,onViewChange:r},e.id))})}function oi(e){let{editor:t,isMobile:l,toolbarViews:r,onViewChange:i}=e,o=function(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state;return!t.empty}(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(rb,{children:[(0,n.jsx)(ly,{}),(0,n.jsx)(ol,{editor:t})]}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(i2,{direction:"down"}),(0,n.jsx)(i2,{direction:"up"})]}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rj,{}),(0,n.jsx)(rb,{children:(0,n.jsx)(iJ,{portal:!0})}),(0,n.jsx)(rj,{}),(0,n.jsx)(i6,{}),(0,n.jsx)(rj,{}),(0,n.jsx)(or,{toolbarViews:r,isMobile:l,onViewChange:i}),(0,n.jsx)(rj,{}),(0,n.jsx)(i3,{}),(0,n.jsx)(rj,{}),(0,n.jsx)(i9,{}),(0,n.jsx)(rj,{}),(0,n.jsx)(rb,{children:(0,n.jsx)(ih,{text:"Add"})})]})]})}function oo(e){let{view:t,onBack:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rb,{children:(0,n.jsxs)(q,{"data-style":"ghost",onClick:l,children:[(0,n.jsx)(iY,{className:"tiptap-button-icon"}),t.icon]})}),(0,n.jsx)(rj,{fixed:!0}),t.content]})}function oa(e){var t,l;let{editor:i}=e,{editor:o}=eo(i),a=eX(480),s=r.useRef(null),c=function(e){let[t,l]=r.useState(i5.MAIN);return r.useEffect(()=>{e||t===i5.MAIN||l(i5.MAIN)},[e,t]),{viewId:t,setViewId:l,isMainView:t===i5.MAIN,showMainView:()=>l(i5.MAIN),showView:e=>l(e)}}(a),u=io(),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,[t,l]=r.useState(!1),n=r.useRef(null),i=ii(()=>{l(!0),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{l(!1),n.current=null},e)},16);return r.useEffect(()=>{let e=()=>{i()};return window.addEventListener("scroll",e,{passive:!0}),document.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e),document.removeEventListener("scroll",e),n.current&&clearTimeout(n.current)}},[i]),r.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),t}(),h=function(e){let{editor:t,overlayHeight:l=0}=e,{height:n}=io(),[i,o]=r.useState({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0}),a=r.useCallback(()=>{o(document.body.getBoundingClientRect())},[]);return r.useEffect(()=>{let e=document.body;a();let t=new ResizeObserver(()=>{window.requestAnimationFrame(a)});return t.observe(e),window.addEventListener("scroll",a,!0),()=>{t.disconnect(),window.removeEventListener("scroll",a)}},[a]),r.useEffect(()=>{(()=>{if(!t)return;let{state:e,view:r}=t;if(!r.hasFocus())return;let{from:o}=e.selection,a=r.coordsAtPos(o);if(n<i.height&&a&&n-a.top<l){let e=Math.max(n/2,l),t=window.scrollY,r=a.top+t;window.scrollTo({top:Math.max(0,r-e),behavior:"smooth"})}})()},[t,l,n,i.height]),i}({editor:o,overlayHeight:null!=(l=null==(t=s.current)?void 0:t.getBoundingClientRect().height)?l:0}),p=r.useMemo(()=>({[i5.HIGHLIGHTER]:{id:i5.HIGHLIGHTER,title:"Text Highlighter",icon:(0,n.jsx)(lV,{className:"tiptap-button-icon"}),content:(0,n.jsx)(ic,{}),mobileButton:e=>(0,n.jsx)(is,{onClick:e}),desktopComponent:(0,n.jsx)(iu,{})},[i5.LINK]:{id:i5.LINK,title:"Link Editor",icon:(0,n.jsx)(rF,{className:"tiptap-button-icon"}),content:(0,n.jsx)(ij,{}),mobileButton:e=>(0,n.jsx)(iv,{onClick:e}),desktopComponent:(0,n.jsx)(iw,{})}}),[]),C=c.isMainView?null:p[c.viewId];return a&&o&&o.isEditable?(0,n.jsx)(rv,{ref:s,style:{...d&&a?{opacity:0,transition:"opacity 0.1s ease-in-out"}:{},...a?{bottom:"calc(100% - ".concat(u.height-h.y,"px)")}:{}},children:c.isMainView?(0,n.jsx)(oi,{editor:o,isMobile:a,toolbarViews:p,onViewChange:c.showView}):C&&(0,n.jsx)(oo,{view:C,onBack:c.showMainView})}):null}let os=e=>{let{editor:t}=e;if(!t)return null;let l=t.isActive("table");return(0,n.jsxs)(ng,{children:[(0,n.jsx)(nv,{asChild:!0,children:(0,n.jsx)(q,{type:"button","data-style":"ghost",disabled:!l,title:"테이블 조작",children:"테이블 조작"})}),(0,n.jsx)(nb,{side:"top",align:"start",alignOffset:4,sideOffset:4,asChild:!0,children:(0,n.jsxs)(rv,{variant:"floating",tabIndex:0,children:[(0,n.jsxs)(rb,{children:[(0,n.jsx)(q,{onClick:()=>t.chain().focus().addRowBefore().run(),disabled:!t.can().addRowBefore(),title:"행 추가(위)",children:"행 ↑"}),(0,n.jsx)(q,{onClick:()=>t.chain().focus().addRowAfter().run(),disabled:!t.can().addRowAfter(),title:"행 추가(아래)",children:"행 ↓"})]}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(q,{onClick:()=>t.chain().focus().addColumnBefore().run(),disabled:!t.can().addColumnBefore(),title:"열 추가(왼쪽)",children:"열 ←"}),(0,n.jsx)(q,{onClick:()=>t.chain().focus().addColumnAfter().run(),disabled:!t.can().addColumnAfter(),title:"열 추가(오른쪽)",children:"열 →"})]}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(q,{onClick:()=>t.chain().focus().mergeCells().run(),disabled:!t.can().mergeCells(),title:"셀 병합",children:"셀 병합"}),(0,n.jsx)(q,{onClick:()=>t.chain().focus().splitCell().run(),disabled:!t.can().splitCell(),title:"셀 분할",children:"셀 분할"})]})]})})]})},oc=(e,t)=>{if(!t||!e)return!1;let l=e.view.dom.parentElement,n=e.view.dom;return!!l&&(l===t||n===t||l.contains(t))},ou=r.forwardRef((e,t)=>{let{editor:l,shouldShow:i,floatingOptions:o,zIndex:a=50,onOpenChange:s,onRectChange:c,getBoundingClientRect:u=ef,updateOnScroll:d=!0,closeOnEscape:h=!0,children:p,style:C,...f}=e,[m,x]=r.useState(void 0!==i&&i),[g,v]=r.useState(null),b=r.useRef(null),j=r.useRef(!1),w=r.useRef(!1),{editor:y}=eo(l),k=r.useCallback(e=>{null==s||s(e),x(e)},[s]);r.useEffect(()=>{null==c||c(g)},[g,c]);let{isMounted:E,ref:A,style:S,getFloatingProps:R}=er(m,g,a,{placement:"top",middleware:[(0,N.BN)(),(0,N.UU)(),(0,N.cY)(4)],onOpenChange:e=>{if(!e&&y){let e=y.state.tr.setSelection(I.LN.near(y.state.doc.resolve(0)));y.view.dispatch(e)}k(e)},dismissOptions:{enabled:!0,escapeKey:!0,outsidePress(e){let t=e.target;return!!t&&!oc(y,t)}},...o}),M=r.useCallback(()=>{if(!y)return;let e=u(y);if(e&&void 0!==i&&!w.current){v(e),k(i);return}let t=eC(y);e&&!w.current&&(t||j.current)?(v(e),k(!0)):j.current||t&&!w.current&&y.isEditable||k(!1)},[y,u,k,i]);r.useEffect(()=>{if(!y||!h)return;let e=e=>"Escape"===e.key&&!!m&&(k(!1),!0);return y.view.dom.addEventListener("keydown",e),()=>{y.view.dom.removeEventListener("keydown",e)}},[y,m,h,k]),r.useEffect(()=>{if(!y)return;let e=e=>{if(j.current){j.current=!1;return}let t=e.relatedTarget;if(!t)return;let l=oc(y,t),n=b.current,r=n&&(n===t||n.contains(t));l||r||!m||k(!1)};return y.view.dom.addEventListener("blur",e),()=>{y.view.dom.removeEventListener("blur",e)}},[y,k,m]),r.useEffect(()=>{if(!y)return;let e=()=>{m&&k(!1)};return y.view.dom.addEventListener("dragstart",e),y.view.dom.addEventListener("dragover",e),()=>{y.view.dom.removeEventListener("dragstart",e),y.view.dom.removeEventListener("dragover",e)}},[y,m,k]),r.useEffect(()=>{if(!y)return;let e=e=>{if(0===e.button){w.current=!0;let t=y.view.posAtCoords({left:e.clientX,top:e.clientY});if(_(null==t?void 0:t.pos)){let e=y.state.tr.setSelection(I.LN.near(y.state.doc.resolve(t.pos)));y.view.dispatch(e)}}},t=()=>{w.current&&(w.current=!1,M())};return y.view.dom.addEventListener("mousedown",e),y.view.root.addEventListener("mouseup",t),()=>{y.view.dom.removeEventListener("mousedown",e),y.view.root.removeEventListener("mouseup",t)}},[y,M]),r.useEffect(()=>{if(!y)return;let e=()=>{m&&M()};return y.on("selectionUpdate",M),window.addEventListener("resize",e),d&&y.view.root.addEventListener("scroll",e,!0),()=>{y.off("selectionUpdate",M),window.removeEventListener("resize",e),d&&y.view.root.removeEventListener("scroll",e,!0)}},[y,m,d,M]),r.useEffect(()=>{y&&M()},[y,M]);let H=r.useMemo(()=>C&&Object.keys(C).length>0?C:S,[C,S]),T=(0,L.SV)([A,t,b]);return y&&E&&m?(0,n.jsx)("div",{ref:T,style:H,...f,...R(),children:p}):null});function od(){let{editor:e}=eo(),t=eX(480),{lockDragHandle:l,aiGenerationActive:i,commentInputVisible:o}=b(e),[a,s]=r.useState(!1);return(r.useEffect(()=>{if(!e)return;let t=()=>{let{state:t}=e,{selection:l}=t,n=eC(e,l)&&(!(0,j.BQ)(l)||(0,j.BQ)(l)&&"image"===l.node.type.name);if(o||i)return void s(!1);s(n)};return t(),e.on("selectionUpdate",t),()=>{e.off("selectionUpdate",t)}},[e,i,o]),l||t)?null:(0,n.jsx)(ou,{shouldShow:a,children:(0,n.jsxs)(rv,{variant:"floating",children:[(0,n.jsx)(rb,{}),(0,n.jsx)(rj,{fixed:!0}),(0,n.jsx)(rb,{children:(0,n.jsx)(n_,{hideWhenUnavailable:!0})}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(iE,{type:"bold",hideWhenUnavailable:!0}),(0,n.jsx)(iE,{type:"italic",hideWhenUnavailable:!0}),(0,n.jsx)(iE,{type:"strike",hideWhenUnavailable:!0}),(0,n.jsx)(iE,{type:"code",hideWhenUnavailable:!0})]}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(iw,{autoOpenOnLinkActive:!1,hideWhenUnavailable:!0}),(0,n.jsx)(nk,{hideWhenUnavailable:!0}),(0,n.jsx)(os,{editor:e})]}),(0,n.jsx)(oh,{hideWhenUnavailable:!0})]})})}function oh(e){let{editor:t,hideWhenUnavailable:l=!1,...i}=e,{editor:o}=eo(t),[a,s]=r.useState(!1);return(r.useEffect(()=>{if(!o)return;let e=()=>{s(function(e){let{editor:t,hideWhenUnavailable:l}=e;if(!t)return!1;if(l&&!t.isActive("code")){if(!t)return!1;let e=["left","center","right","justify"].some(e=>iq(t,e));return["superscript","subscript"].some(e=>iZ(t,e))||e}return!!(null==t?void 0:t.isEditable)}({editor:o,hideWhenUnavailable:l}))};return e(),o.on("selectionUpdate",e),()=>{o.off("selectionUpdate",e)}},[o,l]),a&&o&&o.isEditable)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rj,{}),(0,n.jsx)(rb,{children:(0,n.jsxs)(ng,{children:[(0,n.jsx)(nv,{asChild:!0,children:(0,n.jsx)(q,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,tooltip:"More options",...i,children:(0,n.jsx)(iQ,{className:"tiptap-button-icon"})})}),(0,n.jsx)(nb,{side:"top",align:"end",alignOffset:4,sideOffset:4,asChild:!0,children:(0,n.jsxs)(rv,{variant:"floating",tabIndex:0,children:[(0,n.jsxs)(rb,{children:[(0,n.jsx)(iE,{type:"superscript"}),(0,n.jsx)(iE,{type:"subscript"})]}),(0,n.jsx)(rj,{}),(0,n.jsxs)(rb,{children:[(0,n.jsx)(i_,{align:"left"}),(0,n.jsx)(i_,{align:"center"}),(0,n.jsx)(i_,{align:"right"}),(0,n.jsx)(i_,{align:"justify"})]}),(0,n.jsx)(rj,{})]})})]})})]}):null}ou.displayName="FloatingElement";var op=l(8793),oC=l(6833);l(9067);var of=l(3007),om=l(4923),ox=l(3709),og=l(8033),ov=l(5625),ob=l(8084),oj=l(4691),ow=l(2348),oy=l(6278),oL=l(2091),ok=l(8273),oN=l(9514),oE=l(528),oA=l(3859),oS=l(1870),oR=l(5166),oM=l(1882),oI=l(6203),oH=l(8496),oT=l(3312),oB=l(7097),oV=l(2647);let oZ=j.YY.create({name:"tabIndent",addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e,{state:l,dispatch:n}=t.view,{selection:r}=l;return!!t.isActive("codeBlock")&&(n(l.tr.insertText("  ",r.from,r.to)),!0)}})});function oO(e){let{editor:t}=e,[l,i]=r.useState(null),o=r.useRef(null),a=r.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]),s=r.useCallback(()=>{a(),o.current=window.setTimeout(()=>{i(null),o.current=null},100)},[a]);r.useEffect(()=>{let e=e=>{let t=e.target;if(!t)return void s();if(t.closest(".table-hover-controls"))return void a();let l=t.closest("td, th");if(l&&document.contains(l)){let t=l.getBoundingClientRect(),n=l.closest("table");i({cellRect:t,tableRect:n.getBoundingClientRect(),tableEl:n,cursorX:e.clientX,cursorY:e.clientY}),a();return}t.closest("table")||s()},t=()=>{s()};return document.addEventListener("mousemove",e),document.addEventListener("mouseleave",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseleave",t),a()}},[a,s]);let c=r.useCallback(e=>{if(!t)return!1;let l=t.view.posAtCoords({left:e.left+Math.min(10,e.width/2),top:e.top+Math.min(10,e.height/2)});return!!l&&(t.chain().focus().setTextSelection(l.pos).run(),!0)},[t]),u=r.useCallback(()=>{t&&l&&c(l.cellRect)&&(t.chain().focus().addRowAfter().run(),requestAnimationFrame(()=>{if(!(null==l?void 0:l.tableEl))return;let e=l.tableEl,n=e.getBoundingClientRect(),r=e.querySelector("tr:last-child td:first-child, tr:last-child th:first-child");if(!r)return;let o=r.getBoundingClientRect();i({cellRect:o,tableRect:n,tableEl:e,cursorX:o.left+o.width/2,cursorY:o.top+o.height/2}),a();let s=t.view.posAtCoords({left:o.left+Math.min(10,o.width/2),top:o.top+Math.min(10,o.height/2)});s&&t.chain().focus().setTextSelection(s.pos).run()}))},[t,l,c]),d=r.useCallback(()=>{t&&l&&c(l.cellRect)&&(t.chain().focus().addColumnAfter().run(),requestAnimationFrame(()=>{if(!(null==l?void 0:l.tableEl))return;let e=l.tableEl,n=e.getBoundingClientRect(),r=e.querySelector("tr:last-child td:last-child, tr:last-child th:last-child");if(!r)return;let o=r.getBoundingClientRect();i({cellRect:o,tableRect:n,tableEl:e,cursorX:o.left+o.width/2,cursorY:o.top+o.height/2}),a();let s=t.view.posAtCoords({left:o.left+Math.min(10,o.width/2),top:o.top+Math.min(10,o.height/2)});s&&t.chain().focus().setTextSelection(s.pos).run()}))},[t,l,c]);if(!t||!l)return null;let{tableRect:h}=l,p={position:"fixed",left:h.left,top:h.bottom+8,width:h.width,transform:"translate(0, 0)",zIndex:1e3,justifyContent:"center",display:"flex"},C={position:"fixed",left:h.right+8,top:h.top,height:h.height,transform:"translate(0, 0)",zIndex:1e3,alignItems:"center",display:"flex"};return(0,n.jsxs)("div",{className:"table-hover-controls","aria-hidden":!0,children:[(0,n.jsx)(q,{type:"button","data-style":"ghost",className:"table-hover-controls__btn table-hover-controls__btn--row",style:p,onClick:()=>{if(!t)return;let e=l.tableEl.querySelector("tr:last-child td:first-child, tr:last-child th:first-child");if(e){let l=e.getBoundingClientRect(),n=t.view.posAtCoords({left:l.left+Math.min(10,l.width/2),top:l.bottom-2});if(n)return void t.chain().focus().setTextSelection(n.pos).addRowAfter().run()}u()},title:"행 추가 (아래)",children:"+ 행"}),(0,n.jsx)(q,{type:"button","data-style":"ghost",className:"table-hover-controls__btn table-hover-controls__btn--col",style:C,onClick:()=>{if(!t)return;let e=l.tableEl.querySelector("tr:last-child td:last-child, tr:last-child th:last-child");if(e){let l=e.getBoundingClientRect(),n=t.view.posAtCoords({left:l.right-2,top:l.top+Math.min(10,l.height/2)});if(n)return void t.chain().focus().setTextSelection(n.pos).addColumnAfter().run()}d()},title:"열 추가 (오른쪽)",children:"+ 열"})]})}function o_(e){let{text:t="Connecting..."}=e;return(0,n.jsx)("div",{className:"spinner-container",children:(0,n.jsxs)("div",{className:"spinner-content",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("div",{className:"spinner-loading-text",children:t})]})})}function oU(){let{editor:e}=r.useContext(i.pl),{aiGenerationIsLoading:t,aiGenerationIsSelection:l,aiGenerationHasMessage:o}=b(e),{modalProps:a}=function(){let[e,t]=(0,r.useState)({isOpen:!1,type:null,editor:null});(0,r.useEffect)(()=>{let e=e=>{let{type:l,editor:n}=e.detail;t({isOpen:!0,type:l,editor:n})};return window.addEventListener("open-math-modal",e),()=>{window.removeEventListener("open-math-modal",e)}},[]);let l=()=>{t({isOpen:!1,type:null,editor:null})},n=t=>{e.editor&&e.type&&("inline"===e.type?e.editor.chain().focus().insertInlineMath({latex:t}).run():"block"===e.type&&e.editor.chain().focus().insertBlockMath({latex:t}).run(),l())};return{modalProps:(()=>{if(!e.isOpen)return null;let t="inline"===e.type;return{isOpen:e.isOpen,onClose:l,onSubmit:n,title:t?"인라인 수식 삽입":"블록 수식 삽입",placeholder:t?"E = mc^2":"\\frac{a}{b}",example:t?"E = mc^2":"\\frac{a}{b}"}})()}}(),[s,c]=r.useState({isOpen:!1,content:"",position:null});r.useEffect(()=>{let e=e=>{let{content:t,position:l}=e.detail;c({isOpen:!0,content:t,position:l})};return window.addEventListener("show-paste-modal",e),()=>{window.removeEventListener("show-paste-modal",e)}},[]);let u=r.useCallback(()=>{c({isOpen:!1,content:"",position:null})},[]);r.useEffect(()=>{e&&!t&&l&&o&&(e.commands.resetUiState(),e.commands.setCodeBlock(),e.commands.toggleCodeBlock())},[o,t,l,e]);let d=r.useCallback(()=>{if(e)try{return e.getJSON()}catch(e){console.error("에디터 내용 추출 중 오류 발생:",e)}},[e]),h=r.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),p=r.useCallback(t=>{if(!e)return void console.error("에디터가 초기화되지 않았습니다.");try{e.commands.setContent(t),e.setEditable(!1)}catch(e){console.error("에디터 내용 설정 중 오류 발생:",e)}},[e]),C=r.useCallback((e,t)=>{window.parent&&window.parent!==window&&(console.log("DEBUG - sendToParent",t),window.parent.postMessage({type:"EDITOR_JSON_DATA",data:t,source:"notion-like-editor",payload:t},"*"))},[]);return(r.useEffect(()=>{let e=e=>{if(console.log(e),e.data&&e.data.type)switch(e.data.type){case"EDITOR_JSON_DATA":let t=d();t&&C("documentData",t);break;case"SET_EDITOR_JSON_DATA":let l=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA",l),h(l);break;case"SET_EDITOR_JSON_DATA_READ":let n=e.data.data;console.log("DEBUG - SET_EDITOR_JSON_DATA_FROM_PARENT",n),p(n);break;case"change-color":{let t="dark"===e.data.color;document.body.classList.toggle("code-dark",t),document.body.classList.toggle("dark",t),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark",t),console.log(t)}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[d,h,p,C]),r.useEffect(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),window.parent.postMessage({type:"SAVE_PRESSED"},"*")),window.parent.postMessage({type:"IFRAME_KEYDOWN"},"*")};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),e)?(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(rD,{...a}),(0,n.jsxs)(i.$Z,{editor:e,role:"presentation",className:"notion-like-editor-content",style:{cursor:e.view.dragging?"grabbing":"auto"},spellCheck:!1,children:[(0,n.jsx)(oa,{}),(0,n.jsx)(n6,{}),(0,n.jsx)(rP,{}),(0,n.jsx)(eL,{}),(0,n.jsx)(tn,{}),(0,n.jsx)(od,{}),(0,n.jsx)(il,{editor:e}),(0,n.jsx)(oO,{editor:e})]}),(0,n.jsx)(rG,{editor:e,isOpen:s.isOpen,onClose:u,pastedContent:s.content,position:s.position})]}):null}function oP(e){let{placeholder:t="Start writing..."}=e,l=[o.W.configure({horizontalRule:!1,dropcursor:{width:2},link:{openOnClick:!1}}),w,f.n.configure({types:["heading","paragraph"]}),u.Or.configure({placeholder:t,emptyNodeClass:"is-empty with-slash"}),g.zT.configure({emojis:g.bH.filter(e=>!e.name.includes("regional")),forceFallbackImages:!0}),m.Rs.configure({inlineOptions:{onClick:(e,t)=>{if(!r)return;let l=prompt("수식을 수정하세요:",e.attrs.latex);null!==l&&r.chain().setNodeSelection(t).updateInlineMath({latex:l}).focus().run()}},blockOptions:{onClick:(e,t)=>{if(!r)return;let l=prompt("수식을 수정하세요:",e.attrs.latex);null!==l&&r.chain().setNodeSelection(t).updateBlockMath({latex:l}).focus().run()}},katexOptions:{throwOnError:!1,macros:{"\\R":"\\mathbb{R}","\\N":"\\mathbb{N}","\\Z":"\\mathbb{Z}","\\Q":"\\mathbb{Q}","\\C":"\\mathbb{C}"}}}),p.Z,C.E,c.Q1,c.xJ,s._0,s.L2.configure({nested:!0}),h.f4.configure({multicolor:!0}),u.LN,a._V.configure({allowBase64:!0}),en.configure({accept:"image/*",maxSize:5242880,limit:3,upload:F,onError:e=>console.error("Upload failed:",e)}),x.p,d.o5,y,ie.A,op.A.configure({lowlight:oC.l,defaultLanguage:"javascript"}),oZ,ir.R0.configure({table:{resizable:!0}}),of.A],r=(0,i.hG)({immediatelyRender:!1,shouldRerenderOnTransaction:!1,editorProps:{attributes:{class:"notion-like-editor"},handlePaste(e,t){var l,n;let r=t.clipboardData;if(!r)return!1;let i=[];if(r.files&&r.files.length>0)for(let e=0;e<r.files.length;e++){let t=r.files[e];t&&(null==(l=t.type)?void 0:l.startsWith("image/"))&&i.push(t)}else if(r.items&&r.items.length>0)for(let e=0;e<r.items.length;e++){let t=r.items[e];if("file"===t.kind){let e=t.getAsFile();e&&(null==(n=e.type)?void 0:n.startsWith("image/"))&&i.push(e)}}return 0!==i.length&&(t.preventDefault(),i.forEach(async t=>{try{var l;let n=await F(t),{state:r}=e,i=r.schema.nodes.image.create({src:n,alt:(null==(l=t.name)?void 0:l.replace(/\.[^/.]+$/,""))||"image",title:t.name||"image"}),o=r.tr.replaceSelectionWith(i).scrollIntoView();e.dispatch(o)}catch(e){console.error("Paste image upload failed:",e)}}),!0)}},extensions:l});return r?(0,n.jsx)("div",{className:"notion-like-editor-wrapper",children:(0,n.jsx)(i.pl.Provider,{value:{editor:r},children:(0,n.jsx)(oU,{})})}):(0,n.jsx)(o_,{})}function oD(e){let{room:t,placeholder:l="Start writing..."}=e;return(0,n.jsx)(r$,{children:(0,n.jsx)(rq,{children:(0,n.jsx)(r6,{room:t,children:(0,n.jsx)(oF,{placeholder:l})})})})}function oF(e){let{placeholder:t}=e,{provider:l,hasCollab:i}=(()=>{let e=r.useContext(r3);if(!e)throw Error("useCollab must be used within an CollabProvider");return e})(),{aiToken:o,hasAi:a}=(()=>{let e=r.useContext(r8);if(!e)throw Error("useAi must be used within an AiProvider");return e})();return i&&!l||a&&!o?(0,n.jsx)(o_,{}):(0,n.jsx)(oP,{placeholder:t,aiToken:o})}l(5106),oC.l.registerLanguage("css",ox.A),oC.l.registerLanguage("js",og.A),oC.l.registerLanguage("javascript",og.A),oC.l.registerLanguage("jsx",og.A),oC.l.registerLanguage("ts",ov.A),oC.l.registerLanguage("tsx",ov.A),oC.l.registerLanguage("typescript",ov.A),oC.l.registerLanguage("json",ow.A),oC.l.registerLanguage("html",om.A),oC.l.registerLanguage("xml",om.A),oC.l.registerLanguage("python",ob.A),oC.l.registerLanguage("cpp",oj.A),oC.l.registerLanguage("c",oL.A),oC.l.registerLanguage("java",oy.A),oC.l.registerLanguage("csharp",ok.A),oC.l.registerLanguage("sql",oN.A),oC.l.registerLanguage("bash",oE.A),oC.l.registerLanguage("markdown",oA.A),oC.l.registerLanguage("php",oS.A),oC.l.registerLanguage("ruby",oR.A),oC.l.registerLanguage("scss",oM.A),oC.l.registerLanguage("less",oI.A),oC.l.registerLanguage("go",oH.A),oC.l.registerLanguage("rust",oT.A),oC.l.registerLanguage("swift",oB.A),oC.l.registerLanguage("kotlin",oV.A)},1516:()=>{},1585:()=>{},1871:()=>{},1999:()=>{},2078:()=>{},2100:()=>{},2256:()=>{},2392:()=>{},2656:(e,t,l)=>{Promise.resolve().then(l.bind(l,1085))},2948:()=>{},3392:()=>{},4202:()=>{},4892:()=>{},5106:()=>{},5638:()=>{},5654:()=>{},5736:()=>{},5908:()=>{},6186:()=>{},6604:()=>{},7516:()=>{},8080:()=>{},8164:()=>{},8336:()=>{},8428:()=>{},8704:()=>{},8922:()=>{},8993:()=>{},9054:()=>{},9162:()=>{},9260:()=>{},9926:()=>{},9998:()=>{}},e=>{e.O(0,[55,375,4,330,109,277,545,703,441,964,358],()=>e(e.s=2656)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{4481:()=>{},41270:()=>{},49494:(e,t,n)=>{Promise.resolve().then(n.bind(n,82649))},82649:(e,t,n)=>{"use strict";n.d(t,{NotionEditorDev:()=>tF});var l=n(95155),i=n(12115),s=n(75109),a=n(83490),r=n(81891),o=n(17148),c=n(66377),u=n(54548),d=n(50099),h=n(4652),g=n(27192),p=n(24927),x=n(84109),m=n(87058),j=n(70504),b=n(16938),f=n(54643),v=n(3454),y=n(49020),w=n(55892);n(89054),n(68922),n(15736),n(49998),n(6604),n(9162),n(32078);var k=n(34078),_=n(85750),C=n(84945),A=n(52571),L=n(9518),I=n(75783),R=n(68447),E=n(9552);let S=e=>{let{editor:t,floatingOptions:n,selector:s="tiptap-suggestion-menu",children:a,maxHeight:r=384,pluginKey:o=E.X3,...c}=e,{editor:u}=(0,R.l)(t),[d,h]=i.useState(!1),[g,p]=i.useState(null),[x,m]=i.useState(null),[j,b]=i.useState([]),[f,v]=i.useState(""),[,y]=i.useState(null),{ref:w,style:k,getFloatingProps:_,isMounted:S}=(0,L.K)(d,g,1e3,{placement:"bottom-start",middleware:[(0,C.cY)(10),(0,C.UU)({mainAxis:!0,crossAxis:!1}),(0,C.BN)(),(0,C.Ej)({apply(e){let{availableHeight:t,elements:n}=e;if(n.floating){let e=r?Math.min(r,t):t;n.floating.style.setProperty("--suggestion-menu-max-height","".concat(e,"px"))}}})],onOpenChange(e){e||h(!1)},...n}),N=i.useRef(c);i.useEffect(()=>{N.current=c},[c]);let M=i.useCallback(()=>{h(!1)},[]);i.useEffect(()=>{if(!u||u.isDestroyed)return;u.state.plugins.find(e=>e.spec.key===o)&&u.unregisterPlugin(o);let e=(0,E.V0)({pluginKey:o instanceof A.hs?o:new A.hs(o),editor:u,command(e){var t,n;let{editor:l,range:i,props:s}=e;if(!i)return;let{view:a,state:r}=l,{selection:o}=r;if(!l.extensionManager.extensions.some(e=>{var t,n;return"mention"===e.name&&(null==(n=e.options)||null==(t=n.suggestion)?void 0:t.char)===N.current.char})){let e=o.$from.pos,t=null==(n=o.$head)?void 0:n.nodeBefore,l=t?function(e,t,n){if(!(null==t?void 0:t.text)||!n)return e;let l=t.text,i=l.lastIndexOf(n);return -1===i?e:e-l.substring(i).length}(e,t,N.current.char):o.$from.start(),i=r.tr.deleteRange(l,e);a.dispatch(i)}let c=a.state.selection.$to.nodeAfter,u=null==c||null==(t=c.text)?void 0:t.startsWith(" "),d={...i};u&&(d.to+=1),s.onSelect({editor:l,range:d,context:s.context})},render:()=>({onStart:e=>{var t,n;m(()=>e.command),b(e.items),v(e.query),y(e.range),p(null!=(n=null==(t=e.clientRect)?void 0:t.call(e))?n:null),h(!0)},onUpdate:e=>{var t,n;m(()=>e.command),b(e.items),v(e.query),y(e.range),p(null!=(n=null==(t=e.clientRect)?void 0:t.call(e))?n:null)},onKeyDown:e=>"Escape"===e.event.key&&(M(),!0),onExit:()=>{m(null),b([]),v(""),y(null),p(null),h(!1)}}),...N.current});return u.registerPlugin(e),()=>{u.isDestroyed||u.unregisterPlugin(o)}},[u,o,M]);let H=i.useCallback(e=>{M(),x&&x(e)},[M,x]),{selectedIndex:U}=(0,I.X)({editor:u,query:f,items:j,onSelect:H});return S&&d&&u?(0,l.jsx)("div",{ref:w,style:k,..._(),"data-selector":s,className:"tiptap-suggestion-menu",role:"listbox","aria-label":"Suggestions",children:a({items:j,selectedIndex:U,onSelect:H})}):null};var N=n(590),M=n(70842),H=n(9460),U=n(8562),O=n(51560),B=n(20887),V=n(45479),q=n(1944),G=n(57390),T=n(74927),$=n(94785),z=n(78487),F=n(55984),Y=n(79432),Q=n(34161),P=n(78156),W=n(5069);async function K(e){let{url:t,apiKey:n,body:l,signal:i}=e;if(!t)throw Error("Lambda URL is not configured");let s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:"Bearer ".concat(n)}:{}},body:JSON.stringify(null!=l?l:{}),signal:i});if(!s.ok){let e=await s.text().catch(()=>"");throw Error("Lambda error ".concat(s.status,": ").concat(e))}return await s.json()}var X=n(49509);async function D(e,t){let n=(null==t?void 0:t.url)||X.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",l=n.includes("?")?"".concat(n,"&mode=1"):"".concat(n,"?mode=1"),i=(null==t?void 0:t.apiKey)||X.env.NEXT_PUBLIC_AI_API_KEY||null;return await K({url:l,apiKey:i,body:e,signal:null==t?void 0:t.signal})}var Z=n(49509);async function J(e,t){let n=(null==t?void 0:t.url)||Z.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",l=n.includes("?")?"".concat(n,"&mode=3"):"".concat(n,"?mode=3"),i=(null==t?void 0:t.apiKey)||Z.env.NEXT_PUBLIC_AI_API_KEY||null;return await K({url:l,apiKey:i,body:e,signal:null==t?void 0:t.signal})}var ee=n(20766),et=n(86921),en=n(49509);let el={one_line_summary:{title:"한줄 요약",subtext:"Generate a one-line summary of the current page",aliases:["한줄","요약","summary","ai","one line summary"],badge:T.z,group:"hiaryAI"},three_line_summary:{title:"세줄 요약",subtext:"Generate a three-line summary of the current page",aliases:["세줄","요약","summary","ai","three line summary"],badge:T.z,group:"hiaryAI"},img_2_math_eq:{title:"수식 이미지 변환",subtext:"Convert math image to LaTeX",aliases:["수식","이미지","변환","math","image","convert"],badge:T.z,group:"hiaryAI"},text:{title:"Text",subtext:"Regular text paragraph",aliases:["p","paragraph","text"],badge:z.s,group:"Style"},heading_1:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],badge:M.W,group:"Style"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],badge:H.k,group:"Style"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],badge:U.S,group:"Style"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],badge:B.k,group:"Style"},ordered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],badge:V.d,group:"Style"},task_list:{title:"To-do list",subtext:"List with tasks",aliases:["tasklist","task list","todo","checklist"],badge:G.k,group:"Style"},quote:{title:"Blockquote",subtext:"Blockquote block",aliases:["quote","blockquote"],badge:q.h,group:"Style"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],badge:N.I,group:"Style"},mention:{title:"Mention",subtext:"Mention a user or item",aliases:["mention","user","item","tag"],badge:F.e,group:"Insert"},emoji:{title:"Emoji",subtext:"Insert an emoji",aliases:["emoji","emoticon","smiley"],badge:Y.y,group:"Insert"},divider:{title:"Separator",subtext:"Horizontal line to separate content",aliases:["hr","horizontalRule","line","separator"],badge:$.Q,group:"Insert"},inline_math:{title:"인라인 수식",subtext:"텍스트 중간에 수식 삽입",aliases:["math","latex","formula","equation","inline"],badge:Q.V,group:"Insert"},block_math:{title:"블록 수식",subtext:"독립된 블록으로 수식 삽입",aliases:["math","latex","formula","equation","block"],badge:Q.V,group:"Insert"},table:{title:"테이블",subtext:"3x3 테이블 삽입",aliases:["TableKit"],badge:Q.V,group:"Insert"},table_add_row:{title:"행 추가(아래)",subtext:"현재 행 아래에 새 행을 추가",aliases:["row","add row","행 추가"],badge:Q.V,group:"Insert"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],badge:O.x,group:"Upload"}};function ei(e){var t;let{state:n}=e,{doc:l}=n,i=l.toJSON(),s="dev-user",a="dev-post";return{doc:i,fetchLinks:"auto",links:[],meta:{userId:s=window.localStorage.getItem("_tiptap_user_id")||s,postId:a=(null==(t=window.location)?void 0:t.pathname)||a}}}var es=n(60548),ea=n(79153),er=n(64108);n(41270);let eo=e=>{let{config:t,...n}=e,{getSlashMenuItems:s}=function(e){return{getSlashMenuItems:i.useCallback(t=>{let n=[],l=(null==e?void 0:e.enabledItems)||Object.keys(el),i=(null==e?void 0:e.showGroups)!==!1,s={one_line_summary:{check:e=>{let{hasContent:t}=(0,W.Ni)(e);return t},action:e=>{let{editor:t}=e;try{let e=ei(t);(async()=>{let n=en.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",l=await D(e,{url:n}),i=(Array.isArray(null==l?void 0:l.summary)?l.summary:[])[0]||"";i&&t.chain().focus().insertContent(i).run()})()}catch(e){console.error("one_line_summary failed",e)}}},three_line_summary:{check:e=>{let{hasContent:t}=(0,W.Ni)(e);return t},action:e=>{let{editor:t}=e;try{let e=ei(t);(async()=>{let n=en.env.NEXT_PUBLIC_AI_SUMMARY_URL||"https://lo36a3z6gcw4f6dl2s23bqmlaq0wykkh.lambda-url.ap-northeast-2.on.aws/",l=await J(e,{url:n}),i=Array.isArray(null==l?void 0:l.summary)?l.summary:[];i.length&&t.chain().focus().insertContent(i.join("\n\n")).run()})()}catch(e){console.error("three_line_summary failed",e)}}},img_2_math_eq:{check:()=>!0,action:()=>{try{window.dispatchEvent(new Event("open-dev-ai-menu"))}catch(e){}}},text:{check:e=>(0,P.HR)("paragraph",e),action:e=>{let{editor:t}=e;t.chain().focus().setParagraph().run()}},heading_1:{check:e=>(0,P.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:1}).run()}},heading_2:{check:e=>(0,P.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:2}).run()}},heading_3:{check:e=>(0,P.HR)("heading",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleHeading({level:3}).run()}},bullet_list:{check:e=>(0,P.HR)("bulletList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBulletList().run()}},ordered_list:{check:e=>(0,P.HR)("orderedList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleOrderedList().run()}},task_list:{check:e=>(0,P.HR)("taskList",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleTaskList().run()}},quote:{check:e=>(0,P.HR)("blockquote",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleBlockquote().run()}},code_block:{check:e=>(0,P.HR)("codeBlock",e),action:e=>{let{editor:t}=e;t.chain().focus().toggleNode("codeBlock","paragraph").run()}},mention:{check:e=>(0,P.xU)(e,["mention","mentionAdvanced"]),action:e=>{let{editor:t}=e;return(0,et.O3)(t)}},emoji:{check:e=>(0,P.xU)(e,["emoji","emojiPicker"]),action:e=>{let{editor:t}=e;return(0,ee.cw)(t)}},divider:{check:e=>(0,P.HR)("horizontalRule",e),action:e=>{let{editor:t}=e;t.chain().focus().setHorizontalRule().run()}},inline_math:{check:e=>(0,P.xU)(e,["Mathematics","inlineMath"]),action:e=>{let{editor:t}=e,n=new CustomEvent("open-math-modal",{detail:{type:"inline",editor:t}});window.dispatchEvent(n)}},block_math:{check:e=>(0,P.xU)(e,["Mathematics","blockMath"]),action:e=>{let{editor:t}=e,n=new CustomEvent("open-math-modal",{detail:{type:"block",editor:t}});window.dispatchEvent(n)}},table:{check:e=>(0,P.HR)("table",e),action:e=>{let{editor:t}=e;t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}},table_add_row:{check:e=>e.isActive("table"),action:e=>{let{editor:t}=e;t.chain().focus().addRowAfter().run()}},image:{check:e=>(0,P.HR)("image",e),action:e=>{let{editor:t}=e;t.chain().focus().insertContent({type:"imageUpload"}).run()}}};l.forEach(l=>{let a=s[l],r=el[l];if(a&&r&&a.check(t)){var o;let t={onSelect:e=>{let{editor:t}=e;return a.action({editor:t})},...r};(null==e||null==(o=e.itemGroups)?void 0:o[l])?t.group=e.itemGroups[l]:i||(t.group=""),n.push(t)}}),(null==e?void 0:e.customItems)&&n.push(...e.customItems);if(!i)return n.map(e=>({...e,group:""}));let a={};n.forEach(e=>{let t=e.group||"";a[t]||(a[t]=[]),a[t].push(e)});let r=[];return Object.entries(a).forEach(e=>{let[,t]=e;r.push(...t)}),r},[e]),config:e}}(t),[a,r]=i.useState(!1);return i.useEffect(()=>{let e=()=>r(document.body.classList.contains("code-dark"));e();let t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,l.jsx)(S,{char:"/",pluginKey:"slashDropdownMenu",decorationClass:"tiptap-slash-decoration",decorationContent:"Filter...",selector:"tiptap-slash-dropdown-menu",items:e=>{let{query:t,editor:n}=e;return function(e,t){let n=t.trim().toLowerCase();return n?e.filter(e=>{var t,l;return!!(e.title.toLowerCase().includes(n)||(null==(t=e.subtext)?void 0:t.toLowerCase().includes(n))||(null==(l=e.keywords)?void 0:l.some(e=>e.toLowerCase().includes(n))))}).sort((e,t)=>{let l=e.title.toLowerCase(),i=t.title.toLowerCase();return l===n&&i!==n?-1:i===n&&l!==n?1:l.startsWith(n)&&!i.startsWith(n)?-1:i.startsWith(n)&&!l.startsWith(n)?1:0}):e}(s(n),t)},...n,children:e=>(0,l.jsx)(eu,{...e,config:t,isDark:a})})},ec=e=>{let{item:t,isSelected:n,onSelect:s,isDark:a}=e,r=i.useRef(null),[o,c]=i.useState(!1);i.useEffect(()=>{let e=document.querySelector('[data-selector="tiptap-slash-dropdown-menu"]');if(!r.current||!n||!e)return;let t=(0,_.aI)(r.current,e);"top"===t?r.current.scrollIntoView(!0):"bottom"===t&&r.current.scrollIntoView(!1)},[n]);let u=t.badge,d=a?o?"#000000":"#ffffff":void 0;return(0,l.jsxs)(es.$n,{ref:r,"data-style":"ghost","data-active-state":n?"on":"off",onClick:s,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{color:d},children:[u&&(0,l.jsx)(u,{className:"tiptap-button-icon",style:{color:d,fill:d}}),(0,l.jsx)("div",{className:"tiptap-button-text",style:{color:d},children:t.title})]})},eu=e=>{let{items:t,selectedIndex:n,onSelect:s,config:a,isDark:r}=e,o=i.useMemo(()=>{let e=[];if((null==a?void 0:a.showGroups)===!1)return t.forEach((t,i)=>{e.push((0,l.jsx)(ec,{item:t,isSelected:i===n,onSelect:()=>s(t),isDark:r},"item-".concat(i,"-").concat(t.title)))}),e;let i={};return t.forEach((e,t)=>{let n=e.group||"";i[n]||(i[n]={items:[],indices:[]}),i[n].items.push(e),i[n].indices.push(t)}),Object.entries(i).forEach((t,i)=>{let[a,o]=t;i>0&&e.push((0,l.jsx)(ea.w,{orientation:"horizontal"},"separator-".concat(i)));let c=o.items.map((e,t)=>{let i=o.indices[t];return(0,l.jsx)(ec,{item:e,isSelected:i===n,onSelect:()=>s(e),isDark:r},"item-".concat(i,"-").concat(e.title))});a?e.push((0,l.jsxs)(er.Vt,{children:[(0,l.jsx)(er.kF,{style:{color:r?"#8b949e":void 0},children:a}),(0,l.jsx)(es.e2,{children:c})]},"group-".concat(i,"-").concat(a))):e.push(...c)}),e},[t,n,s,null==a?void 0:a.showGroups,r]);return o.length?(0,l.jsx)(er.Zp,{className:"tiptap-slash-card",style:{maxHeight:"var(--suggestion-menu-max-height)",backgroundColor:r?"#1e1e1e":void 0,borderColor:r?"#30363d":void 0,color:r?"#c9d1d9":void 0},children:(0,l.jsx)(er.bw,{className:"tiptap-slash-card-body",style:{color:r?"#c9d1d9":void 0},children:o})}):null};var ed=n(98234),eh=n(82268),eg=n(98418),ep=n(55250);let ex=i.createContext(null),em={isOpen:!1,tone:void 0,language:"en",shouldShowInput:!0,inputIsFocused:!1,fallbackAnchor:{element:null,rect:null}};function ej(e){let{children:t}=e,{value:n,AiMenuStateContext:s}=function(){let[e,t]=i.useState(em),n=i.useCallback(e=>{t(t=>({...t,...e}))},[]),l=i.useCallback((e,t)=>{let l=t||(null==e?void 0:e.getBoundingClientRect())||null;n({fallbackAnchor:{element:e,rect:l}})},[n]),s=i.useCallback(()=>{t(em),document.querySelectorAll('[data-fallback-anchor="true"]').forEach(e=>e.remove())},[]);return{value:i.useMemo(()=>({state:e,updateState:n,setFallbackAnchor:l,reset:s}),[e,n,l,s]),AiMenuStateContext:ex}}();return(0,l.jsx)(s.Provider,{value:n,children:t})}function eb(e){let{editor:t}=e,n=null!=t?t:null,{state:s,updateState:a,setFallbackAnchor:r,reset:o}=function(){let e=i.useContext(ex);if(!e)throw Error("useAiMenuState must be used within an AiMenuStateProvider");return e}(),{show:c,store:u}=(0,eh.w6)();return(i.useEffect(()=>{let e=e=>{var t;let l=(null==n||null==(t=n.view)?void 0:t.dom)||document.body,i=l.getBoundingClientRect();r(l,i),a({isOpen:!0}),c(l)},t=e=>{a({isOpen:!1}),o(),null==u||u.hideAll()};return window.addEventListener("open-dev-ai-menu",e),window.addEventListener("close-dev-ai-menu",t),()=>{window.removeEventListener("open-dev-ai-menu",e),window.removeEventListener("close-dev-ai-menu",t)}},[n,r,a,o,c,u]),s.isOpen)?(0,l.jsx)(eh.W1,{open:s.isOpen,placement:"bottom-start",store:u,children:(0,l.jsx)(eh.rm,{className:"tiptap-ai-menu",flip:!1,children:(0,l.jsx)(ep.Zp,{children:(0,l.jsxs)(eg.ex,{children:[(0,l.jsx)("button",{className:"tiptap-button",type:"button",children:(0,l.jsx)("span",{className:"tiptap-button-text",children:"Image to LaTeX"})}),(0,l.jsx)("button",{className:"tiptap-button",type:"button",children:(0,l.jsx)("span",{className:"tiptap-button-text",children:"한줄 요약"})}),(0,l.jsx)("button",{className:"tiptap-button",type:"button",children:(0,l.jsx)("span",{className:"tiptap-button-text",children:"세줄 요약"})})]})})})}):null}function ef(e){let{editor:t}=e;return(0,l.jsx)(ej,{children:(0,l.jsx)(eb,{editor:t})})}n(48336),n(2967),n(4793),n(64277),n(70905),n(92511),n(12038),n(92870);var ev=n(5392),ey=n(91047),ew=n(56280);n(52759),n(31699),n(18993);var ek=n(51033);n(3328),n(56723),n(84782),n(63071),n(39421),n(61218),n(96797),n(58058);var e_=n(77886),eC=n(44291),eA=n(56006),eL=n(98816),eI=n(69290),eR=n(16347),eE=n(24106),eS=n(64825),eN=n(58006);n(4481),n(48080);var eM=n(87691),eH=n(68373),eU=n(88682),eO=n(25736),eB=n(48916),eV=n(98249),eq=n(41200),eG=n(62051),eT=n(85142),e$=n(39915),ez=n(9740),eF=n(41819),eY=n(51277),eQ=n(78116),eP=n(53344),eW=n(37030),eK=n(37040),eX=n(47704),eD=n(88007),eZ=n(44350),eJ=n(80999),e0=n(69386),e1=n(29630),e2=n(64187),e4=n(51963),e9=n(62520),e3=n(376);let e8={MAIN:"main",HIGHLIGHTER:"highlighter",LINK:"link"};function e7(){return(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eG.Hc,{align:"left"}),(0,l.jsx)(eG.Hc,{align:"center"}),(0,l.jsx)(eG.Hc,{align:"right"}),(0,l.jsx)(eG.Hc,{align:"justify"})]})}function e6(){return(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eq.GY,{type:"superscript"}),(0,l.jsx)(eq.GY,{type:"subscript"})]})}function e5(){return(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eq.GY,{type:"bold"}),(0,l.jsx)(eq.GY,{type:"italic"}),(0,l.jsx)(eq.GY,{type:"strike"}),(0,l.jsx)(eq.GY,{type:"code"})]})}function te(){let{recentColors:e,isInitialized:t,addRecentColor:n}=(0,eQ.ZZ)();return(0,l.jsxs)(ew.lv,{children:[(0,l.jsx)(ew.nV,{asChild:!0,children:(0,l.jsxs)(es.$n,{"data-style":"ghost",children:[(0,l.jsx)(eZ.M,{className:"tiptap-button-icon"}),(0,l.jsx)("span",{className:"tiptap-button-text",children:"Color"}),(0,l.jsx)(ev.h,{}),(0,l.jsx)(ek.v,{className:"tiptap-button-icon"})]})}),(0,l.jsx)(ew.dc,{children:(0,l.jsx)(ew.M5,{children:(0,l.jsx)(er.Zp,{children:(0,l.jsxs)(er.bw,{children:[t&&0!==e.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(er.Vt,{children:[(0,l.jsx)(er.kF,{children:"Recent colors"}),(0,l.jsx)(es.e2,{children:e.map(e=>(0,l.jsx)(ew._2,{asChild:!0,children:"text"===e.type?(0,l.jsx)(eP.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:l}=e;return n({type:"text",label:l,value:t})}}):(0,l.jsx)(eW.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:l}=e;return n({type:"highlight",label:l,value:t})}})},"".concat(e.type,"-").concat(e.value)))})]}),(0,l.jsx)(ea.w,{orientation:"horizontal"})]}):null,(0,l.jsxs)(er.Vt,{children:[(0,l.jsx)(er.kF,{children:"Text color"}),(0,l.jsx)(es.e2,{children:eP.VF.map(e=>(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(eP.xX,{textColor:e.value,label:e.label,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:l}=e;return n({type:"text",label:l,value:t})}})},e.value))})]}),(0,l.jsx)(ea.w,{orientation:"horizontal"}),(0,l.jsxs)(er.Vt,{children:[(0,l.jsx)(er.kF,{children:"Highlight color"}),(0,l.jsx)(es.e2,{children:eW.um.map(e=>(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(eW.Yt,{highlightColor:e.value,text:e.label,tooltip:e.label,onApplied:e=>{let{color:t,label:l}=e;return n({type:"highlight",label:l,value:t})}})},e.value))})]})]})})})})]})}function tt(){return(0,l.jsxs)(ew.lv,{children:[(0,l.jsx)(ew.nV,{asChild:!0,children:(0,l.jsxs)(es.$n,{"data-style":"ghost",children:[(0,l.jsx)(eJ.h,{className:"tiptap-button-icon"}),(0,l.jsx)("span",{className:"tiptap-button-text",children:"Turn into"}),(0,l.jsx)(ev.h,{}),(0,l.jsx)(ek.v,{className:"tiptap-button-icon"})]})}),(0,l.jsx)(ew.M5,{children:(0,l.jsx)(eY.yF,{})})]})}function tn(e){let{editor:t}=e,{hasAnyActionGroups:n,hasColorActions:i,hasTransformActions:s,hasResetFormatting:a}=(0,ed.T)(t),r=(0,eM.a)();return(0,l.jsx)(er.Zp,{children:(0,l.jsxs)(er.bw,{children:[(0,l.jsxs)(er.Vt,{children:[(0,l.jsx)(er.kF,{children:(0,_.KW)(t)}),(0,l.jsxs)(es.e2,{children:[i&&(0,l.jsx)(te,{}),s&&(0,l.jsx)(tt,{}),a&&(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(e$.a6,{text:"Reset formatting"})})]})]}),n&&(0,l.jsx)(ea.w,{orientation:"horizontal"}),(0,l.jsxs)(es.e2,{children:[(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(eX.UM,{text:"Duplicate node",showShortcut:!r})}),(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(eD.TN,{text:"Copy to clipboard",showShortcut:!r})})]}),(0,l.jsx)(ea.w,{orientation:"horizontal"}),(0,l.jsx)(es.e2,{children:(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(eK.mG,{text:"Ask AI",showShortcut:!r})})}),(0,l.jsx)(ea.w,{orientation:"horizontal"}),(0,l.jsx)(es.e2,{children:(0,l.jsx)(ew._2,{asChild:!0,children:(0,l.jsx)(ez.GJ,{text:"Delete",showShortcut:!r})})})]})})}function tl(e){let{editor:t}=e;return(0,l.jsxs)(ew.rI,{children:[(0,l.jsx)(ew.ty,{asChild:!0,children:(0,l.jsx)(es.$n,{"data-style":"ghost","data-appearance":"subdued",children:(0,l.jsx)(e4.F,{className:"tiptap-button-icon"})})}),(0,l.jsx)(ew.SQ,{portal:!0,children:(0,l.jsx)(tn,{editor:t})})]})}function ti(e){let{view:t,isMobile:n,onViewChange:s}=e,a=t.id;return n?t.mobileButton?i.cloneElement(t.mobileButton(()=>s(a)),{key:t.id}):(0,l.jsx)(es.$n,{onClick:()=>s(a),children:t.icon},t.id):t.desktopComponent?i.cloneElement(t.desktopComponent,{key:t.id}):null}function ts(e){let{toolbarViews:t,isMobile:n,onViewChange:i}=e;return(0,l.jsx)(l.Fragment,{children:Object.values(t).map(e=>(0,l.jsx)(ti,{view:e,isMobile:n,onViewChange:i},e.id))})}function ta(e){let{editor:t,isMobile:n,toolbarViews:i,onViewChange:s}=e,a=function(e){if(!e||!e.isEditable)return!1;let{selection:t}=e.state;return!t.empty}(t);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eT.lm,{}),(0,l.jsx)(tl,{editor:t})]}),(0,l.jsx)(ey.lR,{}),(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(e3.uC,{direction:"down"}),(0,l.jsx)(e3.uC,{direction:"up"})]}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.lR,{}),(0,l.jsx)(ey.$Q,{children:(0,l.jsx)(eF.md,{portal:!0})}),(0,l.jsx)(ey.lR,{}),(0,l.jsx)(e5,{}),(0,l.jsx)(ey.lR,{}),(0,l.jsx)(ts,{toolbarViews:i,isMobile:n,onViewChange:s}),(0,l.jsx)(ey.lR,{}),(0,l.jsx)(e6,{}),(0,l.jsx)(ey.lR,{}),(0,l.jsx)(e7,{}),(0,l.jsx)(ey.lR,{}),(0,l.jsx)(ey.$Q,{children:(0,l.jsx)(eB.lR,{text:"Add"})})]})]})}function tr(e){let{view:t,onBack:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.$Q,{children:(0,l.jsxs)(es.$n,{"data-style":"ghost",onClick:n,children:[(0,l.jsx)(e0.A,{className:"tiptap-button-icon"}),t.icon]})}),(0,l.jsx)(ey.lR,{fixed:!0}),t.content]})}function to(e){var t,n;let{editor:s}=e,{editor:a}=(0,R.l)(s),r=(0,eM.a)(480),o=i.useRef(null),c=function(e){let[t,n]=i.useState(e8.MAIN);return i.useEffect(()=>{e||t===e8.MAIN||n(e8.MAIN)},[e,t]),{viewId:t,setViewId:n,isMainView:t===e8.MAIN,showMainView:()=>n(e8.MAIN),showView:e=>n(e)}}(r),u=(0,eH.l)(),d=(0,e9.b)(),h=(0,eU.k)({editor:a,overlayHeight:null!=(n=null==(t=o.current)?void 0:t.getBoundingClientRect().height)?n:0}),g=i.useMemo(()=>({[e8.HIGHLIGHTER]:{id:e8.HIGHLIGHTER,title:"Text Highlighter",icon:(0,l.jsx)(e1.F,{className:"tiptap-button-icon"}),content:(0,l.jsx)(eO.kY,{}),mobileButton:e=>(0,l.jsx)(eO.Hl,{onClick:e}),desktopComponent:(0,l.jsx)(eO.Fy,{})},[e8.LINK]:{id:e8.LINK,title:"Link Editor",icon:(0,l.jsx)(e2.q,{className:"tiptap-button-icon"}),content:(0,l.jsx)(eV.s8,{}),mobileButton:e=>(0,l.jsx)(eV.z9,{onClick:e}),desktopComponent:(0,l.jsx)(eV.Op,{})}}),[]),p=c.isMainView?null:g[c.viewId];return r&&a&&a.isEditable?(0,l.jsx)(ey.M7,{ref:o,style:{...d&&r?{opacity:0,transition:"opacity 0.1s ease-in-out"}:{},...r?{bottom:"calc(100% - ".concat(u.height-h.y,"px)")}:{}},children:c.isMainView?(0,l.jsx)(ta,{editor:a,isMobile:r,toolbarViews:g,onViewChange:c.showView}):p&&(0,l.jsx)(tr,{view:p,onBack:c.showMainView})}):null}var tc=n(4701),tu=n(10889),td=n(12467),th=n(91069);function tg(){let{editor:e}=(0,R.l)(),t=(0,eM.a)(480),{lockDragHandle:n,aiGenerationActive:s,commentInputVisible:a}=(0,f.W)(e),[r,o]=i.useState(!1);return(i.useEffect(()=>{if(!e)return;let t=()=>{let{state:t}=e,{selection:n}=t,l=(0,_.$9)(e,n)&&(!(0,tc.BQ)(n)||(0,tc.BQ)(n)&&"image"===n.node.type.name);if(a||s)return void o(!1);o(l)};return t(),e.on("selectionUpdate",t),()=>{e.off("selectionUpdate",t)}},[e,s,a]),n||t)?null:(0,l.jsx)(th.L,{shouldShow:r,children:(0,l.jsxs)(ey.M7,{variant:"floating",children:[(0,l.jsx)(ey.$Q,{}),(0,l.jsx)(ey.lR,{fixed:!0}),(0,l.jsx)(ey.$Q,{children:(0,l.jsx)(eY.TX,{hideWhenUnavailable:!0})}),(0,l.jsx)(ey.lR,{}),(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eq.GY,{type:"bold",hideWhenUnavailable:!0}),(0,l.jsx)(eq.GY,{type:"italic",hideWhenUnavailable:!0}),(0,l.jsx)(eq.GY,{type:"strike",hideWhenUnavailable:!0}),(0,l.jsx)(eq.GY,{type:"code",hideWhenUnavailable:!0})]}),(0,l.jsx)(ey.lR,{}),(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eV.Op,{autoOpenOnLinkActive:!1,hideWhenUnavailable:!0}),(0,l.jsx)(eQ.iS,{hideWhenUnavailable:!0}),(0,l.jsx)(tu.v,{editor:e})]}),(0,l.jsx)(tp,{hideWhenUnavailable:!0})]})})}function tp(e){let{editor:t,hideWhenUnavailable:n=!1,...s}=e,{editor:a}=(0,R.l)(t),[r,o]=i.useState(!1);return(i.useEffect(()=>{if(!a)return;let e=()=>{o(function(e){let{editor:t,hideWhenUnavailable:n}=e;if(!t)return!1;if(n&&!t.isActive("code")){if(!t)return!1;let e=["left","center","right","justify"].some(e=>(0,eG.Xd)(t,e));return["superscript","subscript"].some(e=>(0,eq.sT)(t,e))||e}return!!(null==t?void 0:t.isEditable)}({editor:a,hideWhenUnavailable:n}))};return e(),a.on("selectionUpdate",e),()=>{a.off("selectionUpdate",e)}},[a,n]),r&&a&&a.isEditable)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.lR,{}),(0,l.jsx)(ey.$Q,{children:(0,l.jsxs)(td.AM,{children:[(0,l.jsx)(td.Wv,{asChild:!0,children:(0,l.jsx)(es.$n,{type:"button","data-style":"ghost",role:"button",tabIndex:-1,tooltip:"More options",...s,children:(0,l.jsx)(e4.F,{className:"tiptap-button-icon"})})}),(0,l.jsx)(td.hl,{side:"top",align:"end",alignOffset:4,sideOffset:4,asChild:!0,children:(0,l.jsxs)(ey.M7,{variant:"floating",tabIndex:0,children:[(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eq.GY,{type:"superscript"}),(0,l.jsx)(eq.GY,{type:"subscript"})]}),(0,l.jsx)(ey.lR,{}),(0,l.jsxs)(ey.$Q,{children:[(0,l.jsx)(eG.Hc,{align:"left"}),(0,l.jsx)(eG.Hc,{align:"center"}),(0,l.jsx)(eG.Hc,{align:"right"}),(0,l.jsx)(eG.Hc,{align:"justify"})]}),(0,l.jsx)(ey.lR,{})]})})]})})]}):null}var tx=n(8793),tm=n(46833);n(99067);var tj=n(73007),tb=n(54923),tf=n(73709),tv=n(28033),ty=n(5625),tw=n(78084),tk=n(44691),t_=n(82348),tC=n(26278),tA=n(2091),tL=n(78273),tI=n(29514),tR=n(90528),tE=n(63859),tS=n(91870),tN=n(65166),tM=n(11882),tH=n(46203),tU=n(18496),tO=n(3312),tB=n(77097),tV=n(82647),tq=n(71776),tG=n(72550);function tT(e){let{text:t="Connecting..."}=e;return(0,l.jsx)("div",{className:"spinner-container",children:(0,l.jsxs)("div",{className:"spinner-content",children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("div",{className:"spinner-loading-text",children:t})]})})}function t$(){let{editor:e}=i.useContext(s.pl),{aiGenerationIsLoading:t,aiGenerationIsSelection:n,aiGenerationHasMessage:a}=(0,f.W)(e),{modalProps:r}=(0,e_.R)(),[o,c]=i.useState({isOpen:!1,content:"",position:null});i.useEffect(()=>{let e=e=>{let{content:t,position:n}=e.detail;c({isOpen:!0,content:t,position:n})};return window.addEventListener("show-paste-modal",e),()=>window.removeEventListener("show-paste-modal",e)},[]);let u=i.useCallback(()=>{c({isOpen:!1,content:"",position:null})},[]);return(i.useEffect(()=>{e&&!t&&n&&a&&(e.commands.resetUiState(),e.commands.setCodeBlock(),e.commands.toggleCodeBlock())},[a,t,n,e]),e)?(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsx)(e_.I,{...r}),(0,l.jsxs)(s.$Z,{editor:e,role:"presentation",className:"notion-like-editor-content",style:{cursor:e.view.dragging?"grabbing":"auto"},spellCheck:!1,children:[(0,l.jsx)(to,{}),(0,l.jsx)(ed.t,{}),(0,l.jsx)(ef,{}),(0,l.jsx)(k.r,{}),(0,l.jsx)(eo,{config:{enabledItems:["one_line_summary","three_line_summary","img_2_math_eq","text","heading_1","heading_2","heading_3","bullet_list","ordered_list","task_list","quote","code_block","mention","emoji","divider","inline_math","block_math","table","table_add_row","image"],showGroups:!0}}),(0,l.jsx)(tg,{}),(0,l.jsx)(eS.U,{editor:e}),(0,l.jsx)(tG.D,{editor:e})]}),(0,l.jsx)(eC.r,{editor:e,isOpen:o.isOpen,onClose:u,pastedContent:o.content,position:o.position})]}):null}function tz(e){let{placeholder:t="Start writing..."}=e,n=[a.W.configure({horizontalRule:!1,dropcursor:{width:2},link:{openOnClick:!1}}),v.d,x.n.configure({types:["heading","paragraph"]}),u.Or.configure({placeholder:t,emptyNodeClass:"is-empty with-slash"}),b.zT.configure({emojis:b.bH.filter(e=>!e.name.includes("regional")),forceFallbackImages:!0}),m.Rs.configure({inlineOptions:{onClick:(e,t)=>{if(!i)return;let n=prompt("수식을 수정하세요:",e.attrs.latex);null!==n&&i.chain().setNodeSelection(t).updateInlineMath({latex:n}).focus().run()}},blockOptions:{onClick:(e,t)=>{if(!i)return;let n=prompt("수식을 수정하세요:",e.attrs.latex);null!==n&&i.chain().setNodeSelection(t).updateBlockMath({latex:n}).focus().run()}},katexOptions:{throwOnError:!1}}),g.Z,p.E,c.Q1,c.xJ,o._0,o.L2.configure({nested:!0}),h.f4.configure({multicolor:!0}),u.LN,r._V,w.t.configure({accept:"image/*",maxSize:P.w3,limit:3,upload:P.f5,onError:e=>console.error("Upload failed:",e)}),j.p,d.o5,y.y,eE.A,tx.A.configure({lowlight:tm.l,defaultLanguage:"javascript"}),tq.Q,eN.R0.configure({table:{resizable:!0}}),tj.A],i=(0,s.hG)({immediatelyRender:!1,shouldRerenderOnTransaction:!1,editorProps:{attributes:{class:"notion-like-editor"}},extensions:n});return i?(0,l.jsx)("div",{className:"notion-like-editor-wrapper",children:(0,l.jsx)(s.pl.Provider,{value:{editor:i},children:(0,l.jsx)(t$,{})})}):(0,l.jsx)(tT,{})}function tF(e){let{room:t,placeholder:n="Start writing..."}=e;return(0,l.jsx)(eL.vu,{children:(0,l.jsx)(eA.Dv,{children:(0,l.jsx)(eI.VK,{room:t,children:(0,l.jsx)(eR.KH,{children:(0,l.jsx)(tY,{placeholder:n})})})})})}function tY(e){let{placeholder:t}=e,{provider:n,hasCollab:i}=(0,eI.Hb)(),{aiToken:s,hasAi:a}=(0,eR.On)();return i&&!n||a&&!s?(0,l.jsx)(tT,{}):(0,l.jsx)(tz,{placeholder:t,aiToken:s})}tm.l.registerLanguage("css",tf.A),tm.l.registerLanguage("js",tv.A),tm.l.registerLanguage("javascript",tv.A),tm.l.registerLanguage("jsx",tv.A),tm.l.registerLanguage("ts",ty.A),tm.l.registerLanguage("tsx",ty.A),tm.l.registerLanguage("typescript",ty.A),tm.l.registerLanguage("json",t_.A),tm.l.registerLanguage("html",tb.A),tm.l.registerLanguage("xml",tb.A),tm.l.registerLanguage("python",tw.A),tm.l.registerLanguage("cpp",tk.A),tm.l.registerLanguage("c",tA.A),tm.l.registerLanguage("java",tC.A),tm.l.registerLanguage("csharp",tL.A),tm.l.registerLanguage("sql",tI.A),tm.l.registerLanguage("bash",tR.A),tm.l.registerLanguage("markdown",tE.A),tm.l.registerLanguage("php",tS.A),tm.l.registerLanguage("ruby",tN.A),tm.l.registerLanguage("scss",tM.A),tm.l.registerLanguage("less",tH.A),tm.l.registerLanguage("go",tU.A),tm.l.registerLanguage("rust",tO.A),tm.l.registerLanguage("swift",tB.A),tm.l.registerLanguage("kotlin",tV.A)}},e=>{e.O(0,[507,525,769,977,76,330,109,375,4,277,545,703,749,441,964,358],()=>e(e.s=49494)),_N_E=e.O()}]);